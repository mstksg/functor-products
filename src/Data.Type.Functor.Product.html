<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="%24con2tag_2iaBkCkmHAg4wk07GHAfHO"><span id="%24con2tag_2yaItqWjSV8DfIGZpsTnPC"></span></span><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes    #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE ConstraintKinds        #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric          #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveTraversable      #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE EmptyCase              #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts       #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances      #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE GADTs                  #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE InstanceSigs           #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE KindSignatures         #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase             #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses  #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes             #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables    #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving     #-}</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications       #-}</span><span>
</span><span id="line-18"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilyDependencies #-}</span><span>
</span><span id="line-19"></span><span class="hs-pragma">{-# LANGUAGE TypeInType             #-}</span><span>
</span><span id="line-20"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators          #-}</span><span>
</span><span id="line-21"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances   #-}</span><span>
</span><span id="line-22"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns           #-}</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- Module      : Data.Type.Functor.Product</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- Copyright   : (c) Justin Le 2018</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- License     : BSD3</span><span>
</span><span id="line-28"></span><span class="hs-comment">--</span><span>
</span><span id="line-29"></span><span class="hs-comment">-- Maintainer  : justin@jle.im</span><span>
</span><span id="line-30"></span><span class="hs-comment">-- Stability   : experimental</span><span>
</span><span id="line-31"></span><span class="hs-comment">-- Portability : non-portable</span><span>
</span><span id="line-32"></span><span class="hs-comment">--</span><span>
</span><span id="line-33"></span><span class="hs-comment">-- Generalized functor products based on lifted 'Foldable's.</span><span>
</span><span id="line-34"></span><span class="hs-comment">--</span><span>
</span><span id="line-35"></span><span class="hs-comment">-- For example, @'Rec' f '[a,b,c]@ from /vinyl/ contains an @f a@, @f b@,</span><span>
</span><span id="line-36"></span><span class="hs-comment">-- and @f c@.</span><span>
</span><span id="line-37"></span><span class="hs-comment">--</span><span>
</span><span id="line-38"></span><span class="hs-comment">-- @'PMaybe' f ('Just a)@ contains an @f a@ and @'PMaybe' f 'Nothing@</span><span>
</span><span id="line-39"></span><span class="hs-comment">-- contains nothing.</span><span>
</span><span id="line-40"></span><span class="hs-comment">--</span><span>
</span><span id="line-41"></span><span class="hs-comment">-- Also provide data types for &quot;indexing&quot; into each foldable.</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Type.Functor.Product</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Classes</span></span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier">FProd</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Shape"><span class="hs-identifier">Shape</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier">PureProd</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#pureShape"><span class="hs-identifier">pureShape</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProdC"><span class="hs-identifier">PureProdC</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier">ReifyConstraintProd</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#AllConstrainedProd"><span class="hs-identifier">AllConstrainedProd</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Functions</span></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#indexProd"><span class="hs-identifier">indexProd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#mapProd"><span class="hs-identifier">mapProd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#foldMapProd"><span class="hs-identifier">foldMapProd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#hmap"><span class="hs-identifier">hmap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#zipProd"><span class="hs-identifier">zipProd</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#imapProd"><span class="hs-identifier">imapProd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#itraverseProd"><span class="hs-identifier">itraverseProd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ifoldMapProd"><span class="hs-identifier">ifoldMapProd</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#generateProd"><span class="hs-identifier">generateProd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#generateProdA"><span class="hs-identifier">generateProdA</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#selectProd"><span class="hs-identifier">selectProd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#indices"><span class="hs-identifier">indices</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#eqProd"><span class="hs-identifier">eqProd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#compareProd"><span class="hs-identifier">compareProd</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><span class="hs-comment">-- *** Over singletons</span></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#indexSing"><span class="hs-identifier">indexSing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#singShape"><span class="hs-identifier">singShape</span></a></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#foldMapSing"><span class="hs-identifier">foldMapSing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ifoldMapSing"><span class="hs-identifier">ifoldMapSing</span></a></span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Instances</span></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Rec</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier">Index</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#withPureProdList"><span class="hs-identifier">withPureProdList</span></a></span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PMaybe"><span class="hs-identifier">PMaybe</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier">IJust</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PEither"><span class="hs-identifier">PEither</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier">IRight</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#NERec"><span class="hs-identifier">NERec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier">NEIndex</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#withPureProdNE"><span class="hs-identifier">withPureProdNE</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier">PTup</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier">ISnd</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier">PIdentity</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IIdentity"><span class="hs-identifier">IIdentity</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#sameIndexVal"><span class="hs-identifier">sameIndexVal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#sameNEIndexVal"><span class="hs-identifier">sameNEIndexVal</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Interfacing with vinyl</span></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#rElemIndex"><span class="hs-identifier">rElemIndex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#indexRElem"><span class="hs-identifier">indexRElem</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#toCoRec"><span class="hs-identifier">toCoRec</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Singletons</span></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIndex"><span class="hs-identifier">SIndex</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIJust"><span class="hs-identifier">SIJust</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIRight"><span class="hs-identifier">SIRight</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SNEIndex"><span class="hs-identifier">SNEIndex</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SISnd"><span class="hs-identifier">SISnd</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIIdentity"><span class="hs-identifier">SIIdentity</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Defunctionalization symbols</span></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ElemSym0"><span class="hs-identifier">ElemSym0</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ElemSym1"><span class="hs-identifier">ElemSym1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ElemSym2"><span class="hs-identifier">ElemSym2</span></a></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ProdSym0"><span class="hs-identifier">ProdSym0</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ProdSym1"><span class="hs-identifier">ProdSym1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ProdSym2"><span class="hs-identifier">ProdSym2</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Classes</span></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Identity</span></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Semigroup</span></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Singletons</span></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Singletons.Decide</span></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Singletons.Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Elem</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ElemSym0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ElemSym1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ElemSym2</span></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Singletons.Prelude.Foldable</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Elem</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ElemSym0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ElemSym1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ElemSym2</span></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Singletons.Prelude.Identity</span></span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Vinyl</span></span><span> </span><span class="hs-keyword">hiding</span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(:~:)</span></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Vinyl.CoRec</span></span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(:*:)</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Lens.Micro</span></span><span> </span><span class="hs-keyword">hiding</span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(%~)</span></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Lens.Micro.Extras</span></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Unsafe.Coerce</span></span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Singletons.Prelude.List.NonEmpty</span></span><span>   </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NE</span></span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span>                               </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vinyl.Functor</span></span><span>                      </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vinyl.TypeLevel</span></span><span>                    </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span id="local-6989586621679291330"><span class="annot"><a href="Data.Type.Functor.Product.html#fmapIdent"><span class="hs-identifier hs-type">fmapIdent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fmap</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IdSym0</span></span><span> </span><span class="annot"><a href="#local-6989586621679291330"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:~:</span></span><span> </span><span class="annot"><a href="#local-6989586621679291330"><span class="hs-keyword hs-type">as</span></a></span></span><span>
</span><span id="line-99"></span><span id="fmapIdent"><span class="annot"><span class="annottext">fmapIdent :: Fmap IdSym0 as :~: as
</span><a href="Data.Type.Functor.Product.html#fmapIdent"><span class="hs-identifier hs-var hs-var">fmapIdent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Any :~: Any) -&gt; Fmap IdSym0 as :~: as
forall a b. a -&gt; b
</span><span class="hs-identifier hs-var">unsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">Any :~: Any
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-comment">-- | Simply witness the /shape/ of an argument (ie, @'Shape' [] as@</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- witnesses the length of @as@, and @'Shape' Maybe as@ witnesses whether</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- or not @as@ is 'Just' or 'Nothing').</span><span>
</span><span id="line-104"></span><span class="hs-keyword">type</span><span> </span><span id="Shape"><span class="annot"><a href="Data.Type.Functor.Product.html#Shape"><span class="hs-identifier hs-var">Shape</span></a></span></span><span> </span><span id="local-6989586621679290015"><span class="annot"><a href="#local-6989586621679290015"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290015"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679290015"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span id="local-6989586621679290014"><span class="annot"><a href="#local-6989586621679290014"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-comment">-- | Unify different functor products over a Foldable @f@.</span><span>
</span><span id="line-107"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PFunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SFunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PFoldable</span></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SFoldable</span></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="FProd"><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-var">FProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679291335"><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Elem"><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-var">Elem</span></a></span></span><span>  </span><span id="local-6989586621679291335"><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679290013"><span class="annot"><a href="#local-6989586621679290013"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span id="local-6989586621679290012"><span class="annot"><a href="#local-6989586621679290012"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679290012"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679290013"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Prod"><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-var">Prod</span></a></span></span><span>  </span><span id="local-6989586621679291335"><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679290011"><span class="annot"><a href="#local-6989586621679290011"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679290010"><span class="annot"><a href="#local-6989586621679290010"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290010"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679290011"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span>    </span><span class="hs-comment">-- | You can convert a singleton of a foldable value into a foldable product of</span><span>
</span><span id="line-112"></span><span>    </span><span class="hs-comment">-- singletons.  This essentially &quot;breaks up&quot; the singleton into its</span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-comment">-- individual items.  Should be an inverse with 'prodSing'.</span><span>
</span><span id="line-114"></span><span>    </span><span id="local-6989586621679291260"><span id="singProd"><span class="annot"><a href="Data.Type.Functor.Product.html#singProd"><span class="hs-identifier hs-type">singProd</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679291260"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679291260"><span class="hs-keyword hs-type">as</span></a></span></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-comment">-- | Collect a collection of singletons back into a single singleton.</span><span>
</span><span id="line-117"></span><span>    </span><span class="hs-comment">-- Should be an inverse with 'singProd'.</span><span>
</span><span id="line-118"></span><span>    </span><span id="local-6989586621679291001"><span id="prodSing"><span class="annot"><a href="Data.Type.Functor.Product.html#prodSing"><span class="hs-identifier hs-type">prodSing</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679291001"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679291001"><span class="hs-keyword hs-type">as</span></a></span></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span>    </span><span class="hs-comment">-- | Pair up each item in a foldable product with its index.</span><span>
</span><span id="line-121"></span><span>    </span><span id="local-6989586621679291213"><span id="local-6989586621679291214"><span id="withIndices"><span class="annot"><a href="Data.Type.Functor.Product.html#withIndices"><span class="hs-identifier hs-type">withIndices</span></a></span></span><span>
</span><span id="line-122"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291214"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291213"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-123"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291213"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679291214"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679291213"><span class="hs-keyword hs-type">as</span></a></span></span></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span>    </span><span class="hs-comment">-- | Traverse a foldable functor product with a RankN applicative function,</span><span>
</span><span id="line-126"></span><span>    </span><span class="hs-comment">-- mapping over each value and sequencing the effects.</span><span>
</span><span id="line-127"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-comment">-- This is the generalization of 'rtraverse'.</span><span>
</span><span id="line-129"></span><span>    </span><span id="traverseProd"><span class="annot"><a href="Data.Type.Functor.Product.html#traverseProd"><span class="hs-identifier hs-type">traverseProd</span></a></span></span><span>
</span><span id="line-130"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291250"><span class="annot"><a href="#local-6989586621679291250"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679291249"><span class="annot"><a href="#local-6989586621679291249"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679291248"><span class="annot"><a href="#local-6989586621679291248"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679291251"><span class="annot"><a href="#local-6989586621679291251"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679291251"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-131"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291338"><span class="annot"><a href="#local-6989586621679291338"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679291250"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291338"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291251"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679291249"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291338"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291250"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291248"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-133"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291251"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291249"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291248"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>    </span><span id="local-6989586621679290005"><span class="annot"><a href="Data.Type.Functor.Product.html#traverseProd"><span class="hs-identifier hs-var hs-var">traverseProd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Fmap IdSym0 as :~: as
forall (f0 :: * -&gt; *) b0 (as :: f0 b0). Fmap IdSym0 as :~: as
</span><a href="Data.Type.Functor.Product.html#fmapIdent"><span class="hs-identifier hs-var">fmapIdent</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679291248"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-135"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Refl</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sing IdSym0
-&gt; (forall (a :: k). g a -&gt; m (h (IdSym0 @@ a)))
-&gt; Prod f g as
-&gt; m (Prod f h (Fmap IdSym0 as))
forall (f :: * -&gt; *) a0 k (m :: * -&gt; *) (ff :: a0 ~&gt; k)
       (g :: a0 -&gt; *) (h :: k -&gt; *) (as :: f a0).
(FProd f, Applicative m) =&gt;
Sing ff
-&gt; (forall (a :: a0). g a -&gt; m (h (ff @@ a)))
-&gt; Prod f g as
-&gt; m (Prod f h (Fmap ff as))
</span><a href="Data.Type.Functor.Product.html#htraverse"><span class="hs-identifier hs-var">htraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SingI IdSym0 =&gt; Sing IdSym0
forall k (a :: k). SingI a =&gt; Sing a
</span><span class="hs-identifier hs-var">sing</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">IdSym0</span></span><span class="hs-special">)</span></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span>    </span><span class="hs-comment">-- | Zip together two foldable functor products with a Rank-N function.</span><span>
</span><span id="line-138"></span><span>    </span><span id="local-6989586621679291236"><span id="local-6989586621679291237"><span id="local-6989586621679291238"><span id="local-6989586621679291239"><span id="zipWithProd"><span class="annot"><a href="Data.Type.Functor.Product.html#zipWithProd"><span class="hs-identifier hs-type">zipWithProd</span></a></span></span><span>
</span><span id="line-139"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291312"><span class="annot"><a href="#local-6989586621679291312"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679291239"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291312"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291238"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291312"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291237"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291312"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291239"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291236"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-141"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291238"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291236"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-142"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291237"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291236"><span class="hs-keyword hs-type">as</span></a></span></span></span></span></span><span>
</span><span id="line-143"></span><span>    </span><span id="local-6989586621679290001"><span class="annot"><a href="Data.Type.Functor.Product.html#zipWithProd"><span class="hs-identifier hs-var hs-var">zipWithProd</span></a></span><span> </span><span id="local-6989586621679290000"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679290000"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679289999"><span class="annot"><span class="annottext">xs :: Prod f g as
</span><a href="#local-6989586621679289999"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621679289998"><span class="annot"><span class="annottext">ys :: Prod f h as
</span><a href="#local-6989586621679289998"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). Elem f as a -&gt; g a -&gt; j a)
-&gt; Prod f g as -&gt; Prod f j as
forall k (f :: * -&gt; *) (as :: f k) (g :: k -&gt; *) (h :: k -&gt; *).
FProd f =&gt;
(forall (a :: k). Elem f as a -&gt; g a -&gt; h a)
-&gt; Prod f g as -&gt; Prod f h as
</span><a href="Data.Type.Functor.Product.html#imapProd"><span class="hs-identifier hs-var">imapProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679289997"><span class="annot"><span class="annottext">i :: Elem f as a
</span><a href="#local-6989586621679289997"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679289996"><span class="annot"><span class="annottext">x :: g a
</span><a href="#local-6989586621679289996"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">g a -&gt; h a -&gt; j a
forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679290000"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289996"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Elem f as a -&gt; Prod f h as -&gt; h a
forall k (f :: * -&gt; *) (as :: f k) (a :: k) (g :: k -&gt; *).
FProd f =&gt;
Elem f as a -&gt; Prod f g as -&gt; g a
</span><a href="Data.Type.Functor.Product.html#indexProd"><span class="hs-identifier hs-var">indexProd</span></a></span><span> </span><span class="annot"><span class="annottext">Elem f as a
</span><a href="#local-6989586621679289997"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Prod f h as
</span><a href="#local-6989586621679289998"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Prod f g as
</span><a href="#local-6989586621679289999"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-comment">-- | Traverse a foldable functor product with a type-changing function.</span></span><span>
</span><span id="line-146"></span><span>    </span><span id="local-6989586621679291318"><span id="local-6989586621679291319"><span id="local-6989586621679291320"><span id="local-6989586621679291321"><span id="local-6989586621679291322"><span id="htraverse"><span class="annot"><a href="Data.Type.Functor.Product.html#htraverse"><span class="hs-identifier hs-type">htraverse</span></a></span></span><span>
</span><span id="line-147"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679291322"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-148"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679291321"><span class="hs-identifier hs-type">ff</span></a></span><span>
</span><span id="line-149"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291327"><span class="annot"><a href="#local-6989586621679291327"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679291320"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291327"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291322"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679291319"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679291321"><span class="hs-identifier hs-type">ff</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621679291327"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291320"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291318"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-151"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291322"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291319"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fmap</span></span><span> </span><span class="annot"><a href="#local-6989586621679291321"><span class="hs-identifier hs-type">ff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291318"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-comment">-- | A 'Lens' into an item in a foldable functor product, given its</span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-comment">-- index.</span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-comment">-- This roughly generalizes 'rlens'.</span><span>
</span><span id="line-157"></span><span>    </span><span id="local-6989586621679291196"><span id="local-6989586621679291197"><span id="local-6989586621679291198"><span id="ixProd"><span class="annot"><a href="Data.Type.Functor.Product.html#ixProd"><span class="hs-identifier hs-type">ixProd</span></a></span></span><span>
</span><span id="line-158"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291198"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291197"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-159"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lens'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291196"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291198"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679291196"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291197"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span>    </span><span class="hs-comment">-- | Fold a functor product into a 'Rec'.</span><span>
</span><span id="line-162"></span><span>    </span><span id="local-6989586621679290998"><span id="local-6989586621679290999"><span id="toRec"><span class="annot"><a href="Data.Type.Functor.Product.html#toRec"><span class="hs-identifier hs-type">toRec</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290999"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290998"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rec</span></span><span> </span><span class="annot"><a href="#local-6989586621679290999"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ToList</span></span><span> </span><span class="annot"><a href="#local-6989586621679290998"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span>    </span><span class="hs-comment">-- | Get a 'PureProd' instance from a foldable functor product</span><span>
</span><span id="line-165"></span><span>    </span><span class="hs-comment">-- providing its shape.</span><span>
</span><span id="line-166"></span><span>    </span><span id="local-6989586621679290992"><span id="local-6989586621679290993"><span id="local-6989586621679290994"><span id="withPureProd"><span class="annot"><a href="Data.Type.Functor.Product.html#withPureProd"><span class="hs-identifier hs-type">withPureProd</span></a></span></span><span>
</span><span id="line-167"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290994"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290993"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-168"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290993"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679290992"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679290992"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="hs-comment">-- | Create @'Prod' f@ if you can give a @g a@ for every slot.</span><span>
</span><span id="line-172"></span><span class="hs-keyword">class</span><span> </span><span id="PureProd"><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-var">PureProd</span></a></span></span><span> </span><span id="local-6989586621679291289"><span class="annot"><a href="#local-6989586621679291289"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679291287"><span class="annot"><a href="#local-6989586621679291287"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-173"></span><span>    </span><span id="local-6989586621679291285"><span id="pureProd"><span class="annot"><a href="Data.Type.Functor.Product.html#pureProd"><span class="hs-identifier hs-type">pureProd</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291291"><span class="annot"><a href="#local-6989586621679291291"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679291285"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291291"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291289"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291285"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291287"><span class="hs-keyword hs-type">as</span></a></span></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">-- | Create @'Prod' f@ if you can give a @g a@ for every slot, given some</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- constraint.</span><span>
</span><span id="line-177"></span><span class="hs-keyword">class</span><span> </span><span id="PureProdC"><span class="annot"><a href="Data.Type.Functor.Product.html#PureProdC"><span class="hs-identifier hs-var">PureProdC</span></a></span></span><span> </span><span id="local-6989586621679290882"><span class="annot"><a href="#local-6989586621679290882"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679290881"><span class="annot"><a href="#local-6989586621679290881"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679290880"><span class="annot"><a href="#local-6989586621679290880"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-178"></span><span>    </span><span id="local-6989586621679290887"><span id="pureProdC"><span class="annot"><a href="Data.Type.Functor.Product.html#pureProdC"><span class="hs-identifier hs-type">pureProdC</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679290888"><span class="annot"><a href="#local-6989586621679290888"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679290881"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290888"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679290887"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290888"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290882"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290887"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290880"><span class="hs-keyword hs-type">as</span></a></span></span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-comment">-- | Pair up each item in a @'Prod' f@ with a witness that @f a@ satisfies</span><span>
</span><span id="line-181"></span><span class="hs-comment">-- some constraint.</span><span>
</span><span id="line-182"></span><span class="hs-keyword">class</span><span> </span><span id="ReifyConstraintProd"><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-var">ReifyConstraintProd</span></a></span></span><span> </span><span id="local-6989586621679291119"><span class="annot"><a href="#local-6989586621679291119"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679291118"><span class="annot"><a href="#local-6989586621679291118"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679291117"><span class="annot"><a href="#local-6989586621679291117"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679291116"><span class="annot"><a href="#local-6989586621679291116"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-183"></span><span>    </span><span id="reifyConstraintProd"><span class="annot"><a href="Data.Type.Functor.Product.html#reifyConstraintProd"><span class="hs-identifier hs-type">reifyConstraintProd</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291119"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291117"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291116"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291119"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dict</span></span><span> </span><span class="annot"><a href="#local-6989586621679291118"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">V.:.</span></span><span> </span><span class="annot"><a href="#local-6989586621679291117"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679291116"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="hs-keyword">data</span><span> </span><span id="ElemSym0"><span class="annot"><a href="Data.Type.Functor.Product.html#ElemSym0"><span class="hs-identifier hs-var">ElemSym0</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289989"><span class="annot"><a href="#local-6989586621679289989"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679289989"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span id="local-6989586621679289988"><span class="annot"><a href="#local-6989586621679289988"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679289988"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-186"></span><span class="hs-keyword">data</span><span> </span><span id="ElemSym1"><span class="annot"><a href="Data.Type.Functor.Product.html#ElemSym1"><span class="hs-identifier hs-var">ElemSym1</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289987"><span class="annot"><a href="#local-6989586621679289987"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679289987"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span id="local-6989586621679289986"><span class="annot"><a href="#local-6989586621679289986"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289986"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-187"></span><span class="hs-keyword">type</span><span> </span><span id="ElemSym2"><span class="annot"><a href="Data.Type.Functor.Product.html#ElemSym2"><span class="hs-identifier hs-var">ElemSym2</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289985"><span class="annot"><a href="#local-6989586621679289985"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289984"><span class="annot"><a href="#local-6989586621679289984"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679289985"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span id="local-6989586621679289983"><span class="annot"><a href="#local-6989586621679289983"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289982"><span class="annot"><a href="#local-6989586621679289982"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679289983"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289985"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289984"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289982"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Apply"><span class="annot"><span class="hs-identifier hs-var">Apply</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#ElemSym0"><span class="hs-identifier hs-type">ElemSym0</span></a></span><span> </span><span id="local-6989586621679289981"><span class="annot"><a href="#local-6989586621679289981"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679289980"><span class="annot"><a href="#local-6989586621679289980"><span class="hs-keyword hs-type hs-type">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ElemSym1"><span class="hs-identifier hs-type">ElemSym1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289981"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289980"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-190"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Apply"><span class="annot"><span class="hs-identifier hs-var">Apply</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#ElemSym1"><span class="hs-identifier hs-type">ElemSym1</span></a></span><span> </span><span id="local-6989586621679289979"><span class="annot"><a href="#local-6989586621679289979"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679289978"><span class="annot"><a href="#local-6989586621679289978"><span class="hs-keyword hs-type hs-type">as</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679289977"><span class="annot"><a href="#local-6989586621679289977"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289979"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289978"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289977"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="hs-keyword">data</span><span> </span><span id="ProdSym0"><span class="annot"><a href="Data.Type.Functor.Product.html#ProdSym0"><span class="hs-identifier hs-var">ProdSym0</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289976"><span class="annot"><a href="#local-6989586621679289976"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289975"><span class="annot"><a href="#local-6989586621679289975"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679289976"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289975"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-193"></span><span class="hs-keyword">data</span><span> </span><span id="ProdSym1"><span class="annot"><a href="Data.Type.Functor.Product.html#ProdSym1"><span class="hs-identifier hs-var">ProdSym1</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289974"><span class="annot"><a href="#local-6989586621679289974"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289973"><span class="annot"><a href="#local-6989586621679289973"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289974"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289973"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-194"></span><span class="hs-keyword">type</span><span> </span><span id="ProdSym2"><span class="annot"><a href="Data.Type.Functor.Product.html#ProdSym2"><span class="hs-identifier hs-var">ProdSym2</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289972"><span class="annot"><a href="#local-6989586621679289972"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289971"><span class="annot"><a href="#local-6989586621679289971"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679289970"><span class="annot"><a href="#local-6989586621679289970"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289969"><span class="annot"><a href="#local-6989586621679289969"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679289972"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289970"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289972"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289971"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289969"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Apply"><span class="annot"><span class="hs-identifier hs-var">Apply</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#ProdSym0"><span class="hs-identifier hs-type">ProdSym0</span></a></span><span> </span><span id="local-6989586621679289968"><span class="annot"><a href="#local-6989586621679289968"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679289967"><span class="annot"><a href="#local-6989586621679289967"><span class="hs-identifier hs-type hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ProdSym1"><span class="hs-identifier hs-type">ProdSym1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289968"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289967"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-197"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Apply"><span class="annot"><span class="hs-identifier hs-var">Apply</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#ProdSym1"><span class="hs-identifier hs-type">ProdSym1</span></a></span><span> </span><span id="local-6989586621679289966"><span class="annot"><a href="#local-6989586621679289966"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679289965"><span class="annot"><a href="#local-6989586621679289965"><span class="hs-identifier hs-type hs-type">g</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679289964"><span class="annot"><a href="#local-6989586621679289964"><span class="hs-keyword hs-type hs-type">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289966"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289965"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289964"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="hs-comment">-- | A convenient wrapper over 'V.AllConstrained' that works for any</span><span>
</span><span id="line-200"></span><span class="hs-comment">-- Foldable @f@.</span><span>
</span><span id="line-201"></span><span class="hs-keyword">type</span><span> </span><span id="AllConstrainedProd"><span class="annot"><a href="Data.Type.Functor.Product.html#AllConstrainedProd"><span class="hs-identifier hs-var">AllConstrainedProd</span></a></span></span><span> </span><span id="local-6989586621679289963"><span class="annot"><a href="#local-6989586621679289963"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679289962"><span class="annot"><a href="#local-6989586621679289962"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V.AllConstrained</span></span><span> </span><span class="annot"><a href="#local-6989586621679289963"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ToList</span></span><span> </span><span class="annot"><a href="#local-6989586621679289962"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="hs-comment">-- | Create a 'Shape' given an instance of 'PureProd'.</span><span>
</span><span id="line-204"></span><span id="local-6989586621679291275"><span id="local-6989586621679291277"><span class="annot"><a href="Data.Type.Functor.Product.html#pureShape"><span class="hs-identifier hs-type">pureShape</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291277"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291275"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Shape"><span class="hs-identifier hs-type">Shape</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291277"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291275"><span class="hs-keyword hs-type">as</span></a></span></span></span><span>
</span><span id="line-205"></span><span id="pureShape"><span class="annot"><span class="annottext">pureShape :: Shape f as
</span><a href="Data.Type.Functor.Product.html#pureShape"><span class="hs-identifier hs-var hs-var">pureShape</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). Proxy a) -&gt; Shape f as
forall k (f :: * -&gt; *) (as :: f k) (g :: k -&gt; *).
PureProd f as =&gt;
(forall (a :: k). g a) -&gt; Prod f g as
</span><a href="Data.Type.Functor.Product.html#pureProd"><span class="hs-identifier hs-var">pureProd</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: k). Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-comment">-- | Generate a 'Prod' of indices for an @as@.</span><span>
</span><span id="line-208"></span><span id="local-6989586621679291101"><span id="local-6989586621679291103"><span class="annot"><a href="Data.Type.Functor.Product.html#indices"><span class="hs-identifier hs-type">indices</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291103"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291103"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291101"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291103"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291103"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291101"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679291101"><span class="hs-keyword hs-type">as</span></a></span></span></span><span>
</span><span id="line-209"></span><span id="indices"><span class="annot"><span class="annottext">indices :: Prod f (Elem f as) as
</span><a href="Data.Type.Functor.Product.html#indices"><span class="hs-identifier hs-var hs-var">indices</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). Elem f as a -&gt; Proxy a -&gt; Elem f as a)
-&gt; Prod f Proxy as -&gt; Prod f (Elem f as) as
forall k (f :: * -&gt; *) (as :: f k) (g :: k -&gt; *) (h :: k -&gt; *).
FProd f =&gt;
(forall (a :: k). Elem f as a -&gt; g a -&gt; h a)
-&gt; Prod f g as -&gt; Prod f h as
</span><a href="Data.Type.Functor.Product.html#imapProd"><span class="hs-identifier hs-var">imapProd</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: k). Elem f as a -&gt; Proxy a -&gt; Elem f as a
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Prod f Proxy as
forall k (f :: * -&gt; *) (as :: f k). PureProd f as =&gt; Shape f as
</span><a href="Data.Type.Functor.Product.html#pureShape"><span class="hs-identifier hs-var">pureShape</span></a></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="hs-comment">-- | Convert a @'Sing' as@ into a @'Shape' f as@, witnessing the shape of</span><span>
</span><span id="line-212"></span><span class="hs-comment">-- of @as@ but dropping all of its values.</span><span>
</span><span id="line-213"></span><span id="local-6989586621679289957"><span id="local-6989586621679289958"><span class="annot"><a href="Data.Type.Functor.Product.html#singShape"><span class="hs-identifier hs-type">singShape</span></a></span><span>
</span><span id="line-214"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289958"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-215"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679289957"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-216"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Shape"><span class="hs-identifier hs-type">Shape</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289958"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289957"><span class="hs-keyword hs-type">as</span></a></span></span></span><span>
</span><span id="line-217"></span><span id="singShape"><span class="annot"><span class="annottext">singShape :: Sing as -&gt; Shape f as
</span><a href="Data.Type.Functor.Product.html#singShape"><span class="hs-identifier hs-var hs-var">singShape</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). Sing a -&gt; Proxy a)
-&gt; Prod f Sing as -&gt; Shape f as
forall k (f :: * -&gt; *) (g :: k -&gt; *) (h :: k -&gt; *) (as :: f k).
FProd f =&gt;
(forall (a :: k). g a -&gt; h a) -&gt; Prod f g as -&gt; Prod f h as
</span><a href="Data.Type.Functor.Product.html#mapProd"><span class="hs-identifier hs-var">mapProd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a -&gt; Sing a -&gt; Proxy a
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Prod f Sing as -&gt; Shape f as)
-&gt; (Sing as -&gt; Prod f Sing as) -&gt; Sing as -&gt; Shape f as
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Sing as -&gt; Prod f Sing as
forall (f :: * -&gt; *) k (as :: f k).
FProd f =&gt;
Sing as -&gt; Prod f Sing as
</span><a href="Data.Type.Functor.Product.html#singProd"><span class="hs-identifier hs-var">singProd</span></a></span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="hs-comment">-- | Map a RankN function over a 'Prod'.  The generalization of 'rmap'.</span><span>
</span><span id="line-220"></span><span id="local-6989586621679291266"><span id="local-6989586621679291267"><span id="local-6989586621679291268"><span id="local-6989586621679291269"><span class="annot"><a href="Data.Type.Functor.Product.html#mapProd"><span class="hs-identifier hs-type">mapProd</span></a></span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291269"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291271"><span class="annot"><a href="#local-6989586621679291271"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679291268"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291271"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291267"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291271"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291269"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291268"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291266"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-224"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291269"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291267"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291266"><span class="hs-keyword hs-type">as</span></a></span></span></span></span></span><span>
</span><span id="line-225"></span><span id="mapProd"><span class="annot"><span class="annottext">mapProd :: (forall (a :: k). g a -&gt; h a) -&gt; Prod f g as -&gt; Prod f h as
</span><a href="Data.Type.Functor.Product.html#mapProd"><span class="hs-identifier hs-var hs-var">mapProd</span></a></span></span><span> </span><span id="local-6989586621679289955"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; h a
</span><a href="#local-6989586621679289955"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Identity (Prod f h as) -&gt; Prod f h as
forall a. Identity a -&gt; a
</span><span class="hs-identifier hs-var hs-var">runIdentity</span></span><span> </span><span class="annot"><span class="annottext">(Identity (Prod f h as) -&gt; Prod f h as)
-&gt; (Prod f g as -&gt; Identity (Prod f h as))
-&gt; Prod f g as
-&gt; Prod f h as
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). g a -&gt; Identity (h a))
-&gt; Prod f g as -&gt; Identity (Prod f h as)
forall (f :: * -&gt; *) k (g :: k -&gt; *) (h :: k -&gt; *) (as :: f k)
       (m :: * -&gt; *).
(FProd f, Applicative m) =&gt;
(forall (a :: k). g a -&gt; m (h a)) -&gt; Prod f g as -&gt; m (Prod f h as)
</span><a href="Data.Type.Functor.Product.html#traverseProd"><span class="hs-identifier hs-var">traverseProd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">h a -&gt; Identity (h a)
forall a. a -&gt; Identity a
</span><span class="hs-identifier hs-var">Identity</span></span><span> </span><span class="annot"><span class="annottext">(h a -&gt; Identity (h a)) -&gt; (g a -&gt; h a) -&gt; g a -&gt; Identity (h a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; h a
forall (a :: k). g a -&gt; h a
</span><a href="#local-6989586621679289955"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="hs-comment">-- | Zip together the values in two 'Prod's.</span><span>
</span><span id="line-228"></span><span id="local-6989586621679289950"><span id="local-6989586621679289951"><span id="local-6989586621679289952"><span id="local-6989586621679289953"><span class="annot"><a href="Data.Type.Functor.Product.html#zipProd"><span class="hs-identifier hs-type">zipProd</span></a></span><span>
</span><span id="line-229"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289953"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-230"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289953"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289952"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289951"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-231"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289953"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289950"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289951"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-232"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289953"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289952"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679289950"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679289951"><span class="hs-keyword hs-type">as</span></a></span></span></span></span></span><span>
</span><span id="line-233"></span><span id="zipProd"><span class="annot"><span class="annottext">zipProd :: Prod f g as -&gt; Prod f h as -&gt; Prod f (g :*: h) as
</span><a href="Data.Type.Functor.Product.html#zipProd"><span class="hs-identifier hs-var hs-var">zipProd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). g a -&gt; h a -&gt; (:*:) g h a)
-&gt; Prod f g as -&gt; Prod f h as -&gt; Prod f (g :*: h) as
forall (f :: * -&gt; *) k (g :: k -&gt; *) (h :: k -&gt; *) (j :: k -&gt; *)
       (as :: f k).
FProd f =&gt;
(forall (a :: k). g a -&gt; h a -&gt; j a)
-&gt; Prod f g as -&gt; Prod f h as -&gt; Prod f j as
</span><a href="Data.Type.Functor.Product.html#zipWithProd"><span class="hs-identifier hs-var">zipWithProd</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: k). g a -&gt; h a -&gt; (:*:) g h a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">(:*:)</span></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="hs-comment">-- | Map a type-changing function over every item in a 'Prod'.</span><span>
</span><span id="line-236"></span><span id="local-6989586621679289944"><span id="local-6989586621679289945"><span id="local-6989586621679289946"><span id="local-6989586621679289947"><span id="local-6989586621679289948"><span class="annot"><a href="Data.Type.Functor.Product.html#hmap"><span class="hs-identifier hs-type">hmap</span></a></span><span>
</span><span id="line-237"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289948"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-238"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679289947"><span class="hs-identifier hs-type">ff</span></a></span><span>
</span><span id="line-239"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291227"><span class="annot"><a href="#local-6989586621679291227"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679289946"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291227"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289945"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289947"><span class="hs-identifier hs-type">ff</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621679291227"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289948"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289946"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289944"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-241"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289948"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289945"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fmap</span></span><span> </span><span class="annot"><a href="#local-6989586621679289947"><span class="hs-identifier hs-type">ff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289944"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-242"></span><span id="hmap"><span class="annot"><span class="annottext">hmap :: Sing ff
-&gt; (forall (a :: a0). g a -&gt; h (ff @@ a))
-&gt; Prod f g as
-&gt; Prod f h (Fmap ff as)
</span><a href="Data.Type.Functor.Product.html#hmap"><span class="hs-identifier hs-var hs-var">hmap</span></a></span></span><span> </span><span id="local-6989586621679289943"><span class="annot"><span class="annottext">ff :: Sing ff
</span><a href="#local-6989586621679289943"><span class="hs-identifier hs-var">ff</span></a></span></span><span> </span><span id="local-6989586621679289942"><span class="annot"><span class="annottext">f :: forall (a :: a0). g a -&gt; h (ff @@ a)
</span><a href="#local-6989586621679289942"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Identity (Prod f h (Fmap ff as)) -&gt; Prod f h (Fmap ff as)
forall a. Identity a -&gt; a
</span><span class="hs-identifier hs-var hs-var">runIdentity</span></span><span> </span><span class="annot"><span class="annottext">(Identity (Prod f h (Fmap ff as)) -&gt; Prod f h (Fmap ff as))
-&gt; (Prod f g as -&gt; Identity (Prod f h (Fmap ff as)))
-&gt; Prod f g as
-&gt; Prod f h (Fmap ff as)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Sing ff
-&gt; (forall (a :: a0). g a -&gt; Identity (h (ff @@ a)))
-&gt; Prod f g as
-&gt; Identity (Prod f h (Fmap ff as))
forall (f :: * -&gt; *) a0 k (m :: * -&gt; *) (ff :: a0 ~&gt; k)
       (g :: a0 -&gt; *) (h :: k -&gt; *) (as :: f a0).
(FProd f, Applicative m) =&gt;
Sing ff
-&gt; (forall (a :: a0). g a -&gt; m (h (ff @@ a)))
-&gt; Prod f g as
-&gt; m (Prod f h (Fmap ff as))
</span><a href="Data.Type.Functor.Product.html#htraverse"><span class="hs-identifier hs-var">htraverse</span></a></span><span> </span><span class="annot"><span class="annottext">Sing ff
</span><a href="#local-6989586621679289943"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">h (Apply ff a) -&gt; Identity (h (Apply ff a))
forall a. a -&gt; Identity a
</span><span class="hs-identifier hs-var">Identity</span></span><span> </span><span class="annot"><span class="annottext">(h (Apply ff a) -&gt; Identity (h (Apply ff a)))
-&gt; (g a -&gt; h (Apply ff a)) -&gt; g a -&gt; Identity (h (Apply ff a))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; h (Apply ff a)
forall (a :: a0). g a -&gt; h (ff @@ a)
</span><a href="#local-6989586621679289942"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">-- | 'mapProd', but with access to the index at each element.</span><span>
</span><span id="line-245"></span><span id="local-6989586621679291302"><span id="local-6989586621679291303"><span id="local-6989586621679291304"><span id="local-6989586621679291306"><span class="annot"><a href="Data.Type.Functor.Product.html#imapProd"><span class="hs-identifier hs-type">imapProd</span></a></span><span>
</span><span id="line-246"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291306"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-247"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291308"><span class="annot"><a href="#local-6989586621679291308"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291306"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291304"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291308"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291303"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291308"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291302"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291308"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291306"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291303"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291304"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-249"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291306"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291302"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291304"><span class="hs-keyword hs-type">as</span></a></span></span></span></span></span><span>
</span><span id="line-250"></span><span id="imapProd"><span class="annot"><span class="annottext">imapProd :: (forall (a :: k). Elem f as a -&gt; g a -&gt; h a)
-&gt; Prod f g as -&gt; Prod f h as
</span><a href="Data.Type.Functor.Product.html#imapProd"><span class="hs-identifier hs-var hs-var">imapProd</span></a></span></span><span> </span><span id="local-6989586621679289941"><span class="annot"><span class="annottext">f :: forall (a :: k). Elem f as a -&gt; g a -&gt; h a
</span><a href="#local-6989586621679289941"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). (:*:) (Elem f as) g a -&gt; h a)
-&gt; Prod f (Elem f as :*: g) as -&gt; Prod f h as
forall k (f :: * -&gt; *) (g :: k -&gt; *) (h :: k -&gt; *) (as :: f k).
FProd f =&gt;
(forall (a :: k). g a -&gt; h a) -&gt; Prod f g as -&gt; Prod f h as
</span><a href="Data.Type.Functor.Product.html#mapProd"><span class="hs-identifier hs-var">mapProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679289940"><span class="annot"><a href="#local-6989586621679289940"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679289939"><span class="annot"><a href="#local-6989586621679289939"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Elem f as a -&gt; g a -&gt; h a
forall (a :: k). Elem f as a -&gt; g a -&gt; h a
</span><a href="#local-6989586621679289941"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Elem f as a
</span><a href="#local-6989586621679289940"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289939"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Prod f (Elem f as :*: g) as -&gt; Prod f h as)
-&gt; (Prod f g as -&gt; Prod f (Elem f as :*: g) as)
-&gt; Prod f g as
-&gt; Prod f h as
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Prod f g as -&gt; Prod f (Elem f as :*: g) as
forall (f :: * -&gt; *) k (g :: k -&gt; *) (as :: f k).
FProd f =&gt;
Prod f g as -&gt; Prod f (Elem f as :*: g) as
</span><a href="Data.Type.Functor.Product.html#withIndices"><span class="hs-identifier hs-var">withIndices</span></a></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="hs-comment">-- | Extract the item from the container witnessed by the 'Elem'</span><span>
</span><span id="line-253"></span><span class="annot"><a href="Data.Type.Functor.Product.html#indexSing"><span class="hs-identifier hs-type">indexSing</span></a></span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679289938"><span class="annot"><a href="#local-6989586621679289938"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679289937"><span class="annot"><a href="#local-6989586621679289937"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679289936"><span class="annot"><a href="#local-6989586621679289936"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289938"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-255"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289938"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289937"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289936"><span class="hs-identifier hs-type">a</span></a></span><span>        </span><span class="hs-comment">-- ^ Witness</span><span>
</span><span id="line-256"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679289937"><span class="hs-keyword hs-type">as</span></a></span><span>            </span><span class="hs-comment">-- ^ Collection</span><span>
</span><span id="line-257"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679289936"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-258"></span><span id="indexSing"><span class="annot"><span class="annottext">indexSing :: Elem f as a -&gt; Sing as -&gt; Sing a
</span><a href="Data.Type.Functor.Product.html#indexSing"><span class="hs-identifier hs-var hs-var">indexSing</span></a></span></span><span> </span><span id="local-6989586621679289935"><span class="annot"><span class="annottext">i :: Elem f as a
</span><a href="#local-6989586621679289935"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Elem f as a -&gt; Prod f Sing as -&gt; Sing a
forall k (f :: * -&gt; *) (as :: f k) (a :: k) (g :: k -&gt; *).
FProd f =&gt;
Elem f as a -&gt; Prod f g as -&gt; g a
</span><a href="Data.Type.Functor.Product.html#indexProd"><span class="hs-identifier hs-var">indexProd</span></a></span><span> </span><span class="annot"><span class="annottext">Elem f as a
</span><a href="#local-6989586621679289935"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(Prod f Sing as -&gt; Sing a)
-&gt; (Sing as -&gt; Prod f Sing as) -&gt; Sing as -&gt; Sing a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Sing as -&gt; Prod f Sing as
forall (f :: * -&gt; *) k (as :: f k).
FProd f =&gt;
Sing as -&gt; Prod f Sing as
</span><a href="Data.Type.Functor.Product.html#singProd"><span class="hs-identifier hs-var">singProd</span></a></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span class="hs-comment">-- | Use an 'Elem' to index a value out of a 'Prod'.</span><span>
</span><span id="line-261"></span><span id="local-6989586621679291296"><span id="local-6989586621679291297"><span id="local-6989586621679291298"><span id="local-6989586621679291300"><span class="annot"><a href="Data.Type.Functor.Product.html#indexProd"><span class="hs-identifier hs-type">indexProd</span></a></span><span>
</span><span id="line-262"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291300"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291300"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291298"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291297"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-264"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291300"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291296"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291298"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291296"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291297"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-266"></span><span id="indexProd"><span class="annot"><span class="annottext">indexProd :: Elem f as a -&gt; Prod f g as -&gt; g a
</span><a href="Data.Type.Functor.Product.html#indexProd"><span class="hs-identifier hs-var hs-var">indexProd</span></a></span></span><span> </span><span id="local-6989586621679289934"><span class="annot"><span class="annottext">i :: Elem f as a
</span><a href="#local-6989586621679289934"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (g a) (Prod f g as) (g a) -&gt; Prod f g as -&gt; g a
forall a s. Getting a s a -&gt; s -&gt; a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Elem f as a -&gt; Lens' (Prod f g as) (g a)
forall (f :: * -&gt; *) k (as :: f k) (a :: k) (g :: k -&gt; *).
FProd f =&gt;
Elem f as a -&gt; Lens' (Prod f g as) (g a)
</span><a href="Data.Type.Functor.Product.html#ixProd"><span class="hs-identifier hs-var">ixProd</span></a></span><span> </span><span class="annot"><span class="annottext">Elem f as a
</span><a href="#local-6989586621679289934"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span class="hs-comment">-- | 'traverseProd', but with access to the index at each element.</span><span>
</span><span id="line-269"></span><span id="local-6989586621679291172"><span id="local-6989586621679291173"><span id="local-6989586621679291174"><span id="local-6989586621679291175"><span id="local-6989586621679291177"><span class="annot"><a href="Data.Type.Functor.Product.html#itraverseProd"><span class="hs-identifier hs-type">itraverseProd</span></a></span><span>
</span><span id="line-270"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291177"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679291175"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291192"><span class="annot"><a href="#local-6989586621679291192"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291177"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291174"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291192"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291173"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291192"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291175"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679291172"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291192"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291177"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291173"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291174"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-273"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291175"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291177"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291172"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291174"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-274"></span><span id="itraverseProd"><span class="annot"><span class="annottext">itraverseProd :: (forall (a :: k). Elem f as a -&gt; g a -&gt; m (h a))
-&gt; Prod f g as -&gt; m (Prod f h as)
</span><a href="Data.Type.Functor.Product.html#itraverseProd"><span class="hs-identifier hs-var hs-var">itraverseProd</span></a></span></span><span> </span><span id="local-6989586621679289932"><span class="annot"><span class="annottext">f :: forall (a :: k). Elem f as a -&gt; g a -&gt; m (h a)
</span><a href="#local-6989586621679289932"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). (:*:) (Elem f as) g a -&gt; m (h a))
-&gt; Prod f (Elem f as :*: g) as -&gt; m (Prod f h as)
forall (f :: * -&gt; *) k (g :: k -&gt; *) (h :: k -&gt; *) (as :: f k)
       (m :: * -&gt; *).
(FProd f, Applicative m) =&gt;
(forall (a :: k). g a -&gt; m (h a)) -&gt; Prod f g as -&gt; m (Prod f h as)
</span><a href="Data.Type.Functor.Product.html#traverseProd"><span class="hs-identifier hs-var">traverseProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679289931"><span class="annot"><a href="#local-6989586621679289931"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679289930"><span class="annot"><a href="#local-6989586621679289930"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Elem f as a -&gt; g a -&gt; m (h a)
forall (a :: k). Elem f as a -&gt; g a -&gt; m (h a)
</span><a href="#local-6989586621679289932"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Elem f as a
</span><a href="#local-6989586621679289931"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289930"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Prod f (Elem f as :*: g) as -&gt; m (Prod f h as))
-&gt; (Prod f g as -&gt; Prod f (Elem f as :*: g) as)
-&gt; Prod f g as
-&gt; m (Prod f h as)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Prod f g as -&gt; Prod f (Elem f as :*: g) as
forall (f :: * -&gt; *) k (g :: k -&gt; *) (as :: f k).
FProd f =&gt;
Prod f g as -&gt; Prod f (Elem f as :*: g) as
</span><a href="Data.Type.Functor.Product.html#withIndices"><span class="hs-identifier hs-var">withIndices</span></a></span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span class="hs-comment">-- | 'foldMapProd', but with access to the index at each element.</span><span>
</span><span id="line-277"></span><span id="local-6989586621679291157"><span id="local-6989586621679291158"><span id="local-6989586621679291159"><span id="local-6989586621679291161"><span class="annot"><a href="Data.Type.Functor.Product.html#ifoldMapProd"><span class="hs-identifier hs-type">ifoldMapProd</span></a></span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291161"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679291159"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291184"><span class="annot"><a href="#local-6989586621679291184"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291161"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291158"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291184"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291157"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291184"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291159"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291161"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291157"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291158"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-281"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291159"><span class="hs-identifier hs-type">m</span></a></span></span></span></span></span><span>
</span><span id="line-282"></span><span id="ifoldMapProd"><span class="annot"><span class="annottext">ifoldMapProd :: (forall (a :: k). Elem f as a -&gt; g a -&gt; m) -&gt; Prod f g as -&gt; m
</span><a href="Data.Type.Functor.Product.html#ifoldMapProd"><span class="hs-identifier hs-var hs-var">ifoldMapProd</span></a></span></span><span> </span><span id="local-6989586621679289929"><span class="annot"><span class="annottext">f :: forall (a :: k). Elem f as a -&gt; g a -&gt; m
</span><a href="#local-6989586621679289929"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Const m (Prod f Any as) -&gt; m
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const m (Prod f Any as) -&gt; m)
-&gt; (Prod f g as -&gt; Const m (Prod f Any as)) -&gt; Prod f g as -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). Elem f as a -&gt; g a -&gt; Const m (Any a))
-&gt; Prod f g as -&gt; Const m (Prod f Any as)
forall k (f :: * -&gt; *) (m :: * -&gt; *) (as :: f k) (g :: k -&gt; *)
       (h :: k -&gt; *).
(FProd f, Applicative m) =&gt;
(forall (a :: k). Elem f as a -&gt; g a -&gt; m (h a))
-&gt; Prod f g as -&gt; m (Prod f h as)
</span><a href="Data.Type.Functor.Product.html#itraverseProd"><span class="hs-identifier hs-var">itraverseProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679289927"><span class="annot"><span class="annottext">i :: Elem f as a
</span><a href="#local-6989586621679289927"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m -&gt; Const m (Any a)
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="annot"><span class="annottext">(m -&gt; Const m (Any a)) -&gt; (g a -&gt; m) -&gt; g a -&gt; Const m (Any a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Elem f as a -&gt; g a -&gt; m
forall (a :: k). Elem f as a -&gt; g a -&gt; m
</span><a href="#local-6989586621679289929"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Elem f as a
</span><a href="#local-6989586621679289927"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span class="hs-comment">-- | Map a RankN function over a 'Prod' and collect the results as</span><span>
</span><span id="line-285"></span><span class="hs-comment">-- a 'Monoid'.</span><span>
</span><span id="line-286"></span><span id="local-6989586621679291125"><span id="local-6989586621679291126"><span id="local-6989586621679291127"><span id="local-6989586621679291128"><span class="annot"><a href="Data.Type.Functor.Product.html#foldMapProd"><span class="hs-identifier hs-type">foldMapProd</span></a></span><span>
</span><span id="line-287"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291128"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679291127"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291165"><span class="annot"><a href="#local-6989586621679291165"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679291126"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291165"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291127"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291128"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291126"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291125"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-290"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291127"><span class="hs-identifier hs-type">m</span></a></span></span></span></span></span><span>
</span><span id="line-291"></span><span id="foldMapProd"><span class="annot"><span class="annottext">foldMapProd :: (forall (a :: k). g a -&gt; m) -&gt; Prod f g as -&gt; m
</span><a href="Data.Type.Functor.Product.html#foldMapProd"><span class="hs-identifier hs-var hs-var">foldMapProd</span></a></span></span><span> </span><span id="local-6989586621679289925"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; m
</span><a href="#local-6989586621679289925"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). Elem f as a -&gt; g a -&gt; m) -&gt; Prod f g as -&gt; m
forall k (f :: * -&gt; *) m (as :: f k) (g :: k -&gt; *).
(FProd f, Monoid m) =&gt;
(forall (a :: k). Elem f as a -&gt; g a -&gt; m) -&gt; Prod f g as -&gt; m
</span><a href="Data.Type.Functor.Product.html#ifoldMapProd"><span class="hs-identifier hs-var">ifoldMapProd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(g a -&gt; m) -&gt; Elem f as a -&gt; g a -&gt; m
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; m
forall (a :: k). g a -&gt; m
</span><a href="#local-6989586621679289925"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span class="hs-comment">-- | 'foldMapSing' but with access to the index.</span><span>
</span><span id="line-294"></span><span class="annot"><a href="Data.Type.Functor.Product.html#ifoldMapSing"><span class="hs-identifier hs-type">ifoldMapSing</span></a></span><span>
</span><span id="line-295"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291145"><span class="annot"><a href="#local-6989586621679291145"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679291144"><span class="annot"><a href="#local-6989586621679291144"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679291142"><span class="annot"><a href="#local-6989586621679291142"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679291145"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291144"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679291143"><span class="annot"><a href="#local-6989586621679291143"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291145"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679291143"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291152"><span class="annot"><a href="#local-6989586621679291152"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291145"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291142"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291152"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679291152"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291143"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679291142"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-298"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291143"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-299"></span><span id="ifoldMapSing"><span class="annot"><span class="annottext">ifoldMapSing :: (forall (a :: k). Elem f as a -&gt; Sing a -&gt; m) -&gt; Sing as -&gt; m
</span><a href="Data.Type.Functor.Product.html#ifoldMapSing"><span class="hs-identifier hs-var hs-var">ifoldMapSing</span></a></span></span><span> </span><span id="local-6989586621679289924"><span class="annot"><span class="annottext">f :: forall (a :: k). Elem f as a -&gt; Sing a -&gt; m
</span><a href="#local-6989586621679289924"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). Elem f as a -&gt; Sing a -&gt; m)
-&gt; Prod f Sing as -&gt; m
forall k (f :: * -&gt; *) m (as :: f k) (g :: k -&gt; *).
(FProd f, Monoid m) =&gt;
(forall (a :: k). Elem f as a -&gt; g a -&gt; m) -&gt; Prod f g as -&gt; m
</span><a href="Data.Type.Functor.Product.html#ifoldMapProd"><span class="hs-identifier hs-var">ifoldMapProd</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: k). Elem f as a -&gt; Sing a -&gt; m
</span><a href="#local-6989586621679289924"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Prod f Sing as -&gt; m)
-&gt; (Sing as -&gt; Prod f Sing as) -&gt; Sing as -&gt; m
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Sing as -&gt; Prod f Sing as
forall (f :: * -&gt; *) k (as :: f k).
FProd f =&gt;
Sing as -&gt; Prod f Sing as
</span><a href="Data.Type.Functor.Product.html#singProd"><span class="hs-identifier hs-var">singProd</span></a></span><span>
</span><span id="line-300"></span><span>
</span><span id="line-301"></span><span class="hs-comment">-- | A 'foldMap' over all items in a collection.</span><span>
</span><span id="line-302"></span><span class="annot"><a href="Data.Type.Functor.Product.html#foldMapSing"><span class="hs-identifier hs-type">foldMapSing</span></a></span><span>
</span><span id="line-303"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679289923"><span class="annot"><a href="#local-6989586621679289923"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679289922"><span class="annot"><a href="#local-6989586621679289922"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289921"><span class="annot"><a href="#local-6989586621679289921"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679289923"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289922"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679289920"><span class="annot"><a href="#local-6989586621679289920"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289923"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679289920"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679291149"><span class="annot"><a href="#local-6989586621679291149"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679289922"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679291149"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289920"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679289921"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-306"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289920"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-307"></span><span id="foldMapSing"><span class="annot"><span class="annottext">foldMapSing :: (forall (a :: k). Sing a -&gt; m) -&gt; Sing as -&gt; m
</span><a href="Data.Type.Functor.Product.html#foldMapSing"><span class="hs-identifier hs-var hs-var">foldMapSing</span></a></span></span><span> </span><span id="local-6989586621679289919"><span class="annot"><span class="annottext">f :: forall (a :: k). Sing a -&gt; m
</span><a href="#local-6989586621679289919"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). Elem f as a -&gt; Sing a -&gt; m) -&gt; Sing as -&gt; m
forall (f :: * -&gt; *) k (as :: f k) m.
(FProd f, Monoid m) =&gt;
(forall (a :: k). Elem f as a -&gt; Sing a -&gt; m) -&gt; Sing as -&gt; m
</span><a href="Data.Type.Functor.Product.html#ifoldMapSing"><span class="hs-identifier hs-var">ifoldMapSing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Sing a -&gt; m) -&gt; Elem f as a -&gt; Sing a -&gt; m
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Sing a -&gt; m
forall (a :: k). Sing a -&gt; m
</span><a href="#local-6989586621679289919"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span class="hs-comment">-- | Rearrange or permute the items in a 'Prod' based on a 'Prod' of</span><span>
</span><span id="line-310"></span><span class="hs-comment">-- indices.</span><span>
</span><span id="line-311"></span><span class="hs-comment">--</span><span>
</span><span id="line-312"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-313"></span><span class="hs-comment">-- 'selectProd' ('IS' 'IZ' ':&amp;' IZ :&amp; 'RNil') (&quot;hi&quot; :&amp; &quot;bye&quot; :&amp; &quot;ok&quot; :&amp; RNil)</span><span>
</span><span id="line-314"></span><span class="hs-comment">--      == &quot;bye&quot; :&amp; &quot;hi&quot; :&amp; RNil</span><span>
</span><span id="line-315"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-316"></span><span id="local-6989586621679289915"><span id="local-6989586621679289916"><span id="local-6989586621679289917"><span id="local-6989586621679289918"><span class="annot"><a href="Data.Type.Functor.Product.html#selectProd"><span class="hs-identifier hs-type">selectProd</span></a></span><span>
</span><span id="line-317"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289918"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-318"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289918"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289918"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289917"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679289916"><span class="hs-identifier hs-type">bs</span></a></span><span>
</span><span id="line-319"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289918"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289915"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289917"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-320"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289918"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289915"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289916"><span class="hs-identifier hs-type">bs</span></a></span></span></span></span></span><span>
</span><span id="line-321"></span><span id="selectProd"><span class="annot"><span class="annottext">selectProd :: Prod f (Elem f as) bs -&gt; Prod f g as -&gt; Prod f g bs
</span><a href="Data.Type.Functor.Product.html#selectProd"><span class="hs-identifier hs-var hs-var">selectProd</span></a></span></span><span> </span><span id="local-6989586621679289914"><span class="annot"><span class="annottext">is :: Prod f (Elem f as) bs
</span><a href="#local-6989586621679289914"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span id="local-6989586621679289913"><span class="annot"><span class="annottext">xs :: Prod f g as
</span><a href="#local-6989586621679289913"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). Elem f as a -&gt; g a)
-&gt; Prod f (Elem f as) bs -&gt; Prod f g bs
forall k (f :: * -&gt; *) (g :: k -&gt; *) (h :: k -&gt; *) (as :: f k).
FProd f =&gt;
(forall (a :: k). g a -&gt; h a) -&gt; Prod f g as -&gt; Prod f h as
</span><a href="Data.Type.Functor.Product.html#mapProd"><span class="hs-identifier hs-var">mapProd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Elem f as a -&gt; Prod f g as -&gt; g a
forall k (f :: * -&gt; *) (as :: f k) (a :: k) (g :: k -&gt; *).
FProd f =&gt;
Elem f as a -&gt; Prod f g as -&gt; g a
</span><a href="Data.Type.Functor.Product.html#indexProd"><span class="hs-operator hs-var">`indexProd`</span></a></span><span> </span><span class="annot"><span class="annottext">Prod f g as
</span><a href="#local-6989586621679289913"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Prod f (Elem f as) bs
</span><a href="#local-6989586621679289914"><span class="hs-identifier hs-var">is</span></a></span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="hs-comment">-- | An implementation of equality testing for all 'FProd' instances, as</span><span>
</span><span id="line-324"></span><span class="hs-comment">-- long as each of the items are instances of 'Eq'.</span><span>
</span><span id="line-325"></span><span id="local-6989586621679290816"><span id="local-6989586621679290817"><span id="local-6989586621679290818"><span class="annot"><a href="Data.Type.Functor.Product.html#eqProd"><span class="hs-identifier hs-type">eqProd</span></a></span><span>
</span><span id="line-326"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290818"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290818"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679290817"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290816"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-327"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290818"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290817"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290816"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-328"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290818"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290817"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290816"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-329"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span></span><span>
</span><span id="line-330"></span><span id="eqProd"><span class="annot"><span class="annottext">eqProd :: Prod f g as -&gt; Prod f g as -&gt; Bool
</span><a href="Data.Type.Functor.Product.html#eqProd"><span class="hs-identifier hs-var hs-var">eqProd</span></a></span></span><span> </span><span id="local-6989586621679289912"><span class="annot"><span class="annottext">xs :: Prod f g as
</span><a href="#local-6989586621679289912"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">All -&gt; Bool
</span><span class="hs-identifier hs-var hs-var">getAll</span></span><span>
</span><span id="line-331"></span><span>          </span><span class="annot"><span class="annottext">(All -&gt; Bool) -&gt; (Prod f g as -&gt; All) -&gt; Prod f g as -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). Const All a -&gt; All)
-&gt; Prod f (Const All) as -&gt; All
forall k (f :: * -&gt; *) m (g :: k -&gt; *) (as :: f k).
(FProd f, Monoid m) =&gt;
(forall (a :: k). g a -&gt; m) -&gt; Prod f g as -&gt; m
</span><a href="Data.Type.Functor.Product.html#foldMapProd"><span class="hs-identifier hs-var">foldMapProd</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: k). Const All a -&gt; All
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span>
</span><span id="line-332"></span><span>          </span><span class="annot"><span class="annottext">(Prod f (Const All) as -&gt; All)
-&gt; (Prod f g as -&gt; Prod f (Const All) as) -&gt; Prod f g as -&gt; All
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). (:.) (Dict Eq) g a -&gt; g a -&gt; Const All a)
-&gt; Prod f (Dict Eq :. g) as -&gt; Prod f g as -&gt; Prod f (Const All) as
forall (f :: * -&gt; *) k (g :: k -&gt; *) (h :: k -&gt; *) (j :: k -&gt; *)
       (as :: f k).
FProd f =&gt;
(forall (a :: k). g a -&gt; h a -&gt; j a)
-&gt; Prod f g as -&gt; Prod f h as -&gt; Prod f j as
</span><a href="Data.Type.Functor.Product.html#zipWithProd"><span class="hs-identifier hs-var">zipWithProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V.Compose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dict</span></span><span> </span><span id="local-6989586621679289908"><span class="annot"><a href="#local-6989586621679289908"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679289907"><span class="annot"><span class="annottext">y :: g a
</span><a href="#local-6989586621679289907"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">All -&gt; Const All a
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; All
</span><span class="hs-identifier hs-var">All</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289908"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g a -&gt; g a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289907"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-333"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Prod f g as -&gt; Prod f (Dict Eq :. g) as
forall k (f :: * -&gt; *) (c :: * -&gt; Constraint) (g :: k -&gt; *)
       (as :: f k).
ReifyConstraintProd f c g as =&gt;
Prod f g as -&gt; Prod f (Dict c :. g) as
</span><a href="Data.Type.Functor.Product.html#reifyConstraintProd"><span class="hs-identifier hs-var">reifyConstraintProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><span class="annottext">Prod f g as
</span><a href="#local-6989586621679289912"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span class="hs-comment">-- | An implementation of order comparison for all 'FProd' instances, as</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- long as each of the items are instances of 'Ord'.</span><span>
</span><span id="line-337"></span><span id="local-6989586621679290809"><span id="local-6989586621679290810"><span id="local-6989586621679290811"><span class="annot"><a href="Data.Type.Functor.Product.html#compareProd"><span class="hs-identifier hs-type">compareProd</span></a></span><span>
</span><span id="line-338"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290811"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290811"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679290810"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290809"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290811"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290810"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290809"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-340"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290811"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290810"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290809"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-341"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ordering</span></span></span></span></span><span>
</span><span id="line-342"></span><span id="compareProd"><span class="annot"><span class="annottext">compareProd :: Prod f g as -&gt; Prod f g as -&gt; Ordering
</span><a href="Data.Type.Functor.Product.html#compareProd"><span class="hs-identifier hs-var hs-var">compareProd</span></a></span></span><span> </span><span id="local-6989586621679289905"><span class="annot"><span class="annottext">xs :: Prod f g as
</span><a href="#local-6989586621679289905"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). Const Ordering a -&gt; Ordering)
-&gt; Prod f (Const Ordering) as -&gt; Ordering
forall k (f :: * -&gt; *) m (g :: k -&gt; *) (as :: f k).
(FProd f, Monoid m) =&gt;
(forall (a :: k). g a -&gt; m) -&gt; Prod f g as -&gt; m
</span><a href="Data.Type.Functor.Product.html#foldMapProd"><span class="hs-identifier hs-var">foldMapProd</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: k). Const Ordering a -&gt; Ordering
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span>
</span><span id="line-343"></span><span>            </span><span class="annot"><span class="annottext">(Prod f (Const Ordering) as -&gt; Ordering)
-&gt; (Prod f g as -&gt; Prod f (Const Ordering) as)
-&gt; Prod f g as
-&gt; Ordering
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). (:.) (Dict Ord) g a -&gt; g a -&gt; Const Ordering a)
-&gt; Prod f (Dict Ord :. g) as
-&gt; Prod f g as
-&gt; Prod f (Const Ordering) as
forall (f :: * -&gt; *) k (g :: k -&gt; *) (h :: k -&gt; *) (j :: k -&gt; *)
       (as :: f k).
FProd f =&gt;
(forall (a :: k). g a -&gt; h a -&gt; j a)
-&gt; Prod f g as -&gt; Prod f h as -&gt; Prod f j as
</span><a href="Data.Type.Functor.Product.html#zipWithProd"><span class="hs-identifier hs-var">zipWithProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V.Compose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dict</span></span><span> </span><span id="local-6989586621679289904"><span class="annot"><a href="#local-6989586621679289904"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679289903"><span class="annot"><span class="annottext">y :: g a
</span><a href="#local-6989586621679289903"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering -&gt; Const Ordering a
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g a -&gt; g a -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289904"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289903"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Prod f g as -&gt; Prod f (Dict Ord :. g) as
forall k (f :: * -&gt; *) (c :: * -&gt; Constraint) (g :: k -&gt; *)
       (as :: f k).
ReifyConstraintProd f c g as =&gt;
Prod f g as -&gt; Prod f (Dict c :. g) as
</span><a href="Data.Type.Functor.Product.html#reifyConstraintProd"><span class="hs-identifier hs-var">reifyConstraintProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><span class="annottext">Prod f g as
</span><a href="#local-6989586621679289905"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span>
</span><span id="line-346"></span><span class="hs-comment">-- | Construct a 'Prod' purely by providing a generating function for each</span><span>
</span><span id="line-347"></span><span class="hs-comment">-- index.</span><span>
</span><span id="line-348"></span><span id="local-6989586621679289899"><span id="local-6989586621679289900"><span id="local-6989586621679289901"><span class="annot"><a href="Data.Type.Functor.Product.html#generateProd"><span class="hs-identifier hs-type">generateProd</span></a></span><span>
</span><span id="line-349"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289901"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289901"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289900"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-350"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291105"><span class="annot"><a href="#local-6989586621679291105"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289901"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289900"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291105"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289899"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291105"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-351"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289901"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289899"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289900"><span class="hs-keyword hs-type">as</span></a></span></span></span></span><span>
</span><span id="line-352"></span><span id="generateProd"><span class="annot"><span class="annottext">generateProd :: (forall (a :: k). Elem f as a -&gt; g a) -&gt; Prod f g as
</span><a href="Data.Type.Functor.Product.html#generateProd"><span class="hs-identifier hs-var hs-var">generateProd</span></a></span></span><span> </span><span id="local-6989586621679289898"><span class="annot"><span class="annottext">f :: forall (a :: k). Elem f as a -&gt; g a
</span><a href="#local-6989586621679289898"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). Elem f as a -&gt; g a)
-&gt; Prod f (Elem f as) as -&gt; Prod f g as
forall k (f :: * -&gt; *) (g :: k -&gt; *) (h :: k -&gt; *) (as :: f k).
FProd f =&gt;
(forall (a :: k). g a -&gt; h a) -&gt; Prod f g as -&gt; Prod f h as
</span><a href="Data.Type.Functor.Product.html#mapProd"><span class="hs-identifier hs-var">mapProd</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: k). Elem f as a -&gt; g a
</span><a href="#local-6989586621679289898"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Prod f (Elem f as) as
forall k (f :: * -&gt; *) (as :: f k).
(FProd f, PureProd f as) =&gt;
Prod f (Elem f as) as
</span><a href="Data.Type.Functor.Product.html#indices"><span class="hs-identifier hs-var">indices</span></a></span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span class="hs-comment">-- | Construct a 'Prod' in an 'Applicative' context by providing</span><span>
</span><span id="line-355"></span><span class="hs-comment">-- a generating function for each index.</span><span>
</span><span id="line-356"></span><span id="local-6989586621679289894"><span id="local-6989586621679289895"><span id="local-6989586621679289896"><span id="local-6989586621679289897"><span class="annot"><a href="Data.Type.Functor.Product.html#generateProdA"><span class="hs-identifier hs-type">generateProdA</span></a></span><span>
</span><span id="line-357"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289897"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289897"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289896"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679289895"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291097"><span class="annot"><a href="#local-6989586621679291097"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289897"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289896"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291097"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289895"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289894"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291097"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-359"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289895"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289897"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289894"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289896"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-360"></span><span id="generateProdA"><span class="annot"><span class="annottext">generateProdA :: (forall (a :: k). Elem f as a -&gt; m (g a)) -&gt; m (Prod f g as)
</span><a href="Data.Type.Functor.Product.html#generateProdA"><span class="hs-identifier hs-var hs-var">generateProdA</span></a></span></span><span> </span><span id="local-6989586621679289893"><span class="annot"><span class="annottext">f :: forall (a :: k). Elem f as a -&gt; m (g a)
</span><a href="#local-6989586621679289893"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). Elem f as a -&gt; m (g a))
-&gt; Prod f (Elem f as) as -&gt; m (Prod f g as)
forall (f :: * -&gt; *) k (g :: k -&gt; *) (h :: k -&gt; *) (as :: f k)
       (m :: * -&gt; *).
(FProd f, Applicative m) =&gt;
(forall (a :: k). g a -&gt; m (h a)) -&gt; Prod f g as -&gt; m (Prod f h as)
</span><a href="Data.Type.Functor.Product.html#traverseProd"><span class="hs-identifier hs-var">traverseProd</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: k). Elem f as a -&gt; m (g a)
</span><a href="#local-6989586621679289893"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Prod f (Elem f as) as
forall k (f :: * -&gt; *) (as :: f k).
(FProd f, PureProd f as) =&gt;
Prod f (Elem f as) as
</span><a href="Data.Type.Functor.Product.html#indices"><span class="hs-identifier hs-var">indices</span></a></span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span class="hs-comment">-- | Witness an item in a type-level list by providing its index.</span><span>
</span><span id="line-364"></span><span class="hs-comment">--</span><span>
</span><span id="line-365"></span><span class="hs-comment">-- The number of 'IS's correspond to the item's position in the list.</span><span>
</span><span id="line-366"></span><span class="hs-comment">--</span><span>
</span><span id="line-367"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-368"></span><span class="hs-comment">-- 'IZ'         :: 'Index' '[5,10,2] 5</span><span>
</span><span id="line-369"></span><span class="hs-comment">-- 'IS' 'IZ'      :: 'Index' '[5,10,2] 10</span><span>
</span><span id="line-370"></span><span class="hs-comment">-- 'IS' ('IS' 'IZ') :: 'Index' '[5,10,2] 2</span><span>
</span><span id="line-371"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-372"></span><span class="hs-keyword">data</span><span> </span><span id="Index"><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-var">Index</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span id="local-6989586621679289892"><span class="annot"><a href="#local-6989586621679289892"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289892"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-373"></span><span>    </span><span id="local-6989586621679289891"><span id="local-6989586621679291049"><span id="IZ"><span class="annot"><a href="Data.Type.Functor.Product.html#IZ"><span class="hs-identifier hs-var">IZ</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679291049"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679289891"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679291049"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-374"></span><span>    </span><span id="local-6989586621679289889"><span id="local-6989586621679289890"><span id="local-6989586621679291043"><span id="IS"><span class="annot"><a href="Data.Type.Functor.Product.html#IS"><span class="hs-identifier hs-var">IS</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289890"><span class="hs-identifier hs-type">bs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291043"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289889"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679289890"><span class="hs-identifier hs-type">bs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679291043"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-375"></span><span>
</span><span id="line-376"></span><span id="local-6989586621679289881"><span id="local-6989586621679289883"><span id="local-6989586621679289885"><span id="local-6989586621679289887"><span id="local-6989586621679289888"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289888"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289887"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-377"></span><span id="local-6989586621679289874"><span id="local-6989586621679289876"><span id="local-6989586621679289878"><span id="local-6989586621679289879"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289879"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289878"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-378"></span><span id="local-6989586621679289856"><span id="local-6989586621679289858"><span id="local-6989586621679289860"><span id="local-6989586621679289862"><span id="local-6989586621679289864"><span id="local-6989586621679289866"><span id="local-6989586621679289868"><span id="local-6989586621679289871"><span id="local-6989586621679289872"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289872"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289871"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="hs-comment">-- | Kind-indexed singleton for 'Index'.</span><span>
</span><span id="line-381"></span><span class="hs-keyword">data</span><span> </span><span id="SIndex"><span class="annot"><a href="Data.Type.Functor.Product.html#SIndex"><span class="hs-identifier hs-var">SIndex</span></a></span></span><span> </span><span id="local-6989586621679289854"><span class="annot"><a href="#local-6989586621679289854"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679289853"><span class="annot"><a href="#local-6989586621679289853"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289854"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289853"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-382"></span><span>    </span><span id="local-6989586621679289852"><span id="local-6989586621679291072"><span id="SIZ"><span class="annot"><a href="Data.Type.Functor.Product.html#SIZ"><span class="hs-identifier hs-var">SIZ</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIndex"><span class="hs-identifier hs-type">SIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679291072"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679289852"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679291072"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#IZ"><span class="hs-identifier hs-type">IZ</span></a></span></span></span><span>
</span><span id="line-383"></span><span>    </span><span id="local-6989586621679289848"><span id="local-6989586621679289849"><span id="local-6989586621679289850"><span id="local-6989586621679291062"><span id="SIS"><span class="annot"><a href="Data.Type.Functor.Product.html#SIS"><span class="hs-identifier hs-var">SIS</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIndex"><span class="hs-identifier hs-type">SIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289850"><span class="hs-identifier hs-type">bs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291062"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289849"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIndex"><span class="hs-identifier hs-type">SIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289848"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679289850"><span class="hs-identifier hs-type">bs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679291062"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#IS"><span class="hs-identifier hs-type">IS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289849"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span id="local-6989586621679289838"><span id="local-6989586621679289840"><span id="local-6989586621679289842"><span id="local-6989586621679289844"><span id="local-6989586621679289845"><span id="local-6989586621679289846"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#SIndex"><span class="hs-identifier hs-type">SIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289846"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289845"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289844"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Sing"><span class="annot"><span class="hs-identifier hs-var">Sing</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIndex"><span class="hs-identifier hs-type">SIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289837"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289836"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span id="local-6989586621679289837"><span class="annot"><a href="#local-6989586621679289837"><span class="hs-keyword hs-type hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679289836"><span class="annot"><a href="#local-6989586621679289836"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#IZ"><span class="hs-identifier hs-type">IZ</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-390"></span><span>    </span><span id="local-6989586621679289833"><span class="annot"><span class="annottext">sing :: Sing 'IZ
</span><a href="#local-6989586621679289833"><span class="hs-identifier hs-var hs-var hs-var hs-var">sing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing 'IZ
forall k (a :: k) (as :: [k]). SIndex (a : as) a 'IZ
</span><a href="Data.Type.Functor.Product.html#SIZ"><span class="hs-identifier hs-var">SIZ</span></a></span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span id="local-6989586621679289832"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="annot"><a href="#local-6989586621679289832"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#IS"><span class="hs-identifier hs-type">IS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289832"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-393"></span><span>    </span><span id="local-6989586621679289830"><span class="annot"><span class="annottext">sing :: Sing ('IS i)
</span><a href="#local-6989586621679289830"><span class="hs-identifier hs-var hs-var hs-var hs-var">sing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SIndex bs a i -&gt; SIndex (b : bs) a ('IS i)
forall k (bs :: [k]) (a :: k) (i :: Index bs a) (b :: k).
SIndex bs a i -&gt; SIndex (b : bs) a ('IS i)
</span><a href="Data.Type.Functor.Product.html#SIS"><span class="hs-identifier hs-var">SIS</span></a></span><span> </span><span class="annot"><span class="annottext">SIndex bs a i
forall k (a :: k). SingI a =&gt; Sing a
</span><span class="hs-identifier hs-var">sing</span></span></span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span id="local-6989586621679289828"><span id="local-6989586621679289829"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingKind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289829"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289828"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-396"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Demote"><span class="annot"><span class="hs-identifier hs-var">Demote</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289829"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289828"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289829"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289828"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-397"></span><span>    </span><span id="local-6989586621679289824"><span class="annot"><span class="annottext">fromSing :: Sing a -&gt; Demote (Index as a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSing</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-398"></span><span>       </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIZ"><span class="hs-identifier hs-type">SIZ</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Demote (Index as a)
forall k (a :: k) (as :: [k]). Index (a : as) a
</span><a href="Data.Type.Functor.Product.html#IZ"><span class="hs-identifier hs-var">IZ</span></a></span><span>
</span><span id="line-399"></span><span>       </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIS"><span class="hs-identifier hs-type">SIS</span></a></span><span> </span><span id="local-6989586621679289822"><span class="annot"><a href="#local-6989586621679289822"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Index bs a -&gt; Index (b : bs) a
forall k (bs :: [k]) (a :: k) (b :: k).
Index bs a -&gt; Index (b : bs) a
</span><a href="Data.Type.Functor.Product.html#IS"><span class="hs-identifier hs-var">IS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sing i -&gt; Demote (Index bs a)
forall k (a :: k). SingKind k =&gt; Sing a -&gt; Demote k
</span><span class="hs-identifier hs-var">fromSing</span></span><span> </span><span class="annot"><span class="annottext">Sing i
SIndex bs a i
</span><a href="#local-6989586621679289822"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span>    </span><span id="local-6989586621679289821"><span class="annot"><span class="annottext">toSing :: Demote (Index as a) -&gt; SomeSing (Index as a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toSing</span></span></span><span> </span><span id="local-6989586621679289819"><span class="annot"><span class="annottext">i :: Demote (Index as a)
</span><a href="#local-6989586621679289819"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Index as a
-&gt; (forall (i :: Index as a).
    SIndex as a i -&gt; SomeSing (Index as a))
-&gt; SomeSing (Index as a)
forall k (bs :: [k]) (b :: k) r.
Index bs b -&gt; (forall (i :: Index bs b). SIndex bs b i -&gt; r) -&gt; r
</span><a href="#local-6989586621679289818"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Demote (Index as a)
Index as a
</span><a href="#local-6989586621679289819"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">forall k (a :: k). Sing a -&gt; SomeSing k
forall (i :: Index as a). SIndex as a i -&gt; SomeSing (Index as a)
</span><span class="hs-identifier hs-var">SomeSing</span></span><span>
</span><span id="line-401"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-402"></span><span>        </span><span id="local-6989586621679291036"><span id="local-6989586621679291037"><span id="local-6989586621679291038"><span class="annot"><a href="#local-6989586621679289818"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291038"><span class="hs-identifier hs-type">bs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291037"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679291040"><span class="annot"><a href="#local-6989586621679291040"><span class="hs-identifier hs-type">i</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIndex"><span class="hs-identifier hs-type">SIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291038"><span class="hs-identifier hs-type">bs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291037"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679291040"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291036"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679291036"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-403"></span><span>        </span><span id="local-6989586621679289818"><span class="annot"><span class="annottext">go :: Index bs b -&gt; (forall (i :: Index bs b). SIndex bs b i -&gt; r) -&gt; r
</span><a href="#local-6989586621679289818"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-404"></span><span>          </span><span class="annot"><a href="Data.Type.Functor.Product.html#IZ"><span class="hs-identifier hs-type">IZ</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SIndex bs b 'IZ -&gt; r) -&gt; SIndex bs b 'IZ -&gt; r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SIndex bs b 'IZ
forall k (a :: k) (as :: [k]). SIndex (a : as) a 'IZ
</span><a href="Data.Type.Functor.Product.html#SIZ"><span class="hs-identifier hs-var">SIZ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-405"></span><span>          </span><span class="annot"><a href="Data.Type.Functor.Product.html#IS"><span class="hs-identifier hs-type">IS</span></a></span><span> </span><span id="local-6989586621679289816"><span class="annot"><span class="annottext">j :: Index bs b
</span><a href="#local-6989586621679289816"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679289815"><span class="annot"><span class="annottext">f :: forall (i :: Index bs b). SIndex bs b i -&gt; r
</span><a href="#local-6989586621679289815"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Index bs b -&gt; (forall (i :: Index bs b). SIndex bs b i -&gt; r) -&gt; r
forall k (bs :: [k]) (b :: k) r.
Index bs b -&gt; (forall (i :: Index bs b). SIndex bs b i -&gt; r) -&gt; r
</span><a href="#local-6989586621679289818"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Index bs b
</span><a href="#local-6989586621679289816"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SIndex bs b ('IS i) -&gt; r
forall (i :: Index bs b). SIndex bs b i -&gt; r
</span><a href="#local-6989586621679289815"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(SIndex bs b ('IS i) -&gt; r)
-&gt; (SIndex bs b i -&gt; SIndex bs b ('IS i)) -&gt; SIndex bs b i -&gt; r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SIndex bs b i -&gt; SIndex bs b ('IS i)
forall k (bs :: [k]) (a :: k) (i :: Index bs a) (b :: k).
SIndex bs a i -&gt; SIndex (b : bs) a ('IS i)
</span><a href="Data.Type.Functor.Product.html#SIS"><span class="hs-identifier hs-var">SIS</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span id="local-6989586621679289813"><span id="local-6989586621679289814"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SDecide</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289814"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289813"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-408"></span><span>    </span><span id="local-6989586621679289810"><span class="annot"><span class="annottext">%~ :: Sing a -&gt; Sing b -&gt; Decision (a :~: b)
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(%~)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-409"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIZ"><span class="hs-identifier hs-type">SIZ</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-410"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIZ"><span class="hs-identifier hs-type">SIZ</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(a :~: a) -&gt; Decision (a :~: a)
forall a. a -&gt; Decision a
</span><span class="hs-identifier hs-var">Proved</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span><span>
</span><span id="line-411"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIS"><span class="hs-identifier hs-type">SIS</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Refuted (a :~: b) -&gt; Decision (a :~: b)
forall a. Refuted a -&gt; Decision a
</span><span class="hs-identifier hs-var">Disproved</span></span><span> </span><span class="annot"><span class="annottext">(Refuted (a :~: b) -&gt; Decision (a :~: b))
-&gt; Refuted (a :~: b) -&gt; Decision (a :~: b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-412"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIS"><span class="hs-identifier hs-type">SIS</span></a></span><span> </span><span id="local-6989586621679289806"><span class="annot"><a href="#local-6989586621679289806"><span class="hs-identifier hs-var">i'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-413"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIZ"><span class="hs-identifier hs-type">SIZ</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Refuted (a :~: b) -&gt; Decision (a :~: b)
forall a. Refuted a -&gt; Decision a
</span><span class="hs-identifier hs-var">Disproved</span></span><span> </span><span class="annot"><span class="annottext">(Refuted (a :~: b) -&gt; Decision (a :~: b))
-&gt; Refuted (a :~: b) -&gt; Decision (a :~: b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-414"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIS"><span class="hs-identifier hs-type">SIS</span></a></span><span> </span><span id="local-6989586621679289805"><span class="annot"><a href="#local-6989586621679289805"><span class="hs-identifier hs-var">j'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sing i
SIndex bs a i
</span><a href="#local-6989586621679289806"><span class="hs-identifier hs-var">i'</span></a></span><span> </span><span class="annot"><span class="annottext">Sing i -&gt; Sing i -&gt; Decision (i :~: i)
forall k (a :: k) (b :: k).
SDecide k =&gt;
Sing a -&gt; Sing b -&gt; Decision (a :~: b)
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">Sing i
SIndex bs a i
</span><a href="#local-6989586621679289805"><span class="hs-identifier hs-var">j'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-415"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Proved</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Refl</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(a :~: a) -&gt; Decision (a :~: a)
forall a. a -&gt; Decision a
</span><span class="hs-identifier hs-var">Proved</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span><span>
</span><span id="line-416"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Disproved</span></span><span> </span><span id="local-6989586621679289804"><span class="annot"><span class="annottext">v :: Refuted (i :~: i)
</span><a href="#local-6989586621679289804"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Refuted (a :~: b) -&gt; Decision (a :~: b)
forall a. Refuted a -&gt; Decision a
</span><span class="hs-identifier hs-var">Disproved</span></span><span> </span><span class="annot"><span class="annottext">(Refuted (a :~: b) -&gt; Decision (a :~: b))
-&gt; Refuted (a :~: b) -&gt; Decision (a :~: b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Refl</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Refuted (i :~: i)
</span><a href="#local-6989586621679289804"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">i :~: i
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span></span></span><span>
</span><span id="line-417"></span><span>
</span><span id="line-418"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-419"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Elem"><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-var">Elem</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span>
</span><span id="line-420"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Prod"><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-var">Prod</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rec</span></span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span>    </span><span id="local-6989586621679289789"><span class="annot"><span class="annottext">singProd :: Sing as -&gt; Prod [] Sing as
</span><a href="#local-6989586621679289789"><span class="hs-identifier hs-var hs-var hs-var hs-var">singProd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-423"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">SNil</span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Prod [] Sing as
forall u (a :: u -&gt; *). Rec a '[]
</span><span class="hs-identifier hs-var">RNil</span></span><span>
</span><span id="line-424"></span><span>      </span><span id="local-6989586621679289786"><span class="annot"><a href="#local-6989586621679289786"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">`SCons`</span></span><span> </span><span id="local-6989586621679289784"><span class="annot"><a href="#local-6989586621679289784"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sing n1
</span><a href="#local-6989586621679289786"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Sing n1 -&gt; Rec Sing n2 -&gt; Rec Sing (n1 : n2)
forall u (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><span class="hs-operator hs-var">:&amp;</span></span><span> </span><span class="annot"><span class="annottext">Sing n2 -&gt; Prod [] Sing n2
forall (f :: * -&gt; *) k (as :: f k).
FProd f =&gt;
Sing as -&gt; Prod f Sing as
</span><a href="Data.Type.Functor.Product.html#singProd"><span class="hs-identifier hs-var">singProd</span></a></span><span> </span><span class="annot"><span class="annottext">Sing n2
</span><a href="#local-6989586621679289784"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span>    </span><span id="local-6989586621679289782"><span class="annot"><span class="annottext">prodSing :: Prod [] Sing as -&gt; Sing as
</span><a href="#local-6989586621679289782"><span class="hs-identifier hs-var hs-var hs-var hs-var">prodSing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-427"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">RNil</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sing as
forall a0. SList '[]
</span><span class="hs-identifier hs-var">SNil</span></span><span>
</span><span id="line-428"></span><span>      </span><span id="local-6989586621679289781"><span class="annot"><a href="#local-6989586621679289781"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&amp;</span></span><span> </span><span id="local-6989586621679289780"><span class="annot"><a href="#local-6989586621679289780"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sing r
</span><a href="#local-6989586621679289781"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Sing r -&gt; Sing rs -&gt; SList (r : rs)
forall a0 (n1 :: a0) (n2 :: [a0]).
Sing n1 -&gt; Sing n2 -&gt; SList (n1 : n2)
</span><span class="hs-operator hs-var">`SCons`</span></span><span> </span><span class="annot"><span class="annottext">Prod [] Sing rs -&gt; Sing rs
forall (f :: * -&gt; *) k (as :: f k).
FProd f =&gt;
Prod f Sing as -&gt; Sing as
</span><a href="Data.Type.Functor.Product.html#prodSing"><span class="hs-identifier hs-var">prodSing</span></a></span><span> </span><span class="annot"><span class="annottext">Rec Sing rs
Prod [] Sing rs
</span><a href="#local-6989586621679289780"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#traverseProd"><span class="hs-identifier hs-type">traverseProd</span></a></span><span>
</span><span id="line-431"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679289779"><span class="annot"><a href="#local-6989586621679289779"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679289778"><span class="annot"><a href="#local-6989586621679289778"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679289777"><span class="annot"><a href="#local-6989586621679289777"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679289776"><span class="annot"><a href="#local-6989586621679289776"><span class="hs-keyword hs-type">as</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679289777"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-432"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679290973"><span class="annot"><a href="#local-6989586621679290973"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679289779"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290973"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289777"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289778"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290973"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-433"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289779"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289776"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-434"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289777"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289778"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289776"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>    </span><span id="local-6989586621679289775"><span class="annot"><span class="annottext">traverseProd :: (forall (a :: k). g a -&gt; m (h a))
-&gt; Prod [] g as -&gt; m (Prod [] h as)
</span><a href="#local-6989586621679289775"><span class="hs-identifier hs-var hs-var hs-var hs-var">traverseProd</span></a></span></span><span> </span><span id="local-6989586621679289774"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; m (h a)
</span><a href="#local-6989586621679289774"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prod [] g as -&gt; m (Prod [] h as)
forall (bs :: [k]). Prod [] g bs -&gt; m (Prod [] h bs)
</span><a href="#local-6989586621679289773"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-436"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-437"></span><span>        </span><span id="local-6989586621679290969"><span class="annot"><a href="#local-6989586621679289773"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289779"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290969"><span class="hs-identifier hs-type">bs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289777"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289778"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290969"><span class="hs-identifier hs-type">bs</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-438"></span><span>        </span><span id="local-6989586621679289773"><span class="annot"><span class="annottext">go :: Prod [] g bs -&gt; m (Prod [] h bs)
</span><a href="#local-6989586621679289773"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-439"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">RNil</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rec h '[] -&gt; m (Rec h '[])
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Rec h '[]
forall u (a :: u -&gt; *). Rec a '[]
</span><span class="hs-identifier hs-var">RNil</span></span><span>
</span><span id="line-440"></span><span>          </span><span id="local-6989586621679289772"><span class="annot"><a href="#local-6989586621679289772"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&amp;</span></span><span> </span><span id="local-6989586621679289771"><span class="annot"><a href="#local-6989586621679289771"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">h r -&gt; Rec h rs -&gt; Rec h (r : rs)
forall u (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><span class="hs-operator hs-var">(:&amp;)</span></span><span> </span><span class="annot"><span class="annottext">(h r -&gt; Rec h rs -&gt; Rec h (r : rs))
-&gt; m (h r) -&gt; m (Rec h rs -&gt; Rec h (r : rs))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g r -&gt; m (h r)
forall (a :: k). g a -&gt; m (h a)
</span><a href="#local-6989586621679289774"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g r
</span><a href="#local-6989586621679289772"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m (Rec h rs -&gt; Rec h (r : rs))
-&gt; m (Rec h rs) -&gt; m (Rec h (r : rs))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Prod [] g rs -&gt; m (Prod [] h rs)
forall (bs :: [k]). Prod [] g bs -&gt; m (Prod [] h bs)
</span><a href="#local-6989586621679289773"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Rec g rs
Prod [] g rs
</span><a href="#local-6989586621679289771"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#zipWithProd"><span class="hs-identifier hs-type">zipWithProd</span></a></span><span>
</span><span id="line-443"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679289769"><span class="annot"><a href="#local-6989586621679289769"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679289768"><span class="annot"><a href="#local-6989586621679289768"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679289767"><span class="annot"><a href="#local-6989586621679289767"><span class="hs-identifier hs-type">j</span></a></span></span><span> </span><span id="local-6989586621679289766"><span class="annot"><a href="#local-6989586621679289766"><span class="hs-keyword hs-type">as</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679290956"><span class="annot"><a href="#local-6989586621679290956"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679289769"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290956"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289768"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290956"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289767"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290956"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289769"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289766"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-446"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289768"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289766"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-447"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289767"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289766"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-448"></span><span>    </span><span id="local-6989586621679289765"><span class="annot"><span class="annottext">zipWithProd :: (forall (a :: k). g a -&gt; h a -&gt; j a)
-&gt; Prod [] g as -&gt; Prod [] h as -&gt; Prod [] j as
</span><a href="#local-6989586621679289765"><span class="hs-identifier hs-var hs-var hs-var hs-var">zipWithProd</span></a></span></span><span> </span><span id="local-6989586621679289764"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679289764"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prod [] g as -&gt; Prod [] h as -&gt; Prod [] j as
forall (bs :: [k]). Prod [] g bs -&gt; Prod [] h bs -&gt; Prod [] j bs
</span><a href="#local-6989586621679289763"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-449"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-450"></span><span>        </span><span id="local-6989586621679290952"><span class="annot"><a href="#local-6989586621679289763"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289769"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290952"><span class="hs-identifier hs-type">bs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289768"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290952"><span class="hs-identifier hs-type">bs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289767"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290952"><span class="hs-identifier hs-type">bs</span></a></span></span><span>
</span><span id="line-451"></span><span>        </span><span id="local-6989586621679289763"><span class="annot"><span class="annottext">go :: Prod [] g bs -&gt; Prod [] h bs -&gt; Prod [] j bs
</span><a href="#local-6989586621679289763"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-452"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">RNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-453"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">RNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Prod [] j bs
forall u (a :: u -&gt; *). Rec a '[]
</span><span class="hs-identifier hs-var">RNil</span></span><span>
</span><span id="line-454"></span><span>          </span><span id="local-6989586621679289762"><span class="annot"><a href="#local-6989586621679289762"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&amp;</span></span><span> </span><span id="local-6989586621679289761"><span class="annot"><a href="#local-6989586621679289761"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-455"></span><span>            </span><span id="local-6989586621679289760"><span class="annot"><a href="#local-6989586621679289760"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&amp;</span></span><span> </span><span id="local-6989586621679289759"><span class="annot"><a href="#local-6989586621679289759"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">g r -&gt; h r -&gt; j r
forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679289764"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g r
</span><a href="#local-6989586621679289762"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">h r
h r
</span><a href="#local-6989586621679289760"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">j r -&gt; Rec j rs -&gt; Rec j (r : rs)
forall u (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><span class="hs-operator hs-var">:&amp;</span></span><span> </span><span class="annot"><span class="annottext">Prod [] g rs -&gt; Prod [] h rs -&gt; Prod [] j rs
forall (bs :: [k]). Prod [] g bs -&gt; Prod [] h bs -&gt; Prod [] j bs
</span><a href="#local-6989586621679289763"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Rec g rs
Prod [] g rs
</span><a href="#local-6989586621679289761"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Rec h rs
Prod [] h rs
</span><a href="#local-6989586621679289759"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#htraverse"><span class="hs-identifier hs-type">htraverse</span></a></span><span>
</span><span id="line-458"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679289758"><span class="annot"><a href="#local-6989586621679289758"><span class="hs-identifier hs-type">ff</span></a></span></span><span> </span><span id="local-6989586621679289757"><span class="annot"><a href="#local-6989586621679289757"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679289756"><span class="annot"><a href="#local-6989586621679289756"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679289755"><span class="annot"><a href="#local-6989586621679289755"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679289754"><span class="annot"><a href="#local-6989586621679289754"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679289754"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-459"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679289758"><span class="hs-identifier hs-type">ff</span></a></span><span>
</span><span id="line-460"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679290942"><span class="annot"><a href="#local-6989586621679290942"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679289757"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290942"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289754"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289756"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289758"><span class="hs-identifier hs-type">ff</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">@@</span></span><span> </span><span class="annot"><a href="#local-6989586621679290942"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-461"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289757"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289755"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-462"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289754"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289756"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fmap</span></span><span> </span><span class="annot"><a href="#local-6989586621679289758"><span class="hs-identifier hs-type">ff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289755"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-463"></span><span>    </span><span id="local-6989586621679289753"><span class="annot"><span class="annottext">htraverse :: Sing ff
-&gt; (forall (a :: a0). g a -&gt; m (h (ff @@ a)))
-&gt; Prod [] g as
-&gt; m (Prod [] h (Fmap ff as))
</span><a href="#local-6989586621679289753"><span class="hs-identifier hs-var hs-var hs-var hs-var">htraverse</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679289752"><span class="annot"><span class="annottext">f :: forall (a :: a0). g a -&gt; m (h (ff @@ a))
</span><a href="#local-6989586621679289752"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prod [] g as -&gt; m (Prod [] h (Fmap ff as))
forall (bs :: [a0]). Prod [] g bs -&gt; m (Prod [] h (Fmap ff bs))
</span><a href="#local-6989586621679289751"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-464"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-465"></span><span>        </span><span id="local-6989586621679290938"><span class="annot"><a href="#local-6989586621679289751"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289757"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290938"><span class="hs-identifier hs-type">bs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289754"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289756"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fmap</span></span><span> </span><span class="annot"><a href="#local-6989586621679289758"><span class="hs-identifier hs-type">ff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290938"><span class="hs-identifier hs-type">bs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-466"></span><span>        </span><span id="local-6989586621679289751"><span class="annot"><span class="annottext">go :: Prod [] g bs -&gt; m (Prod [] h (Fmap ff bs))
</span><a href="#local-6989586621679289751"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-467"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">RNil</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rec h '[] -&gt; m (Rec h '[])
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Rec h '[]
forall u (a :: u -&gt; *). Rec a '[]
</span><span class="hs-identifier hs-var">RNil</span></span><span>
</span><span id="line-468"></span><span>          </span><span id="local-6989586621679289750"><span class="annot"><a href="#local-6989586621679289750"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&amp;</span></span><span> </span><span id="local-6989586621679289749"><span class="annot"><a href="#local-6989586621679289749"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">h (Apply ff r)
-&gt; Rec h (Fmap_6989586621680022722 ff rs)
-&gt; Rec h (Apply ff r : Fmap_6989586621680022722 ff rs)
forall u (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><span class="hs-operator hs-var">(:&amp;)</span></span><span> </span><span class="annot"><span class="annottext">(h (Apply ff r)
 -&gt; Rec h (Fmap_6989586621680022722 ff rs)
 -&gt; Rec h (Apply ff r : Fmap_6989586621680022722 ff rs))
-&gt; m (h (Apply ff r))
-&gt; m (Rec h (Fmap_6989586621680022722 ff rs)
      -&gt; Rec h (Apply ff r : Fmap_6989586621680022722 ff rs))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g r -&gt; m (h (Apply ff r))
forall (a :: a0). g a -&gt; m (h (ff @@ a))
</span><a href="#local-6989586621679289752"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g r
</span><a href="#local-6989586621679289750"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m (Rec h (Fmap_6989586621680022722 ff rs)
   -&gt; Rec h (Apply ff r : Fmap_6989586621680022722 ff rs))
-&gt; m (Rec h (Fmap_6989586621680022722 ff rs))
-&gt; m (Rec h (Apply ff r : Fmap_6989586621680022722 ff rs))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Prod [] g rs -&gt; m (Prod [] h (Fmap ff rs))
forall (bs :: [a0]). Prod [] g bs -&gt; m (Prod [] h (Fmap ff bs))
</span><a href="#local-6989586621679289751"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Rec g rs
Prod [] g rs
</span><a href="#local-6989586621679289749"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-469"></span><span>
</span><span id="line-470"></span><span>    </span><span id="local-6989586621679289748"><span class="annot"><span class="annottext">withIndices :: Prod [] g as -&gt; Prod [] (Elem [] as :*: g) as
</span><a href="#local-6989586621679289748"><span class="hs-identifier hs-var hs-var hs-var hs-var">withIndices</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-471"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">RNil</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Prod [] (Elem [] as :*: g) as
forall u (a :: u -&gt; *). Rec a '[]
</span><span class="hs-identifier hs-var">RNil</span></span><span>
</span><span id="line-472"></span><span>        </span><span id="local-6989586621679289747"><span class="annot"><a href="#local-6989586621679289747"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&amp;</span></span><span> </span><span id="local-6989586621679289746"><span class="annot"><a href="#local-6989586621679289746"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index (r : rs) r
forall k (a :: k) (as :: [k]). Index (a : as) a
</span><a href="Data.Type.Functor.Product.html#IZ"><span class="hs-identifier hs-var">IZ</span></a></span><span> </span><span class="annot"><span class="annottext">Index (r : rs) r -&gt; g r -&gt; (:*:) (Index (r : rs)) g r
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g r
</span><a href="#local-6989586621679289747"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(:*:) (Index (r : rs)) g r
-&gt; Rec (Index (r : rs) :*: g) rs
-&gt; Rec (Index (r : rs) :*: g) (r : rs)
forall u (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><span class="hs-operator hs-var">:&amp;</span></span><span> </span><span class="annot"><span class="annottext">(forall (a :: k).
 (:*:) (Index rs) g a -&gt; (:*:) (Index (r : rs)) g a)
-&gt; Prod [] (Index rs :*: g) rs -&gt; Prod [] (Index (r : rs) :*: g) rs
forall k (f :: * -&gt; *) (g :: k -&gt; *) (h :: k -&gt; *) (as :: f k).
FProd f =&gt;
(forall (a :: k). g a -&gt; h a) -&gt; Prod f g as -&gt; Prod f h as
</span><a href="Data.Type.Functor.Product.html#mapProd"><span class="hs-identifier hs-var">mapProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679289745"><span class="annot"><a href="#local-6989586621679289745"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679289744"><span class="annot"><a href="#local-6989586621679289744"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Index rs a -&gt; Index (r : rs) a
forall k (bs :: [k]) (a :: k) (b :: k).
Index bs a -&gt; Index (b : bs) a
</span><a href="Data.Type.Functor.Product.html#IS"><span class="hs-identifier hs-var">IS</span></a></span><span> </span><span class="annot"><span class="annottext">Index rs a
</span><a href="#local-6989586621679289745"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Index (r : rs) a -&gt; g a -&gt; (:*:) (Index (r : rs)) g a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289744"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Prod [] g rs -&gt; Prod [] (Elem [] rs :*: g) rs
forall (f :: * -&gt; *) k (g :: k -&gt; *) (as :: f k).
FProd f =&gt;
Prod f g as -&gt; Prod f (Elem f as :*: g) as
</span><a href="Data.Type.Functor.Product.html#withIndices"><span class="hs-identifier hs-var">withIndices</span></a></span><span> </span><span class="annot"><span class="annottext">Rec g rs
Prod [] g rs
</span><a href="#local-6989586621679289746"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#ixProd"><span class="hs-identifier hs-type">ixProd</span></a></span><span>
</span><span id="line-475"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679289743"><span class="annot"><a href="#local-6989586621679289743"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679289742"><span class="annot"><a href="#local-6989586621679289742"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679289741"><span class="annot"><a href="#local-6989586621679289741"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289742"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289741"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-477"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lens'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289743"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289742"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289743"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289741"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-478"></span><span>    </span><span id="local-6989586621679289740"><span class="annot"><span class="annottext">ixProd :: Elem [] as a -&gt; Lens' (Prod [] g as) (g a)
</span><a href="#local-6989586621679289740"><span class="hs-identifier hs-var hs-var hs-var hs-var">ixProd</span></a></span></span><span> </span><span id="local-6989586621679289739"><span class="annot"><span class="annottext">i0 :: Elem [] as a
</span><a href="#local-6989586621679289739"><span class="hs-identifier hs-var">i0</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289738"><span id="local-6989586621679289737"><span class="annot"><span class="annottext">g a -&gt; f (g a)
</span><a href="#local-6989586621679289737"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679289743"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289741"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289738"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289743"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289741"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Elem [] as a -&gt; Prod [] g as -&gt; f (Prod [] g as)
forall (bs :: [k]).
Elem [] bs a -&gt; Prod [] g bs -&gt; f (Prod [] g bs)
</span><a href="#local-6989586621679289736"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Elem [] as a
</span><a href="#local-6989586621679289739"><span class="hs-identifier hs-var">i0</span></a></span><span>
</span><span id="line-479"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-480"></span><span>        </span><span id="local-6989586621679290922"><span class="annot"><a href="#local-6989586621679289736"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-type">Elem</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679290922"><span class="hs-identifier hs-type">bs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289741"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289743"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290922"><span class="hs-identifier hs-type">bs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289738"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289743"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290922"><span class="hs-identifier hs-type">bs</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-481"></span><span>        </span><span id="local-6989586621679289736"><span class="annot"><span class="annottext">go :: Elem [] bs a -&gt; Prod [] g bs -&gt; f (Prod [] g bs)
</span><a href="#local-6989586621679289736"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-482"></span><span>          </span><span class="annot"><a href="Data.Type.Functor.Product.html#IZ"><span class="hs-identifier hs-type">IZ</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-483"></span><span>            </span><span id="local-6989586621679289735"><span class="annot"><a href="#local-6989586621679289735"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&amp;</span></span><span> </span><span id="local-6989586621679289734"><span class="annot"><a href="#local-6989586621679289734"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g a -&gt; Rec g rs -&gt; Rec g (a : rs)
forall u (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><span class="hs-operator hs-var">:&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rec g rs
</span><a href="#local-6989586621679289734"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(g a -&gt; Rec g (a : rs)) -&gt; f (g a) -&gt; f (Rec g (a : rs))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; f (g a)
</span><a href="#local-6989586621679289737"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
g r
</span><a href="#local-6989586621679289735"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-484"></span><span>          </span><span class="annot"><a href="Data.Type.Functor.Product.html#IS"><span class="hs-identifier hs-type">IS</span></a></span><span> </span><span id="local-6989586621679289733"><span class="annot"><a href="#local-6989586621679289733"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-485"></span><span>            </span><span id="local-6989586621679289732"><span class="annot"><a href="#local-6989586621679289732"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&amp;</span></span><span> </span><span id="local-6989586621679289731"><span class="annot"><a href="#local-6989586621679289731"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g r
</span><a href="#local-6989586621679289732"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g r -&gt; Rec g bs -&gt; Rec g (r : bs)
forall u (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><span class="hs-operator hs-var">:&amp;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Rec g bs -&gt; Rec g (r : bs)) -&gt; f (Rec g bs) -&gt; f (Rec g (r : bs))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Elem [] bs a -&gt; Prod [] g bs -&gt; f (Prod [] g bs)
forall (bs :: [k]).
Elem [] bs a -&gt; Prod [] g bs -&gt; f (Prod [] g bs)
</span><a href="#local-6989586621679289736"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Index bs a
Elem [] bs a
</span><a href="#local-6989586621679289733"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Rec g rs
Prod [] g bs
</span><a href="#local-6989586621679289731"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-486"></span><span>
</span><span id="line-487"></span><span>    </span><span id="local-6989586621679289730"><span class="annot"><span class="annottext">toRec :: Prod [] g as -&gt; Rec g (ToList as)
</span><a href="#local-6989586621679289730"><span class="hs-identifier hs-var hs-var hs-var hs-var">toRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prod [] g as -&gt; Rec g (ToList as)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span>    </span><span id="local-6989586621679289728"><span class="annot"><span class="annottext">withPureProd :: Prod [] g as -&gt; (PureProd [] as =&gt; r) -&gt; r
</span><a href="#local-6989586621679289728"><span class="hs-identifier hs-var hs-var hs-var hs-var">withPureProd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prod [] g as -&gt; (PureProd [] as =&gt; r) -&gt; r
forall k (f :: k -&gt; *) (as :: [k]) r.
Rec f as -&gt; ((RecApplicative as, PureProd [] as) =&gt; r) -&gt; r
</span><a href="Data.Type.Functor.Product.html#withPureProdList"><span class="hs-identifier hs-var">withPureProdList</span></a></span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span class="hs-comment">-- | A stronger version of 'withPureProd' for 'Rec', providing</span><span>
</span><span id="line-492"></span><span class="hs-comment">-- a 'RecApplicative' instance as well.</span><span>
</span><span id="line-493"></span><span id="local-6989586621679290903"><span id="local-6989586621679290905"><span id="local-6989586621679290906"><span class="annot"><a href="Data.Type.Functor.Product.html#withPureProdList"><span class="hs-identifier hs-type">withPureProdList</span></a></span><span>
</span><span id="line-494"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rec</span></span><span> </span><span class="annot"><a href="#local-6989586621679290906"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290905"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-495"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RecApplicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679290905"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679290905"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679290903"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-496"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679290903"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-497"></span><span id="withPureProdList"><span class="annot"><span class="annottext">withPureProdList :: Rec f as -&gt; ((RecApplicative as, PureProd [] as) =&gt; r) -&gt; r
</span><a href="Data.Type.Functor.Product.html#withPureProdList"><span class="hs-identifier hs-var hs-var">withPureProdList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-498"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">RNil</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((RecApplicative as, PureProd [] as) =&gt; r) -&gt; r
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-499"></span><span>    </span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-operator hs-type">:&amp;</span></span><span> </span><span id="local-6989586621679289727"><span class="annot"><span class="annottext">xs :: Rec f rs
</span><a href="#local-6989586621679289727"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rec f rs -&gt; ((RecApplicative rs, PureProd [] rs) =&gt; r) -&gt; r
forall k (f :: k -&gt; *) (as :: [k]) r.
Rec f as -&gt; ((RecApplicative as, PureProd [] as) =&gt; r) -&gt; r
</span><a href="Data.Type.Functor.Product.html#withPureProdList"><span class="hs-identifier hs-var">withPureProdList</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f rs
</span><a href="#local-6989586621679289727"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-500"></span><span>
</span><span id="line-501"></span><span id="local-6989586621679289726"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RecApplicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679289726"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289726"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-502"></span><span>    </span><span id="local-6989586621679289723"><span class="annot"><span class="annottext">pureProd :: (forall (a :: k). g a) -&gt; Prod [] g as
</span><a href="#local-6989586621679289723"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). g a) -&gt; Prod [] g as
forall u (rs :: [u]) (f :: u -&gt; *).
RecApplicative rs =&gt;
(forall (x :: u). f x) -&gt; Rec f rs
</span><span class="hs-identifier hs-var">rpure</span></span></span><span>
</span><span id="line-503"></span><span>
</span><span id="line-504"></span><span id="local-6989586621679289720"><span id="local-6989586621679289721"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RPureConstrained</span></span><span> </span><span class="annot"><a href="#local-6989586621679289721"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289720"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProdC"><span class="hs-identifier hs-type">PureProdC</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289721"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289720"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-505"></span><span>    </span><span id="local-6989586621679289717"><span class="annot"><span class="annottext">pureProdC :: (forall (a :: k). c a =&gt; g a) -&gt; Prod [] g as
</span><a href="#local-6989586621679289717"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProdC</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (ts :: [k]) (f :: k -&gt; *).
RPureConstrained c ts =&gt;
(forall (a :: k). c a =&gt; f a) -&gt; Rec f ts
forall u (c :: u -&gt; Constraint) (ts :: [u]) (f :: u -&gt; *).
RPureConstrained c ts =&gt;
(forall (a :: u). c a =&gt; f a) -&gt; Rec f ts
</span><span class="hs-identifier hs-var">rpureConstrained</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679289721"><span class="hs-identifier hs-type">c</span></a></span></span></span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span id="local-6989586621679289713"><span id="local-6989586621679289714"><span id="local-6989586621679289715"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ReifyConstraint</span></span><span> </span><span class="annot"><a href="#local-6989586621679289715"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289714"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289713"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679289715"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289714"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289713"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-508"></span><span>    </span><span id="local-6989586621679289710"><span class="annot"><span class="annottext">reifyConstraintProd :: Prod [] f as -&gt; Prod [] (Dict c :. f) as
</span><a href="#local-6989586621679289710"><span class="hs-identifier hs-var hs-var hs-var hs-var">reifyConstraintProd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall u (c :: * -&gt; Constraint) (f :: u -&gt; *) (rs :: [u]).
ReifyConstraint c f rs =&gt;
Rec f rs -&gt; Rec (Dict c :. f) rs
forall (f :: k -&gt; *) (rs :: [k]).
ReifyConstraint c f rs =&gt;
Rec f rs -&gt; Rec (Dict c :. f) rs
</span><span class="hs-identifier hs-var">reifyConstraint</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679289715"><span class="hs-identifier hs-type">c</span></a></span></span></span></span><span>
</span><span id="line-509"></span><span>
</span><span id="line-510"></span><span class="hs-comment">-- | Witness an item in a type-level 'Maybe' by proving the 'Maybe' is</span><span>
</span><span id="line-511"></span><span class="hs-comment">-- 'Just'.</span><span>
</span><span id="line-512"></span><span class="hs-keyword">data</span><span> </span><span id="IJust"><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-var">IJust</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span id="local-6989586621679289708"><span class="annot"><a href="#local-6989586621679289708"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289708"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-513"></span><span>    </span><span id="local-6989586621679290834"><span id="IJust"><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-var">IJust</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679290834"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679290834"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span id="local-6989586621679289700"><span id="local-6989586621679289702"><span id="local-6989586621679289704"><span id="local-6989586621679289706"><span id="local-6989586621679289707"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289707"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289706"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-516"></span><span id="local-6989586621679289691"><span id="local-6989586621679289693"><span id="local-6989586621679289695"><span id="local-6989586621679289697"><span id="local-6989586621679289699"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Read</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679289699"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679289699"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-517"></span><span id="local-6989586621679289684"><span id="local-6989586621679289686"><span id="local-6989586621679289688"><span id="local-6989586621679289689"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289689"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289688"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-518"></span><span id="local-6989586621679289667"><span id="local-6989586621679289669"><span id="local-6989586621679289671"><span id="local-6989586621679289673"><span id="local-6989586621679289675"><span id="local-6989586621679289677"><span id="local-6989586621679289679"><span id="local-6989586621679289682"><span id="local-6989586621679289683"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289683"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289682"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span class="hs-comment">-- | Kind-indexed singleton for 'IJust'.</span><span>
</span><span id="line-521"></span><span class="hs-keyword">data</span><span> </span><span id="SIJust"><span class="annot"><a href="Data.Type.Functor.Product.html#SIJust"><span class="hs-identifier hs-var">SIJust</span></a></span></span><span> </span><span id="local-6989586621679289666"><span class="annot"><a href="#local-6989586621679289666"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679289665"><span class="annot"><a href="#local-6989586621679289665"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289666"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289665"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-522"></span><span>    </span><span id="local-6989586621679290840"><span id="SIJust"><span class="annot"><a href="Data.Type.Functor.Product.html#SIJust"><span class="hs-identifier hs-var">SIJust</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIJust"><span class="hs-identifier hs-type">SIJust</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679290840"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679290840"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span></span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span id="local-6989586621679289655"><span id="local-6989586621679289657"><span id="local-6989586621679289659"><span id="local-6989586621679289661"><span id="local-6989586621679289662"><span id="local-6989586621679289663"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#SIJust"><span class="hs-identifier hs-type">SIJust</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289663"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289662"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289661"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-525"></span><span>
</span><span id="line-526"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Sing"><span class="annot"><span class="hs-identifier hs-var">Sing</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIJust"><span class="hs-identifier hs-type">SIJust</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289654"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289653"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span> </span><span id="local-6989586621679289654"><span class="annot"><a href="#local-6989586621679289654"><span class="hs-keyword hs-type hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679289653"><span class="annot"><a href="#local-6989586621679289653"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-529"></span><span>    </span><span id="local-6989586621679289651"><span class="annot"><span class="annottext">sing :: Sing 'IJust
</span><a href="#local-6989586621679289651"><span class="hs-identifier hs-var hs-var hs-var hs-var">sing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing 'IJust
forall k (a :: k). SIJust ('Just a) a 'IJust
</span><a href="Data.Type.Functor.Product.html#SIJust"><span class="hs-identifier hs-var">SIJust</span></a></span><span>
</span><span id="line-530"></span><span>
</span><span id="line-531"></span><span id="local-6989586621679289649"><span id="local-6989586621679289650"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingKind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289650"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289649"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-532"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Demote"><span class="annot"><span class="hs-identifier hs-var">Demote</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289650"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289649"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289650"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289649"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-533"></span><span>    </span><span id="local-6989586621679289646"><span class="annot"><span class="annottext">fromSing :: Sing a -&gt; Demote (IJust as a)
</span><a href="#local-6989586621679289646"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSing</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIJust"><span class="hs-identifier hs-type">SIJust</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Demote (IJust as a)
forall k (a :: k). IJust ('Just a) a
</span><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-var">IJust</span></a></span><span>
</span><span id="line-534"></span><span>    </span><span id="local-6989586621679289645"><span class="annot"><span class="annottext">toSing :: Demote (IJust as a) -&gt; SomeSing (IJust as a)
</span><a href="#local-6989586621679289645"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSing</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing 'IJust -&gt; SomeSing (IJust as a)
forall k (a :: k). Sing a -&gt; SomeSing k
</span><span class="hs-identifier hs-var">SomeSing</span></span><span> </span><span class="annot"><span class="annottext">Sing 'IJust
forall k (a :: k). SIJust ('Just a) a 'IJust
</span><a href="Data.Type.Functor.Product.html#SIJust"><span class="hs-identifier hs-var">SIJust</span></a></span></span></span><span>
</span><span id="line-535"></span><span>
</span><span id="line-536"></span><span id="local-6989586621679289643"><span id="local-6989586621679289644"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SDecide</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289644"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289643"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-537"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIJust"><span class="hs-identifier hs-type">SIJust</span></a></span><span> </span><span id="local-6989586621679289641"><span class="annot"><span class="annottext">%~ :: Sing a -&gt; Sing b -&gt; Decision (a :~: b)
</span><a href="#local-6989586621679289641"><span class="hs-operator hs-var hs-var hs-var hs-var">%~</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIJust"><span class="hs-identifier hs-type">SIJust</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a :~: a) -&gt; Decision (a :~: a)
forall a. a -&gt; Decision a
</span><span class="hs-identifier hs-var">Proved</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span></span></span><span>
</span><span id="line-538"></span><span>
</span><span id="line-539"></span><span class="hs-comment">-- | A @'PMaybe' f 'Nothing@ contains nothing, and a @'PMaybe' f ('Just a)@</span><span>
</span><span id="line-540"></span><span class="hs-comment">-- contains an @f a@.</span><span>
</span><span id="line-541"></span><span class="hs-comment">--</span><span>
</span><span id="line-542"></span><span class="hs-comment">-- In practice this can be useful to write polymorphic</span><span>
</span><span id="line-543"></span><span class="hs-comment">-- functions/abstractions that contain an argument that can be &quot;turned off&quot;</span><span>
</span><span id="line-544"></span><span class="hs-comment">-- for different instances.</span><span>
</span><span id="line-545"></span><span class="hs-keyword">data</span><span> </span><span id="PMaybe"><span class="annot"><a href="Data.Type.Functor.Product.html#PMaybe"><span class="hs-identifier hs-var">PMaybe</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289640"><span class="annot"><a href="#local-6989586621679289640"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679289640"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-546"></span><span>    </span><span id="local-6989586621679290805"><span id="PNothing"><span class="annot"><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-var">PNothing</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PMaybe"><span class="hs-identifier hs-type">PMaybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290805"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span></span><span>
</span><span id="line-547"></span><span>    </span><span id="local-6989586621679289638"><span id="local-6989586621679290802"><span id="PJust"><span class="annot"><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-var">PJust</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679290802"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289638"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PMaybe"><span class="hs-identifier hs-type">PMaybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290802"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679289638"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-548"></span><span>
</span><span id="line-549"></span><span id="local-6989586621679289635"><span id="local-6989586621679289636"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679289630"><span id="local-6989586621679289632"><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679289636"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289635"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PMaybe"><span class="hs-identifier hs-type">PMaybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289636"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289635"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-550"></span><span>    </span><span id="local-6989586621679289629"><span class="annot"><span class="annottext">showsPrec :: Int -&gt; PMaybe f as -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">showsPrec</span></span></span><span> </span><span id="local-6989586621679289627"><span class="annot"><span class="annottext">d :: Int
</span><a href="#local-6989586621679289627"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621679289626"><span class="annot"><span class="annottext">xs :: PMaybe f as
</span><a href="#local-6989586621679289626"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Prod Maybe f as -&gt; Prod Maybe (Dict Show :. f) as
forall k (f :: * -&gt; *) (c :: * -&gt; Constraint) (g :: k -&gt; *)
       (as :: f k).
ReifyConstraintProd f c g as =&gt;
Prod f g as -&gt; Prod f (Dict c :. g) as
</span><a href="Data.Type.Functor.Product.html#reifyConstraintProd"><span class="hs-identifier hs-var">reifyConstraintProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><span class="annottext">PMaybe f as
Prod Maybe f as
</span><a href="#local-6989586621679289626"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-551"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-type">PNothing</span></a></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><span class="hs-identifier hs-var">showString</span></span><span> </span><span class="annot"><span class="hs-string">&quot;PNothing&quot;</span></span><span>
</span><span id="line-552"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-type">PJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V.Compose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dict</span></span><span> </span><span id="local-6989586621679289624"><span class="annot"><a href="#local-6989586621679289624"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; f a -&gt; ShowS) -&gt; String -&gt; Int -&gt; f a -&gt; ShowS
forall a. (Int -&gt; a -&gt; ShowS) -&gt; String -&gt; Int -&gt; a -&gt; ShowS
</span><span class="hs-identifier hs-var">showsUnaryWith</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; f a -&gt; ShowS
forall a. Show a =&gt; Int -&gt; a -&gt; ShowS
</span><span class="hs-identifier hs-var">showsPrec</span></span><span> </span><span class="annot"><span class="hs-string">&quot;PJust&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679289627"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679289624"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-553"></span><span id="local-6989586621679289621"><span id="local-6989586621679289622"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679289618"><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679289622"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289621"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PMaybe"><span class="hs-identifier hs-type">PMaybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289622"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289621"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-554"></span><span>    </span><span id="local-6989586621679289617"><span class="annot"><span class="annottext">== :: PMaybe f as -&gt; PMaybe f as -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(==)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMaybe f as -&gt; PMaybe f as -&gt; Bool
forall k (f :: * -&gt; *) (g :: k -&gt; *) (as :: f k).
(FProd f, ReifyConstraintProd f Eq g as) =&gt;
Prod f g as -&gt; Prod f g as -&gt; Bool
</span><a href="Data.Type.Functor.Product.html#eqProd"><span class="hs-identifier hs-var">eqProd</span></a></span></span></span><span>
</span><span id="line-555"></span><span id="local-6989586621679289615"><span id="local-6989586621679289616"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679289601"><span id="local-6989586621679289603"><span id="local-6989586621679289605"><span id="local-6989586621679289607"><span id="local-6989586621679289609"><span id="local-6989586621679289611"><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679289616"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289615"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679289616"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289615"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PMaybe"><span class="hs-identifier hs-type">PMaybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289616"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289615"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-556"></span><span>    </span><span id="local-6989586621679289600"><span class="annot"><span class="annottext">compare :: PMaybe f as -&gt; PMaybe f as -&gt; Ordering
</span><a href="#local-6989586621679289600"><span class="hs-identifier hs-var hs-var hs-var hs-var">compare</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMaybe f as -&gt; PMaybe f as -&gt; Ordering
forall k (f :: * -&gt; *) (g :: k -&gt; *) (as :: f k).
(FProd f, ReifyConstraintProd f Ord g as) =&gt;
Prod f g as -&gt; Prod f g as -&gt; Ordering
</span><a href="Data.Type.Functor.Product.html#compareProd"><span class="hs-identifier hs-var">compareProd</span></a></span></span></span><span>
</span><span id="line-557"></span><span>
</span><span id="line-558"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-559"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Elem"><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-var">Elem</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span>
</span><span id="line-560"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Prod"><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-var">Prod</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PMaybe"><span class="hs-identifier hs-type">PMaybe</span></a></span><span>
</span><span id="line-561"></span><span>
</span><span id="line-562"></span><span>    </span><span id="local-6989586621679289586"><span class="annot"><span class="annottext">singProd :: Sing as -&gt; Prod Maybe Sing as
</span><a href="#local-6989586621679289586"><span class="hs-identifier hs-var hs-var hs-var hs-var">singProd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-563"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">SNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Prod Maybe Sing as
forall k (f :: k -&gt; *). PMaybe f 'Nothing
</span><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-var">PNothing</span></a></span><span>
</span><span id="line-564"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">SJust</span></span><span> </span><span id="local-6989586621679289583"><span class="annot"><a href="#local-6989586621679289583"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sing n -&gt; PMaybe Sing ('Just n)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PMaybe f ('Just a)
</span><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-var">PJust</span></a></span><span> </span><span class="annot"><span class="annottext">Sing n
</span><a href="#local-6989586621679289583"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-565"></span><span>    </span><span id="local-6989586621679289582"><span class="annot"><span class="annottext">prodSing :: Prod Maybe Sing as -&gt; Sing as
</span><a href="#local-6989586621679289582"><span class="hs-identifier hs-var hs-var hs-var hs-var">prodSing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-566"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-type">PNothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sing as
forall a0. SMaybe 'Nothing
</span><span class="hs-identifier hs-var">SNothing</span></span><span>
</span><span id="line-567"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-type">PJust</span></a></span><span> </span><span id="local-6989586621679289581"><span class="annot"><a href="#local-6989586621679289581"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sing a -&gt; SMaybe ('Just a)
forall a0 (n :: a0). Sing n -&gt; SMaybe ('Just n)
</span><span class="hs-identifier hs-var">SJust</span></span><span> </span><span class="annot"><span class="annottext">Sing a
</span><a href="#local-6989586621679289581"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-568"></span><span>    </span><span id="local-6989586621679289580"><span class="annot"><span class="annottext">withIndices :: Prod Maybe g as -&gt; Prod Maybe (Elem Maybe as :*: g) as
</span><a href="#local-6989586621679289580"><span class="hs-identifier hs-var hs-var hs-var hs-var">withIndices</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-569"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-type">PNothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Prod Maybe (Elem Maybe as :*: g) as
forall k (f :: k -&gt; *). PMaybe f 'Nothing
</span><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-var">PNothing</span></a></span><span>
</span><span id="line-570"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-type">PJust</span></a></span><span> </span><span id="local-6989586621679289579"><span class="annot"><a href="#local-6989586621679289579"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(:*:) (IJust ('Just a)) g a
-&gt; PMaybe (IJust ('Just a) :*: g) ('Just a)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PMaybe f ('Just a)
</span><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-var">PJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IJust ('Just a) a
forall k (a :: k). IJust ('Just a) a
</span><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-var">IJust</span></a></span><span> </span><span class="annot"><span class="annottext">IJust ('Just a) a -&gt; g a -&gt; (:*:) (IJust ('Just a)) g a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289579"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-571"></span><span>    </span><span id="local-6989586621679289578"><span class="annot"><span class="annottext">traverseProd :: (forall (a :: k). g a -&gt; m (h a))
-&gt; Prod Maybe g as -&gt; m (Prod Maybe h as)
</span><a href="#local-6989586621679289578"><span class="hs-identifier hs-var hs-var hs-var hs-var">traverseProd</span></a></span></span><span> </span><span id="local-6989586621679289577"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; m (h a)
</span><a href="#local-6989586621679289577"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-572"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-type">PNothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PMaybe h 'Nothing -&gt; m (PMaybe h 'Nothing)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">PMaybe h 'Nothing
forall k (f :: k -&gt; *). PMaybe f 'Nothing
</span><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-var">PNothing</span></a></span><span>
</span><span id="line-573"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-type">PJust</span></a></span><span> </span><span id="local-6989586621679289576"><span class="annot"><a href="#local-6989586621679289576"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">h a -&gt; PMaybe h ('Just a)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PMaybe f ('Just a)
</span><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-var">PJust</span></a></span><span> </span><span class="annot"><span class="annottext">(h a -&gt; PMaybe h ('Just a)) -&gt; m (h a) -&gt; m (PMaybe h ('Just a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; m (h a)
forall (a :: k). g a -&gt; m (h a)
</span><a href="#local-6989586621679289577"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289576"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-574"></span><span>    </span><span id="local-6989586621679289575"><span class="annot"><span class="annottext">zipWithProd :: (forall (a :: k). g a -&gt; h a -&gt; j a)
-&gt; Prod Maybe g as -&gt; Prod Maybe h as -&gt; Prod Maybe j as
</span><a href="#local-6989586621679289575"><span class="hs-identifier hs-var hs-var hs-var hs-var">zipWithProd</span></a></span></span><span> </span><span id="local-6989586621679289574"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679289574"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-575"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-type">PNothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-576"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-type">PNothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Prod Maybe j as
forall k (f :: k -&gt; *). PMaybe f 'Nothing
</span><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-var">PNothing</span></a></span><span>
</span><span id="line-577"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-type">PJust</span></a></span><span> </span><span id="local-6989586621679289573"><span class="annot"><a href="#local-6989586621679289573"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-578"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-type">PJust</span></a></span><span> </span><span id="local-6989586621679289572"><span class="annot"><a href="#local-6989586621679289572"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">j a -&gt; PMaybe j ('Just a)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PMaybe f ('Just a)
</span><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-var">PJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g a -&gt; h a -&gt; j a
forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679289574"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289573"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">h a
h a
</span><a href="#local-6989586621679289572"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-579"></span><span>    </span><span id="local-6989586621679289571"><span class="annot"><span class="annottext">htraverse :: Sing ff
-&gt; (forall (a :: a0). g a -&gt; m (h (ff @@ a)))
-&gt; Prod Maybe g as
-&gt; m (Prod Maybe h (Fmap ff as))
</span><a href="#local-6989586621679289571"><span class="hs-identifier hs-var hs-var hs-var hs-var">htraverse</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679289570"><span class="annot"><span class="annottext">f :: forall (a :: a0). g a -&gt; m (h (ff @@ a))
</span><a href="#local-6989586621679289570"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-580"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-type">PNothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PMaybe h 'Nothing -&gt; m (PMaybe h 'Nothing)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">PMaybe h 'Nothing
forall k (f :: k -&gt; *). PMaybe f 'Nothing
</span><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-var">PNothing</span></a></span><span>
</span><span id="line-581"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-type">PJust</span></a></span><span> </span><span id="local-6989586621679289569"><span class="annot"><a href="#local-6989586621679289569"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">h (Apply ff a) -&gt; PMaybe h ('Just (Apply ff a))
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PMaybe f ('Just a)
</span><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-var">PJust</span></a></span><span> </span><span class="annot"><span class="annottext">(h (Apply ff a) -&gt; PMaybe h ('Just (Apply ff a)))
-&gt; m (h (Apply ff a)) -&gt; m (PMaybe h ('Just (Apply ff a)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; m (h (Apply ff a))
forall (a :: a0). g a -&gt; m (h (ff @@ a))
</span><a href="#local-6989586621679289570"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289569"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-582"></span><span>    </span><span id="local-6989586621679289568"><span class="annot"><span class="annottext">ixProd :: Elem Maybe as a -&gt; Lens' (Prod Maybe g as) (g a)
</span><a href="#local-6989586621679289568"><span class="hs-identifier hs-var hs-var hs-var hs-var">ixProd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-583"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#IJust"><span class="hs-identifier hs-type">IJust</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679289567"><span class="annot"><span class="annottext">f :: g a -&gt; f (g a)
</span><a href="#local-6989586621679289567"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-584"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-type">PJust</span></a></span><span> </span><span id="local-6989586621679289566"><span class="annot"><a href="#local-6989586621679289566"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">g a -&gt; PMaybe g ('Just a)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PMaybe f ('Just a)
</span><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-var">PJust</span></a></span><span> </span><span class="annot"><span class="annottext">(g a -&gt; PMaybe g ('Just a)) -&gt; f (g a) -&gt; f (PMaybe g ('Just a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; f (g a)
</span><a href="#local-6989586621679289567"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
g a
</span><a href="#local-6989586621679289566"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-585"></span><span>    </span><span id="local-6989586621679289565"><span class="annot"><span class="annottext">toRec :: Prod Maybe g as -&gt; Rec g (ToList as)
</span><a href="#local-6989586621679289565"><span class="hs-identifier hs-var hs-var hs-var hs-var">toRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-586"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-type">PNothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rec g (ToList as)
forall u (a :: u -&gt; *). Rec a '[]
</span><span class="hs-identifier hs-var">RNil</span></span><span>
</span><span id="line-587"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-type">PJust</span></a></span><span> </span><span id="local-6989586621679289564"><span class="annot"><a href="#local-6989586621679289564"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289564"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g a -&gt; Rec g '[] -&gt; Rec g '[a]
forall u (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><span class="hs-operator hs-var">:&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rec g '[]
forall u (a :: u -&gt; *). Rec a '[]
</span><span class="hs-identifier hs-var">RNil</span></span><span>
</span><span id="line-588"></span><span>    </span><span id="local-6989586621679289563"><span class="annot"><span class="annottext">withPureProd :: Prod Maybe g as -&gt; (PureProd Maybe as =&gt; r) -&gt; r
</span><a href="#local-6989586621679289563"><span class="hs-identifier hs-var hs-var hs-var hs-var">withPureProd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-589"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-type">PNothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(PureProd Maybe as =&gt; r) -&gt; r
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-590"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-type">PJust</span></a></span><span> </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(PureProd Maybe as =&gt; r) -&gt; r
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-591"></span><span>
</span><span id="line-592"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-593"></span><span>    </span><span id="local-6989586621679289561"><span class="annot"><span class="annottext">pureProd :: (forall (a :: k). g a) -&gt; Prod Maybe g 'Nothing
</span><a href="#local-6989586621679289561"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProd</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prod Maybe g 'Nothing
forall k (f :: k -&gt; *). PMaybe f 'Nothing
</span><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-var">PNothing</span></a></span><span>
</span><span id="line-594"></span><span id="local-6989586621679289560"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679289560"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-595"></span><span>    </span><span id="local-6989586621679289558"><span class="annot"><span class="annottext">pureProd :: (forall (a :: k). g a) -&gt; Prod Maybe g ('Just a)
</span><a href="#local-6989586621679289558"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProd</span></a></span></span><span> </span><span id="local-6989586621679289557"><span class="annot"><span class="annottext">x :: forall (a :: k). g a
</span><a href="#local-6989586621679289557"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g a -&gt; PMaybe g ('Just a)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PMaybe f ('Just a)
</span><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-var">PJust</span></a></span><span> </span><span class="annot"><span class="annottext">g a
forall (a :: k). g a
</span><a href="#local-6989586621679289557"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-596"></span><span>
</span><span id="line-597"></span><span id="local-6989586621679289556"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProdC"><span class="hs-identifier hs-type">PureProdC</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679289556"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-598"></span><span>    </span><span id="local-6989586621679289554"><span class="annot"><span class="annottext">pureProdC :: (forall (a :: k). c a =&gt; g a) -&gt; Prod Maybe g 'Nothing
</span><a href="#local-6989586621679289554"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProdC</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prod Maybe g 'Nothing
forall k (f :: k -&gt; *). PMaybe f 'Nothing
</span><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-var">PNothing</span></a></span></span><span>
</span><span id="line-599"></span><span id="local-6989586621679289552"><span id="local-6989586621679289553"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="#local-6989586621679289553"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289552"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProdC"><span class="hs-identifier hs-type">PureProdC</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679289553"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679289552"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-600"></span><span>    </span><span id="local-6989586621679289550"><span class="annot"><span class="annottext">pureProdC :: (forall (a :: a). c a =&gt; g a) -&gt; Prod Maybe g ('Just a)
</span><a href="#local-6989586621679289550"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProdC</span></a></span></span><span> </span><span id="local-6989586621679289549"><span class="annot"><span class="annottext">x :: forall (a :: a). c a =&gt; g a
</span><a href="#local-6989586621679289549"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g a -&gt; PMaybe g ('Just a)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PMaybe f ('Just a)
</span><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-var">PJust</span></a></span><span> </span><span class="annot"><span class="annottext">g a
forall (a :: a). c a =&gt; g a
</span><a href="#local-6989586621679289549"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-601"></span><span>
</span><span id="line-602"></span><span id="local-6989586621679289547"><span id="local-6989586621679289548"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679289548"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289547"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-603"></span><span>    </span><span id="local-6989586621679289545"><span class="annot"><span class="annottext">reifyConstraintProd :: Prod Maybe g 'Nothing -&gt; Prod Maybe (Dict c :. g) 'Nothing
</span><a href="#local-6989586621679289545"><span class="hs-identifier hs-var hs-var hs-var hs-var">reifyConstraintProd</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-type">PNothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prod Maybe (Dict c :. g) 'Nothing
forall k (f :: k -&gt; *). PMaybe f 'Nothing
</span><a href="Data.Type.Functor.Product.html#PNothing"><span class="hs-identifier hs-var">PNothing</span></a></span></span></span><span>
</span><span id="line-604"></span><span id="local-6989586621679289542"><span id="local-6989586621679289543"><span id="local-6989586621679289544"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="#local-6989586621679289544"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289543"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289542"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679289544"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289543"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679289542"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-605"></span><span>    </span><span id="local-6989586621679289540"><span class="annot"><span class="annottext">reifyConstraintProd :: Prod Maybe g ('Just a) -&gt; Prod Maybe (Dict c :. g) ('Just a)
</span><a href="#local-6989586621679289540"><span class="hs-identifier hs-var hs-var hs-var hs-var">reifyConstraintProd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-type">PJust</span></a></span><span> </span><span id="local-6989586621679289539"><span class="annot"><a href="#local-6989586621679289539"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Compose (Dict c) g a -&gt; PMaybe (Dict c :. g) ('Just a)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PMaybe f ('Just a)
</span><a href="Data.Type.Functor.Product.html#PJust"><span class="hs-identifier hs-var">PJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dict c (g a) -&gt; Compose (Dict c) g a
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (x :: k).
f (g x) -&gt; Compose f g x
</span><span class="hs-identifier hs-var">V.Compose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g a -&gt; Dict c (g a)
forall (c :: * -&gt; Constraint) a. c a =&gt; a -&gt; Dict c a
</span><span class="hs-identifier hs-var">Dict</span></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289539"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-606"></span><span>
</span><span id="line-607"></span><span class="hs-comment">-- | Witness an item in a type-level @'Either' j@ by proving the 'Either'</span><span>
</span><span id="line-608"></span><span class="hs-comment">-- is 'Right'.</span><span>
</span><span id="line-609"></span><span class="hs-keyword">data</span><span> </span><span id="IRight"><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-var">IRight</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span id="local-6989586621679289538"><span class="annot"><a href="#local-6989586621679289538"><span class="hs-identifier hs-type hs-type">j</span></a></span></span><span> </span><span id="local-6989586621679289537"><span class="annot"><a href="#local-6989586621679289537"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289537"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-610"></span><span>    </span><span id="local-6989586621679290691"><span id="IRight"><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-var">IRight</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><a href="#local-6989586621679290691"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679290691"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-611"></span><span>
</span><span id="line-612"></span><span id="local-6989586621679289529"><span id="local-6989586621679289531"><span id="local-6989586621679289533"><span id="local-6989586621679289535"><span id="local-6989586621679289536"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289536"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289535"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-613"></span><span id="local-6989586621679289520"><span id="local-6989586621679289522"><span id="local-6989586621679289524"><span id="local-6989586621679289526"><span id="local-6989586621679289528"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Read</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><a href="#local-6989586621679289528"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679289528"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-614"></span><span id="local-6989586621679289514"><span id="local-6989586621679289516"><span id="local-6989586621679289518"><span id="local-6989586621679289519"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289519"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289518"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-615"></span><span id="local-6989586621679289497"><span id="local-6989586621679289499"><span id="local-6989586621679289501"><span id="local-6989586621679289503"><span id="local-6989586621679289505"><span id="local-6989586621679289507"><span id="local-6989586621679289509"><span id="local-6989586621679289512"><span id="local-6989586621679289513"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289513"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289512"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-616"></span><span>
</span><span id="line-617"></span><span class="hs-comment">-- | Kind-indexed singleton for 'IRight'.</span><span>
</span><span id="line-618"></span><span class="hs-keyword">data</span><span> </span><span id="SIRight"><span class="annot"><a href="Data.Type.Functor.Product.html#SIRight"><span class="hs-identifier hs-var">SIRight</span></a></span></span><span> </span><span id="local-6989586621679289496"><span class="annot"><a href="#local-6989586621679289496"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679289495"><span class="annot"><a href="#local-6989586621679289495"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289496"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289495"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-619"></span><span>    </span><span id="local-6989586621679290699"><span id="SIRight"><span class="annot"><a href="Data.Type.Functor.Product.html#SIRight"><span class="hs-identifier hs-var">SIRight</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIRight"><span class="hs-identifier hs-type">SIRight</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><a href="#local-6989586621679290699"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679290699"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span></span><span>
</span><span id="line-620"></span><span>
</span><span id="line-621"></span><span id="local-6989586621679289485"><span id="local-6989586621679289487"><span id="local-6989586621679289489"><span id="local-6989586621679289491"><span id="local-6989586621679289492"><span id="local-6989586621679289493"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#SIRight"><span class="hs-identifier hs-type">SIRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289493"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289492"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289491"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-622"></span><span>
</span><span id="line-623"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Sing"><span class="annot"><span class="hs-identifier hs-var">Sing</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIRight"><span class="hs-identifier hs-type">SIRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289484"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289483"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span> </span><span id="local-6989586621679289484"><span class="annot"><a href="#local-6989586621679289484"><span class="hs-keyword hs-type hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679289483"><span class="annot"><a href="#local-6989586621679289483"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-624"></span><span>
</span><span id="line-625"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-626"></span><span>    </span><span id="local-6989586621679289481"><span class="annot"><span class="annottext">sing :: Sing 'IRight
</span><a href="#local-6989586621679289481"><span class="hs-identifier hs-var hs-var hs-var hs-var">sing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing 'IRight
forall k j (a :: k). SIRight ('Right a) a 'IRight
</span><a href="Data.Type.Functor.Product.html#SIRight"><span class="hs-identifier hs-var">SIRight</span></a></span><span>
</span><span id="line-627"></span><span>
</span><span id="line-628"></span><span id="local-6989586621679289479"><span id="local-6989586621679289480"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingKind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289480"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289479"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-629"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Demote"><span class="annot"><span class="hs-identifier hs-var">Demote</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289480"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289479"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289480"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289479"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-630"></span><span>    </span><span id="local-6989586621679289476"><span class="annot"><span class="annottext">fromSing :: Sing a -&gt; Demote (IRight as a)
</span><a href="#local-6989586621679289476"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSing</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIRight"><span class="hs-identifier hs-type">SIRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Demote (IRight as a)
forall k j (a :: k). IRight ('Right a) a
</span><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-var">IRight</span></a></span><span>
</span><span id="line-631"></span><span>    </span><span id="local-6989586621679289475"><span class="annot"><span class="annottext">toSing :: Demote (IRight as a) -&gt; SomeSing (IRight as a)
</span><a href="#local-6989586621679289475"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSing</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing 'IRight -&gt; SomeSing (IRight as a)
forall k (a :: k). Sing a -&gt; SomeSing k
</span><span class="hs-identifier hs-var">SomeSing</span></span><span> </span><span class="annot"><span class="annottext">Sing 'IRight
forall k j (a :: k). SIRight ('Right a) a 'IRight
</span><a href="Data.Type.Functor.Product.html#SIRight"><span class="hs-identifier hs-var">SIRight</span></a></span></span></span><span>
</span><span id="line-632"></span><span>
</span><span id="line-633"></span><span id="local-6989586621679289473"><span id="local-6989586621679289474"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SDecide</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289474"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289473"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-634"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIRight"><span class="hs-identifier hs-type">SIRight</span></a></span><span> </span><span id="local-6989586621679289471"><span class="annot"><span class="annottext">%~ :: Sing a -&gt; Sing b -&gt; Decision (a :~: b)
</span><a href="#local-6989586621679289471"><span class="hs-operator hs-var hs-var hs-var hs-var">%~</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIRight"><span class="hs-identifier hs-type">SIRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a :~: a) -&gt; Decision (a :~: a)
forall a. a -&gt; Decision a
</span><span class="hs-identifier hs-var">Proved</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span></span></span><span>
</span><span id="line-635"></span><span>
</span><span id="line-636"></span><span class="hs-comment">-- | A @'PEither' f ('Left e)@ contains @'Sing' e@, and a @'PMaybe' f ('Right a)@</span><span>
</span><span id="line-637"></span><span class="hs-comment">-- contains an @f a@.</span><span>
</span><span id="line-638"></span><span class="hs-comment">--</span><span>
</span><span id="line-639"></span><span class="hs-comment">-- In practice this can be useful in the same situatinos that 'PMaybe' can,</span><span>
</span><span id="line-640"></span><span class="hs-comment">-- but with an extra value in the case where value @f@ is &quot;turned off&quot; with</span><span>
</span><span id="line-641"></span><span class="hs-comment">-- 'Left'.</span><span>
</span><span id="line-642"></span><span class="hs-keyword">data</span><span> </span><span id="PEither"><span class="annot"><a href="Data.Type.Functor.Product.html#PEither"><span class="hs-identifier hs-var">PEither</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289470"><span class="annot"><a href="#local-6989586621679289470"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span id="local-6989586621679289469"><span class="annot"><a href="#local-6989586621679289469"><span class="hs-identifier hs-type hs-type">j</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679289470"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-643"></span><span>    </span><span id="local-6989586621679289468"><span id="local-6989586621679290651"><span id="PLeft"><span class="annot"><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679289468"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PEither"><span class="hs-identifier hs-type">PEither</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290651"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><a href="#local-6989586621679289468"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-644"></span><span>    </span><span id="local-6989586621679289466"><span id="local-6989586621679290648"><span id="PRight"><span class="annot"><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-var">PRight</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679290648"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289466"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PEither"><span class="hs-identifier hs-type">PEither</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290648"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><a href="#local-6989586621679289466"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-645"></span><span>
</span><span id="line-646"></span><span id="local-6989586621679289462"><span id="local-6989586621679289463"><span id="local-6989586621679289464"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679289457"><span id="local-6989586621679289459"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SShow</span></span><span> </span><span class="annot"><a href="#local-6989586621679289464"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679289464"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679289463"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289462"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PEither"><span class="hs-identifier hs-type">PEither</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289463"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289462"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-647"></span><span>    </span><span id="local-6989586621679289456"><span class="annot"><span class="annottext">showsPrec :: Int -&gt; PEither f as -&gt; ShowS
</span><a href="#local-6989586621679289456"><span class="hs-identifier hs-var hs-var hs-var hs-var">showsPrec</span></a></span></span><span> </span><span id="local-6989586621679289455"><span class="annot"><span class="annottext">d :: Int
</span><a href="#local-6989586621679289455"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621679289454"><span class="annot"><span class="annottext">xs :: PEither f as
</span><a href="#local-6989586621679289454"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Prod (Either j) f as -&gt; Prod (Either j) (Dict Show :. f) as
forall k (f :: * -&gt; *) (c :: * -&gt; Constraint) (g :: k -&gt; *)
       (as :: f k).
ReifyConstraintProd f c g as =&gt;
Prod f g as -&gt; Prod f (Dict c :. g) as
</span><a href="Data.Type.Functor.Product.html#reifyConstraintProd"><span class="hs-identifier hs-var">reifyConstraintProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><span class="annottext">PEither f as
Prod (Either j) f as
</span><a href="#local-6989586621679289454"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-648"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-type">PLeft</span></a></span><span> </span><span id="local-6989586621679289453"><span class="annot"><a href="#local-6989586621679289453"><span class="hs-identifier hs-var">e</span></a></span></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Sing e -&gt; ShowS) -&gt; String -&gt; Int -&gt; Sing e -&gt; ShowS
forall a. (Int -&gt; a -&gt; ShowS) -&gt; String -&gt; Int -&gt; a -&gt; ShowS
</span><span class="hs-identifier hs-var">showsUnaryWith</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Sing e -&gt; ShowS
forall a a (t2 :: a).
(Integral a, SShow a) =&gt;
a -&gt; Sing t2 -&gt; ShowS
</span><a href="#local-6989586621679289452"><span class="hs-identifier hs-var">go</span></a></span><span>         </span><span class="annot"><span class="hs-string">&quot;PLeft&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679289455"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Sing e
</span><a href="#local-6989586621679289453"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-649"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-type">PRight</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V.Compose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dict</span></span><span> </span><span id="local-6989586621679289451"><span class="annot"><a href="#local-6989586621679289451"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; f a -&gt; ShowS) -&gt; String -&gt; Int -&gt; f a -&gt; ShowS
forall a. (Int -&gt; a -&gt; ShowS) -&gt; String -&gt; Int -&gt; a -&gt; ShowS
</span><span class="hs-identifier hs-var">showsUnaryWith</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; f a -&gt; ShowS
forall a. Show a =&gt; Int -&gt; a -&gt; ShowS
</span><span class="hs-identifier hs-var">showsPrec</span></span><span> </span><span class="annot"><span class="hs-string">&quot;PRight&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679289455"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679289451"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-650"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-651"></span><span>        </span><span id="local-6989586621679289452"><span class="annot"><span class="annottext">go :: a -&gt; Sing t2 -&gt; ShowS
</span><a href="#local-6989586621679289452"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Demote Nat
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="hs-identifier hs-type">FromSing</span></span><span> </span><span id="local-6989586621679289449"><span class="annot"><a href="#local-6989586621679289449"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679289448"><span class="annot"><span class="annottext">x :: Sing t2
</span><a href="#local-6989586621679289448"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="hs-identifier hs-type">FromSing</span></span><span> </span><span id="local-6989586621679289446"><span class="annot"><a href="#local-6989586621679289446"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; String)
-&gt; (SSymbol (ShowsPrec a t2 a) -&gt; Text)
-&gt; SSymbol (ShowsPrec a t2 a)
-&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SSymbol (ShowsPrec a t2 a) -&gt; Text
forall k (a :: k). SingKind k =&gt; Sing a -&gt; Demote k
</span><span class="hs-identifier hs-var">fromSing</span></span><span> </span><span class="annot"><span class="annottext">(SSymbol (ShowsPrec a t2 a) -&gt; String)
-&gt; SSymbol (ShowsPrec a t2 a) -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Sing a
-&gt; Sing t2
-&gt; Sing a
-&gt; Sing (Apply (Apply (Apply ShowsPrecSym0 a) t2) a)
forall a (t1 :: Nat) (t2 :: a) (t3 :: Symbol).
SShow a =&gt;
Sing t1
-&gt; Sing t2
-&gt; Sing t3
-&gt; Sing (Apply (Apply (Apply ShowsPrecSym0 t1) t2) t3)
</span><span class="hs-identifier hs-var">sShowsPrec</span></span><span> </span><span class="annot"><span class="annottext">Sing a
</span><a href="#local-6989586621679289449"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Sing t2
</span><a href="#local-6989586621679289448"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Sing a
</span><a href="#local-6989586621679289446"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-652"></span><span>        </span><span class="annot"><a href="#local-6989586621679289452"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span></span></span></span><span>
</span><span id="line-653"></span><span>
</span><span id="line-654"></span><span id="local-6989586621679289442"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679289442"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-655"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Elem"><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-var">Elem</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679289442"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span>
</span><span id="line-656"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Prod"><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-var">Prod</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679289442"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PEither"><span class="hs-identifier hs-type">PEither</span></a></span><span>
</span><span id="line-657"></span><span>
</span><span id="line-658"></span><span>    </span><span id="local-6989586621679289428"><span class="annot"><span class="annottext">singProd :: Sing as -&gt; Prod (Either j) Sing as
</span><a href="#local-6989586621679289428"><span class="hs-identifier hs-var hs-var hs-var hs-var">singProd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-659"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">SLeft</span></span><span>  </span><span id="local-6989586621679289426"><span class="annot"><a href="#local-6989586621679289426"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sing n -&gt; PEither Sing ('Left n)
forall j k (e :: j) (f :: k -&gt; *). Sing e -&gt; PEither f ('Left e)
</span><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Sing n
</span><a href="#local-6989586621679289426"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-660"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">SRight</span></span><span> </span><span id="local-6989586621679289424"><span class="annot"><a href="#local-6989586621679289424"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sing n -&gt; PEither Sing ('Right n)
forall b j (f :: b -&gt; *) (a :: b). f a -&gt; PEither f ('Right a)
</span><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-var">PRight</span></a></span><span> </span><span class="annot"><span class="annottext">Sing n
</span><a href="#local-6989586621679289424"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-661"></span><span>    </span><span id="local-6989586621679289423"><span class="annot"><span class="annottext">prodSing :: Prod (Either j) Sing as -&gt; Sing as
</span><a href="#local-6989586621679289423"><span class="hs-identifier hs-var hs-var hs-var hs-var">prodSing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-662"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-type">PLeft</span></a></span><span> </span><span id="local-6989586621679289422"><span class="annot"><a href="#local-6989586621679289422"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sing e -&gt; SEither ('Left e)
forall b0 a0 (n :: a0). Sing n -&gt; SEither ('Left n)
</span><span class="hs-identifier hs-var">SLeft</span></span><span> </span><span class="annot"><span class="annottext">Sing e
</span><a href="#local-6989586621679289422"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-663"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-type">PRight</span></a></span><span> </span><span id="local-6989586621679289421"><span class="annot"><a href="#local-6989586621679289421"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sing a -&gt; SEither ('Right a)
forall a0 b0 (n :: b0). Sing n -&gt; SEither ('Right n)
</span><span class="hs-identifier hs-var">SRight</span></span><span> </span><span class="annot"><span class="annottext">Sing a
</span><a href="#local-6989586621679289421"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-664"></span><span>    </span><span id="local-6989586621679289420"><span class="annot"><span class="annottext">withIndices :: Prod (Either j) g as
-&gt; Prod (Either j) (Elem (Either j) as :*: g) as
</span><a href="#local-6989586621679289420"><span class="hs-identifier hs-var hs-var hs-var hs-var">withIndices</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-665"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-type">PLeft</span></a></span><span> </span><span id="local-6989586621679289419"><span class="annot"><a href="#local-6989586621679289419"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sing e -&gt; PEither (IRight ('Left e) :*: g) ('Left e)
forall j k (e :: j) (f :: k -&gt; *). Sing e -&gt; PEither f ('Left e)
</span><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Sing e
</span><a href="#local-6989586621679289419"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-666"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-type">PRight</span></a></span><span> </span><span id="local-6989586621679289418"><span class="annot"><a href="#local-6989586621679289418"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(:*:) (IRight ('Right a)) g a
-&gt; PEither (IRight ('Right a) :*: g) ('Right a)
forall b j (f :: b -&gt; *) (a :: b). f a -&gt; PEither f ('Right a)
</span><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-var">PRight</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IRight ('Right a) a
forall k j (a :: k). IRight ('Right a) a
</span><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-var">IRight</span></a></span><span> </span><span class="annot"><span class="annottext">IRight ('Right a) a -&gt; g a -&gt; (:*:) (IRight ('Right a)) g a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289418"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-667"></span><span>    </span><span id="local-6989586621679289417"><span class="annot"><span class="annottext">traverseProd :: (forall (a :: k). g a -&gt; m (h a))
-&gt; Prod (Either j) g as -&gt; m (Prod (Either j) h as)
</span><a href="#local-6989586621679289417"><span class="hs-identifier hs-var hs-var hs-var hs-var">traverseProd</span></a></span></span><span> </span><span id="local-6989586621679289416"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; m (h a)
</span><a href="#local-6989586621679289416"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-668"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-type">PLeft</span></a></span><span> </span><span id="local-6989586621679289415"><span class="annot"><a href="#local-6989586621679289415"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PEither h ('Left e) -&gt; m (PEither h ('Left e))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sing e -&gt; PEither h ('Left e)
forall j k (e :: j) (f :: k -&gt; *). Sing e -&gt; PEither f ('Left e)
</span><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Sing e
</span><a href="#local-6989586621679289415"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-669"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-type">PRight</span></a></span><span> </span><span id="local-6989586621679289414"><span class="annot"><a href="#local-6989586621679289414"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">h a -&gt; PEither h ('Right a)
forall b j (f :: b -&gt; *) (a :: b). f a -&gt; PEither f ('Right a)
</span><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-var">PRight</span></a></span><span> </span><span class="annot"><span class="annottext">(h a -&gt; PEither h ('Right a))
-&gt; m (h a) -&gt; m (PEither h ('Right a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; m (h a)
forall (a :: k). g a -&gt; m (h a)
</span><a href="#local-6989586621679289416"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289414"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-670"></span><span>    </span><span id="local-6989586621679289413"><span class="annot"><span class="annottext">zipWithProd :: (forall (a :: k). g a -&gt; h a -&gt; j a)
-&gt; Prod (Either j) g as
-&gt; Prod (Either j) h as
-&gt; Prod (Either j) j as
</span><a href="#local-6989586621679289413"><span class="hs-identifier hs-var hs-var hs-var hs-var">zipWithProd</span></a></span></span><span> </span><span id="local-6989586621679289412"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679289412"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-671"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-type">PLeft</span></a></span><span> </span><span id="local-6989586621679289411"><span class="annot"><a href="#local-6989586621679289411"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-672"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-type">PLeft</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sing e -&gt; PEither j ('Left e)
forall j k (e :: j) (f :: k -&gt; *). Sing e -&gt; PEither f ('Left e)
</span><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Sing e
</span><a href="#local-6989586621679289411"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-673"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-type">PRight</span></a></span><span> </span><span id="local-6989586621679289410"><span class="annot"><a href="#local-6989586621679289410"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-674"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-type">PRight</span></a></span><span> </span><span id="local-6989586621679289409"><span class="annot"><a href="#local-6989586621679289409"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">j a -&gt; PEither j ('Right a)
forall b j (f :: b -&gt; *) (a :: b). f a -&gt; PEither f ('Right a)
</span><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-var">PRight</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g a -&gt; h a -&gt; j a
forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679289412"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289410"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">h a
h a
</span><a href="#local-6989586621679289409"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-675"></span><span>    </span><span id="local-6989586621679289408"><span class="annot"><span class="annottext">htraverse :: Sing ff
-&gt; (forall (a :: a0). g a -&gt; m (h (ff @@ a)))
-&gt; Prod (Either j) g as
-&gt; m (Prod (Either j) h (Fmap ff as))
</span><a href="#local-6989586621679289408"><span class="hs-identifier hs-var hs-var hs-var hs-var">htraverse</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679289407"><span class="annot"><span class="annottext">f :: forall (a :: a0). g a -&gt; m (h (ff @@ a))
</span><a href="#local-6989586621679289407"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-676"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-type">PLeft</span></a></span><span> </span><span id="local-6989586621679289406"><span class="annot"><a href="#local-6989586621679289406"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PEither h ('Left e) -&gt; m (PEither h ('Left e))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sing e -&gt; PEither h ('Left e)
forall j k (e :: j) (f :: k -&gt; *). Sing e -&gt; PEither f ('Left e)
</span><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Sing e
</span><a href="#local-6989586621679289406"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-677"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-type">PRight</span></a></span><span> </span><span id="local-6989586621679289405"><span class="annot"><a href="#local-6989586621679289405"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">h (Apply ff a) -&gt; PEither h ('Right (Apply ff a))
forall b j (f :: b -&gt; *) (a :: b). f a -&gt; PEither f ('Right a)
</span><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-var">PRight</span></a></span><span> </span><span class="annot"><span class="annottext">(h (Apply ff a) -&gt; PEither h ('Right (Apply ff a)))
-&gt; m (h (Apply ff a)) -&gt; m (PEither h ('Right (Apply ff a)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; m (h (Apply ff a))
forall (a :: a0). g a -&gt; m (h (ff @@ a))
</span><a href="#local-6989586621679289407"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289405"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-678"></span><span>    </span><span id="local-6989586621679289404"><span class="annot"><span class="annottext">ixProd :: Elem (Either j) as a -&gt; Lens' (Prod (Either j) g as) (g a)
</span><a href="#local-6989586621679289404"><span class="hs-identifier hs-var hs-var hs-var hs-var">ixProd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-679"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#IRight"><span class="hs-identifier hs-type">IRight</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679289403"><span class="annot"><span class="annottext">f :: g a -&gt; f (g a)
</span><a href="#local-6989586621679289403"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-680"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-type">PRight</span></a></span><span> </span><span id="local-6989586621679289402"><span class="annot"><a href="#local-6989586621679289402"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">g a -&gt; PEither g ('Right a)
forall b j (f :: b -&gt; *) (a :: b). f a -&gt; PEither f ('Right a)
</span><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-var">PRight</span></a></span><span> </span><span class="annot"><span class="annottext">(g a -&gt; PEither g ('Right a))
-&gt; f (g a) -&gt; f (PEither g ('Right a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; f (g a)
</span><a href="#local-6989586621679289403"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
g a
</span><a href="#local-6989586621679289402"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-681"></span><span>    </span><span id="local-6989586621679289401"><span class="annot"><span class="annottext">toRec :: Prod (Either j) g as -&gt; Rec g (ToList as)
</span><a href="#local-6989586621679289401"><span class="hs-identifier hs-var hs-var hs-var hs-var">toRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-682"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-type">PLeft</span></a></span><span> </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rec g (ToList as)
forall u (a :: u -&gt; *). Rec a '[]
</span><span class="hs-identifier hs-var">RNil</span></span><span>
</span><span id="line-683"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-type">PRight</span></a></span><span> </span><span id="local-6989586621679289400"><span class="annot"><a href="#local-6989586621679289400"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289400"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g a -&gt; Rec g '[] -&gt; Rec g '[a]
forall u (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><span class="hs-operator hs-var">:&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rec g '[]
forall u (a :: u -&gt; *). Rec a '[]
</span><span class="hs-identifier hs-var">RNil</span></span><span>
</span><span id="line-684"></span><span>    </span><span id="local-6989586621679289399"><span class="annot"><span class="annottext">withPureProd :: Prod (Either j) g as -&gt; (PureProd (Either j) as =&gt; r) -&gt; r
</span><a href="#local-6989586621679289399"><span class="hs-identifier hs-var hs-var hs-var hs-var">withPureProd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-685"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-type">PLeft</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(PureProd (Either j) as =&gt; r) -&gt; r
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-686"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-type">PRight</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(PureProd (Either j) as =&gt; r) -&gt; r
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span></span><span>
</span><span id="line-687"></span><span>
</span><span id="line-688"></span><span id="local-6989586621679289396"><span id="local-6989586621679289397"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="annot"><a href="#local-6989586621679289397"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679289396"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><a href="#local-6989586621679289397"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-689"></span><span>    </span><span id="local-6989586621679289394"><span class="annot"><span class="annottext">pureProd :: (forall (a :: k). g a) -&gt; Prod (Either j) g ('Left e)
</span><a href="#local-6989586621679289394"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProd</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing e -&gt; PEither g ('Left e)
forall j k (e :: j) (f :: k -&gt; *). Sing e -&gt; PEither f ('Left e)
</span><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Sing e
forall k (a :: k). SingI a =&gt; Sing a
</span><span class="hs-identifier hs-var">sing</span></span></span></span><span>
</span><span id="line-690"></span><span id="local-6989586621679289392"><span id="local-6989586621679289393"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679289393"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><a href="#local-6989586621679289392"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-691"></span><span>    </span><span id="local-6989586621679289390"><span class="annot"><span class="annottext">pureProd :: (forall (a :: k). g a) -&gt; Prod (Either j) g ('Right a)
</span><a href="#local-6989586621679289390"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProd</span></a></span></span><span> </span><span id="local-6989586621679289389"><span class="annot"><span class="annottext">x :: forall (a :: k). g a
</span><a href="#local-6989586621679289389"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g a -&gt; PEither g ('Right a)
forall b j (f :: b -&gt; *) (a :: b). f a -&gt; PEither f ('Right a)
</span><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-var">PRight</span></a></span><span> </span><span class="annot"><span class="annottext">g a
forall (a :: k). g a
</span><a href="#local-6989586621679289389"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-692"></span><span>
</span><span id="line-693"></span><span id="local-6989586621679289386"><span id="local-6989586621679289387"><span id="local-6989586621679289388"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="annot"><a href="#local-6989586621679289388"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProdC"><span class="hs-identifier hs-type">PureProdC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679289387"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679289386"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><a href="#local-6989586621679289388"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-694"></span><span>    </span><span id="local-6989586621679289384"><span class="annot"><span class="annottext">pureProdC :: (forall (a :: k). c a =&gt; g a) -&gt; Prod (Either j) g ('Left e)
</span><a href="#local-6989586621679289384"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProdC</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sing e -&gt; PEither g ('Left e)
forall j k (e :: j) (f :: k -&gt; *). Sing e -&gt; PEither f ('Left e)
</span><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Sing e
forall k (a :: k). SingI a =&gt; Sing a
</span><span class="hs-identifier hs-var">sing</span></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-695"></span><span id="local-6989586621679289381"><span id="local-6989586621679289382"><span id="local-6989586621679289383"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="#local-6989586621679289383"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289382"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProdC"><span class="hs-identifier hs-type">PureProdC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679289381"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679289383"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><a href="#local-6989586621679289382"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-696"></span><span>    </span><span id="local-6989586621679289379"><span class="annot"><span class="annottext">pureProdC :: (forall (a :: b). c a =&gt; g a) -&gt; Prod (Either j) g ('Right a)
</span><a href="#local-6989586621679289379"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProdC</span></a></span></span><span> </span><span id="local-6989586621679289378"><span class="annot"><span class="annottext">x :: forall (a :: b). c a =&gt; g a
</span><a href="#local-6989586621679289378"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g a -&gt; PEither g ('Right a)
forall b j (f :: b -&gt; *) (a :: b). f a -&gt; PEither f ('Right a)
</span><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-var">PRight</span></a></span><span> </span><span class="annot"><span class="annottext">g a
forall (a :: b). c a =&gt; g a
</span><a href="#local-6989586621679289378"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-697"></span><span>
</span><span id="line-698"></span><span id="local-6989586621679289374"><span id="local-6989586621679289375"><span id="local-6989586621679289376"><span id="local-6989586621679289377"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679289377"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679289376"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289375"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><a href="#local-6989586621679289374"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-699"></span><span>    </span><span id="local-6989586621679289372"><span class="annot"><span class="annottext">reifyConstraintProd :: Prod (Either j) g ('Left e)
-&gt; Prod (Either j) (Dict c :. g) ('Left e)
</span><a href="#local-6989586621679289372"><span class="hs-identifier hs-var hs-var hs-var hs-var">reifyConstraintProd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-type">PLeft</span></a></span><span> </span><span id="local-6989586621679289371"><span class="annot"><a href="#local-6989586621679289371"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing e -&gt; PEither (Dict c :. g) ('Left e)
forall j k (e :: j) (f :: k -&gt; *). Sing e -&gt; PEither f ('Left e)
</span><a href="Data.Type.Functor.Product.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Sing e
Sing e
</span><a href="#local-6989586621679289371"><span class="hs-identifier hs-var">e</span></a></span></span></span></span></span><span>
</span><span id="line-700"></span><span id="local-6989586621679289367"><span id="local-6989586621679289368"><span id="local-6989586621679289369"><span id="local-6989586621679289370"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="#local-6989586621679289370"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289369"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289368"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679289367"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679289370"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289369"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><a href="#local-6989586621679289368"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-701"></span><span>    </span><span id="local-6989586621679289365"><span class="annot"><span class="annottext">reifyConstraintProd :: Prod (Either j) g ('Right a)
-&gt; Prod (Either j) (Dict c :. g) ('Right a)
</span><a href="#local-6989586621679289365"><span class="hs-identifier hs-var hs-var hs-var hs-var">reifyConstraintProd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-type">PRight</span></a></span><span> </span><span id="local-6989586621679289364"><span class="annot"><a href="#local-6989586621679289364"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Compose (Dict c) g a -&gt; PEither (Dict c :. g) ('Right a)
forall b j (f :: b -&gt; *) (a :: b). f a -&gt; PEither f ('Right a)
</span><a href="Data.Type.Functor.Product.html#PRight"><span class="hs-identifier hs-var">PRight</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dict c (g a) -&gt; Compose (Dict c) g a
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (x :: k).
f (g x) -&gt; Compose f g x
</span><span class="hs-identifier hs-var">V.Compose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g a -&gt; Dict c (g a)
forall (c :: * -&gt; Constraint) a. c a =&gt; a -&gt; Dict c a
</span><span class="hs-identifier hs-var">Dict</span></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289364"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-702"></span><span>
</span><span id="line-703"></span><span class="hs-comment">-- | Witness an item in a type-level 'NonEmpty' by either indicating that</span><span>
</span><span id="line-704"></span><span class="hs-comment">-- it is the &quot;head&quot;, or by providing an index in the &quot;tail&quot;.</span><span>
</span><span id="line-705"></span><span class="hs-keyword">data</span><span> </span><span id="NEIndex"><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-var">NEIndex</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span id="local-6989586621679289363"><span class="annot"><a href="#local-6989586621679289363"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289363"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-706"></span><span>    </span><span id="local-6989586621679289362"><span id="local-6989586621679290524"><span id="NEHead"><span class="annot"><a href="Data.Type.Functor.Product.html#NEHead"><span class="hs-identifier hs-var">NEHead</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-type">NEIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679290524"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:|</span><span> </span><span class="annot"><a href="#local-6989586621679289362"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679290524"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-707"></span><span>    </span><span id="local-6989586621679289360"><span id="local-6989586621679289361"><span id="local-6989586621679290519"><span id="NETail"><span class="annot"><a href="Data.Type.Functor.Product.html#NETail"><span class="hs-identifier hs-var">NETail</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289361"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290519"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-type">NEIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289360"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:|</span><span> </span><span class="annot"><a href="#local-6989586621679289361"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679290519"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-708"></span><span>
</span><span id="line-709"></span><span id="local-6989586621679289352"><span id="local-6989586621679289354"><span id="local-6989586621679289356"><span id="local-6989586621679289358"><span id="local-6989586621679289359"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-type">NEIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289359"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289358"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-710"></span><span id="local-6989586621679289346"><span id="local-6989586621679289348"><span id="local-6989586621679289350"><span id="local-6989586621679289351"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-type">NEIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289351"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289350"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-711"></span><span id="local-6989586621679289329"><span id="local-6989586621679289331"><span id="local-6989586621679289333"><span id="local-6989586621679289335"><span id="local-6989586621679289337"><span id="local-6989586621679289339"><span id="local-6989586621679289341"><span id="local-6989586621679289344"><span id="local-6989586621679289345"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-type">NEIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289345"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289344"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-712"></span><span>
</span><span id="line-713"></span><span class="hs-comment">-- | Kind-indexed singleton for 'NEIndex'.</span><span>
</span><span id="line-714"></span><span class="hs-keyword">data</span><span> </span><span id="SNEIndex"><span class="annot"><a href="Data.Type.Functor.Product.html#SNEIndex"><span class="hs-identifier hs-var">SNEIndex</span></a></span></span><span> </span><span id="local-6989586621679289328"><span class="annot"><a href="#local-6989586621679289328"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679289327"><span class="annot"><a href="#local-6989586621679289327"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-type">NEIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289328"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289327"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-715"></span><span>    </span><span id="local-6989586621679289326"><span id="local-6989586621679290542"><span id="SNEHead"><span class="annot"><a href="Data.Type.Functor.Product.html#SNEHead"><span class="hs-identifier hs-var">SNEHead</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SNEIndex"><span class="hs-identifier hs-type">SNEIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679290542"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:|</span><span> </span><span class="annot"><a href="#local-6989586621679289326"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679290542"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#NEHead"><span class="hs-identifier hs-type">NEHead</span></a></span></span></span><span>
</span><span id="line-716"></span><span>    </span><span id="local-6989586621679289322"><span id="local-6989586621679289323"><span id="local-6989586621679289324"><span id="local-6989586621679290532"><span id="SNETail"><span class="annot"><a href="Data.Type.Functor.Product.html#SNETail"><span class="hs-identifier hs-var">SNETail</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIndex"><span class="hs-identifier hs-type">SIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289324"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290532"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289323"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SNEIndex"><span class="hs-identifier hs-type">SNEIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289322"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:|</span><span> </span><span class="annot"><a href="#local-6989586621679289324"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679290532"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#NETail"><span class="hs-identifier hs-type">NETail</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289323"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-717"></span><span>
</span><span id="line-718"></span><span id="local-6989586621679289312"><span id="local-6989586621679289314"><span id="local-6989586621679289316"><span id="local-6989586621679289318"><span id="local-6989586621679289319"><span id="local-6989586621679289320"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#SNEIndex"><span class="hs-identifier hs-type">SNEIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289320"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289319"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289318"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-719"></span><span>
</span><span id="line-720"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Sing"><span class="annot"><span class="hs-identifier hs-var">Sing</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SNEIndex"><span class="hs-identifier hs-type">SNEIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289311"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289310"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-type">NEIndex</span></a></span><span> </span><span id="local-6989586621679289311"><span class="annot"><a href="#local-6989586621679289311"><span class="hs-keyword hs-type hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679289310"><span class="annot"><a href="#local-6989586621679289310"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-721"></span><span>
</span><span id="line-722"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#NEHead"><span class="hs-identifier hs-type">NEHead</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-723"></span><span>    </span><span id="local-6989586621679289308"><span class="annot"><span class="annottext">sing :: Sing 'NEHead
</span><a href="#local-6989586621679289308"><span class="hs-identifier hs-var hs-var hs-var hs-var">sing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing 'NEHead
forall k (a :: k) (as :: [k]). SNEIndex (a ':| as) a 'NEHead
</span><a href="Data.Type.Functor.Product.html#SNEHead"><span class="hs-identifier hs-var">SNEHead</span></a></span><span>
</span><span id="line-724"></span><span>
</span><span id="line-725"></span><span id="local-6989586621679289307"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="annot"><a href="#local-6989586621679289307"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#NETail"><span class="hs-identifier hs-type">NETail</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289307"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-726"></span><span>    </span><span id="local-6989586621679289305"><span class="annot"><span class="annottext">sing :: Sing ('NETail i)
</span><a href="#local-6989586621679289305"><span class="hs-identifier hs-var hs-var hs-var hs-var">sing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SIndex as a i -&gt; SNEIndex (b ':| as) a ('NETail i)
forall k (as :: [k]) (a :: k) (i :: Index as a) (b :: k).
SIndex as a i -&gt; SNEIndex (b ':| as) a ('NETail i)
</span><a href="Data.Type.Functor.Product.html#SNETail"><span class="hs-identifier hs-var">SNETail</span></a></span><span> </span><span class="annot"><span class="annottext">SIndex as a i
forall k (a :: k). SingI a =&gt; Sing a
</span><span class="hs-identifier hs-var">sing</span></span></span><span>
</span><span id="line-727"></span><span>
</span><span id="line-728"></span><span id="local-6989586621679289303"><span id="local-6989586621679289304"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingKind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-type">NEIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289304"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289303"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-729"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Demote"><span class="annot"><span class="hs-identifier hs-var">Demote</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-type">NEIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289304"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289303"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-type">NEIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289304"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289303"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-730"></span><span>    </span><span id="local-6989586621679289300"><span class="annot"><span class="annottext">fromSing :: Sing a -&gt; Demote (NEIndex as a)
</span><a href="#local-6989586621679289300"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-731"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#SNEHead"><span class="hs-identifier hs-type">SNEHead</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Demote (NEIndex as a)
forall k (a :: k) (as :: [k]). NEIndex (a ':| as) a
</span><a href="Data.Type.Functor.Product.html#NEHead"><span class="hs-identifier hs-var">NEHead</span></a></span><span>
</span><span id="line-732"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#SNETail"><span class="hs-identifier hs-type">SNETail</span></a></span><span> </span><span id="local-6989586621679289299"><span class="annot"><a href="#local-6989586621679289299"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Index as a -&gt; Demote (NEIndex as a)
forall k (as :: [k]) (a :: k) (b :: k).
Index as a -&gt; NEIndex (b ':| as) a
</span><a href="Data.Type.Functor.Product.html#NETail"><span class="hs-identifier hs-var">NETail</span></a></span><span> </span><span class="annot"><span class="annottext">(Index as a -&gt; Demote (NEIndex as a))
-&gt; Index as a -&gt; Demote (NEIndex as a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Sing i -&gt; Demote (Index as a)
forall k (a :: k). SingKind k =&gt; Sing a -&gt; Demote k
</span><span class="hs-identifier hs-var">fromSing</span></span><span> </span><span class="annot"><span class="annottext">Sing i
SIndex as a i
</span><a href="#local-6989586621679289299"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-733"></span><span>    </span><span id="local-6989586621679289298"><span class="annot"><span class="annottext">toSing :: Demote (NEIndex as a) -&gt; SomeSing (NEIndex as a)
</span><a href="#local-6989586621679289298"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-734"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#NEHead"><span class="hs-identifier hs-type">NEHead</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Sing 'NEHead -&gt; SomeSing (NEIndex as a)
forall k (a :: k). Sing a -&gt; SomeSing k
</span><span class="hs-identifier hs-var">SomeSing</span></span><span> </span><span class="annot"><span class="annottext">Sing 'NEHead
forall k (a :: k) (as :: [k]). SNEIndex (a ':| as) a 'NEHead
</span><a href="Data.Type.Functor.Product.html#SNEHead"><span class="hs-identifier hs-var">SNEHead</span></a></span><span>
</span><span id="line-735"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#NETail"><span class="hs-identifier hs-type">NETail</span></a></span><span> </span><span id="local-6989586621679289297"><span class="annot"><a href="#local-6989586621679289297"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Demote (Index as a)
-&gt; (forall (a :: Index as a). Sing a -&gt; SomeSing (NEIndex as a))
-&gt; SomeSing (NEIndex as a)
forall k r.
SingKind k =&gt;
Demote k -&gt; (forall (a :: k). Sing a -&gt; r) -&gt; r
</span><span class="hs-identifier hs-var">withSomeSing</span></span><span> </span><span class="annot"><span class="annottext">Demote (Index as a)
Index as a
</span><a href="#local-6989586621679289297"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (a :: Index as a). Sing a -&gt; SomeSing (NEIndex as a))
 -&gt; SomeSing (NEIndex as a))
-&gt; (forall (a :: Index as a). Sing a -&gt; SomeSing (NEIndex as a))
-&gt; SomeSing (NEIndex as a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SNEIndex (b ':| as) a ('NETail a)
-&gt; SomeSing (NEIndex (b ':| as) a)
forall k (a :: k). Sing a -&gt; SomeSing k
</span><span class="hs-identifier hs-var">SomeSing</span></span><span> </span><span class="annot"><span class="annottext">(SNEIndex (b ':| as) a ('NETail a)
 -&gt; SomeSing (NEIndex (b ':| as) a))
-&gt; (SIndex as a a -&gt; SNEIndex (b ':| as) a ('NETail a))
-&gt; SIndex as a a
-&gt; SomeSing (NEIndex (b ':| as) a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SIndex as a a -&gt; SNEIndex (b ':| as) a ('NETail a)
forall k (as :: [k]) (a :: k) (i :: Index as a) (b :: k).
SIndex as a i -&gt; SNEIndex (b ':| as) a ('NETail i)
</span><a href="Data.Type.Functor.Product.html#SNETail"><span class="hs-identifier hs-var">SNETail</span></a></span></span></span><span>
</span><span id="line-736"></span><span>
</span><span id="line-737"></span><span id="local-6989586621679289294"><span id="local-6989586621679289295"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SDecide</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-type">NEIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289295"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289294"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-738"></span><span>    </span><span id="local-6989586621679289292"><span class="annot"><span class="annottext">%~ :: Sing a -&gt; Sing b -&gt; Decision (a :~: b)
</span><a href="#local-6989586621679289292"><span class="hs-operator hs-var hs-var hs-var hs-var">(%~)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-739"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#SNEHead"><span class="hs-identifier hs-type">SNEHead</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-740"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#SNEHead"><span class="hs-identifier hs-type">SNEHead</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(a :~: a) -&gt; Decision (a :~: a)
forall a. a -&gt; Decision a
</span><span class="hs-identifier hs-var">Proved</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span><span>
</span><span id="line-741"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#SNETail"><span class="hs-identifier hs-type">SNETail</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Refuted (a :~: b) -&gt; Decision (a :~: b)
forall a. Refuted a -&gt; Decision a
</span><span class="hs-identifier hs-var">Disproved</span></span><span> </span><span class="annot"><span class="annottext">(Refuted (a :~: b) -&gt; Decision (a :~: b))
-&gt; Refuted (a :~: b) -&gt; Decision (a :~: b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-742"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#SNETail"><span class="hs-identifier hs-type">SNETail</span></a></span><span> </span><span id="local-6989586621679289291"><span class="annot"><a href="#local-6989586621679289291"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-743"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#SNEHead"><span class="hs-identifier hs-type">SNEHead</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Refuted (a :~: b) -&gt; Decision (a :~: b)
forall a. Refuted a -&gt; Decision a
</span><span class="hs-identifier hs-var">Disproved</span></span><span> </span><span class="annot"><span class="annottext">(Refuted (a :~: b) -&gt; Decision (a :~: b))
-&gt; Refuted (a :~: b) -&gt; Decision (a :~: b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-744"></span><span>        </span><span class="annot"><a href="Data.Type.Functor.Product.html#SNETail"><span class="hs-identifier hs-type">SNETail</span></a></span><span> </span><span id="local-6989586621679289290"><span class="annot"><a href="#local-6989586621679289290"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sing i
SIndex as a i
</span><a href="#local-6989586621679289291"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Sing i -&gt; Sing i -&gt; Decision (i :~: i)
forall k (a :: k) (b :: k).
SDecide k =&gt;
Sing a -&gt; Sing b -&gt; Decision (a :~: b)
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">Sing i
SIndex as a i
</span><a href="#local-6989586621679289290"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-745"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Proved</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Refl</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(a :~: a) -&gt; Decision (a :~: a)
forall a. a -&gt; Decision a
</span><span class="hs-identifier hs-var">Proved</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span><span>
</span><span id="line-746"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Disproved</span></span><span> </span><span id="local-6989586621679289289"><span class="annot"><span class="annottext">v :: Refuted (i :~: i)
</span><a href="#local-6989586621679289289"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Refuted (a :~: b) -&gt; Decision (a :~: b)
forall a. Refuted a -&gt; Decision a
</span><span class="hs-identifier hs-var">Disproved</span></span><span> </span><span class="annot"><span class="annottext">(Refuted (a :~: b) -&gt; Decision (a :~: b))
-&gt; Refuted (a :~: b) -&gt; Decision (a :~: b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Refl</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Refuted (i :~: i)
</span><a href="#local-6989586621679289289"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">i :~: i
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span></span></span><span>
</span><span id="line-747"></span><span>
</span><span id="line-748"></span><span class="hs-comment">-- | A non-empty version of 'Rec'.</span><span>
</span><span id="line-749"></span><span class="hs-keyword">data</span><span> </span><span id="NERec"><span class="annot"><a href="Data.Type.Functor.Product.html#NERec"><span class="hs-identifier hs-var">NERec</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289288"><span class="annot"><a href="#local-6989586621679289288"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="#local-6989586621679289288"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-750"></span><span>    </span><span id="local-6989586621679289286"><span id="local-6989586621679289287"><span id="local-6989586621679290480"><span id="%3A%26%7C"><span class="annot"><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-var">(:&amp;|)</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679290480"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289287"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rec</span></span><span> </span><span class="annot"><a href="#local-6989586621679290480"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289286"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#NERec"><span class="hs-identifier hs-type">NERec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290480"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289287"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:|</span><span> </span><span class="annot"><a href="#local-6989586621679289286"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-751"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">5</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-type">:&amp;|</span></a></span><span>
</span><span id="line-752"></span><span>
</span><span id="line-753"></span><span id="local-6989586621679289276"><span id="local-6989586621679289278"><span id="local-6989586621679289280"><span id="local-6989586621679289282"><span id="local-6989586621679289283"><span id="local-6989586621679289284"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289284"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289283"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679289282"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ReifyConstraint</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679289284"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289282"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RecordToList</span></span><span> </span><span class="annot"><a href="#local-6989586621679289282"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#NERec"><span class="hs-identifier hs-type">NERec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289284"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289283"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:|</span><span> </span><span class="annot"><a href="#local-6989586621679289282"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-754"></span><span id="local-6989586621679289269"><span id="local-6989586621679289271"><span id="local-6989586621679289273"><span id="local-6989586621679289274"><span id="local-6989586621679289275"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289275"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289274"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec</span></span><span> </span><span class="annot"><a href="#local-6989586621679289275"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289273"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#NERec"><span class="hs-identifier hs-type">NERec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289275"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289274"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:|</span><span> </span><span class="annot"><a href="#local-6989586621679289273"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-755"></span><span id="local-6989586621679289251"><span id="local-6989586621679289253"><span id="local-6989586621679289255"><span id="local-6989586621679289257"><span id="local-6989586621679289259"><span id="local-6989586621679289261"><span id="local-6989586621679289263"><span id="local-6989586621679289266"><span id="local-6989586621679289267"><span id="local-6989586621679289268"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289268"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289267"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec</span></span><span> </span><span class="annot"><a href="#local-6989586621679289268"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289266"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#NERec"><span class="hs-identifier hs-type">NERec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289268"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289267"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:|</span><span> </span><span class="annot"><a href="#local-6989586621679289266"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-756"></span><span>
</span><span id="line-757"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-758"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Elem"><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-var">Elem</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-type">NEIndex</span></a></span><span>
</span><span id="line-759"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Prod"><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-var">Prod</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#NERec"><span class="hs-identifier hs-type">NERec</span></a></span><span>
</span><span id="line-760"></span><span>
</span><span id="line-761"></span><span>    </span><span id="local-6989586621679289237"><span class="annot"><span class="annottext">singProd :: Sing as -&gt; Prod NonEmpty Sing as
</span><a href="#local-6989586621679289237"><span class="hs-identifier hs-var hs-var hs-var hs-var">singProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289236"><span class="annot"><a href="#local-6989586621679289236"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">NE.:%|</span></span><span> </span><span id="local-6989586621679289234"><span class="annot"><a href="#local-6989586621679289234"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing n1
</span><a href="#local-6989586621679289236"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Sing n1 -&gt; Rec Sing n2 -&gt; NERec Sing (n1 ':| n2)
forall a (f :: a -&gt; *) (a :: a) (as :: [a]).
f a -&gt; Rec f as -&gt; NERec f (a ':| as)
</span><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-var">:&amp;|</span></a></span><span> </span><span class="annot"><span class="annottext">Sing n2 -&gt; Prod [] Sing n2
forall (f :: * -&gt; *) k (as :: f k).
FProd f =&gt;
Sing as -&gt; Prod f Sing as
</span><a href="Data.Type.Functor.Product.html#singProd"><span class="hs-identifier hs-var">singProd</span></a></span><span> </span><span class="annot"><span class="annottext">Sing n2
</span><a href="#local-6989586621679289234"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-762"></span><span>    </span><span id="local-6989586621679289233"><span class="annot"><span class="annottext">prodSing :: Prod NonEmpty Sing as -&gt; Sing as
</span><a href="#local-6989586621679289233"><span class="hs-identifier hs-var hs-var hs-var hs-var">prodSing</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289232"><span class="annot"><a href="#local-6989586621679289232"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-type">:&amp;|</span></a></span><span> </span><span id="local-6989586621679289231"><span class="annot"><a href="#local-6989586621679289231"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing a
</span><a href="#local-6989586621679289232"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Sing a -&gt; Sing as -&gt; SNonEmpty (a ':| as)
forall a0 (n1 :: a0) (n2 :: [a0]).
Sing n1 -&gt; Sing n2 -&gt; SNonEmpty (n1 ':| n2)
</span><span class="hs-operator hs-var">NE.:%|</span></span><span> </span><span class="annot"><span class="annottext">Prod [] Sing as -&gt; Sing as
forall (f :: * -&gt; *) k (as :: f k).
FProd f =&gt;
Prod f Sing as -&gt; Sing as
</span><a href="Data.Type.Functor.Product.html#prodSing"><span class="hs-identifier hs-var">prodSing</span></a></span><span> </span><span class="annot"><span class="annottext">Rec Sing as
Prod [] Sing as
</span><a href="#local-6989586621679289231"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-763"></span><span>    </span><span id="local-6989586621679289230"><span class="annot"><span class="annottext">withIndices :: Prod NonEmpty g as -&gt; Prod NonEmpty (Elem NonEmpty as :*: g) as
</span><a href="#local-6989586621679289230"><span class="hs-identifier hs-var hs-var hs-var hs-var">withIndices</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289229"><span class="annot"><a href="#local-6989586621679289229"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-type">:&amp;|</span></a></span><span> </span><span id="local-6989586621679289228"><span class="annot"><a href="#local-6989586621679289228"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-764"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NEIndex (a ':| as) a
forall k (a :: k) (as :: [k]). NEIndex (a ':| as) a
</span><a href="Data.Type.Functor.Product.html#NEHead"><span class="hs-identifier hs-var">NEHead</span></a></span><span> </span><span class="annot"><span class="annottext">NEIndex (a ':| as) a -&gt; g a -&gt; (:*:) (NEIndex (a ':| as)) g a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289229"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-765"></span><span>      </span><span class="annot"><span class="annottext">(:*:) (NEIndex (a ':| as)) g a
-&gt; Rec (NEIndex (a ':| as) :*: g) as
-&gt; NERec (NEIndex (a ':| as) :*: g) (a ':| as)
forall a (f :: a -&gt; *) (a :: a) (as :: [a]).
f a -&gt; Rec f as -&gt; NERec f (a ':| as)
</span><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-var">:&amp;|</span></a></span><span> </span><span class="annot"><span class="annottext">(forall (a :: k).
 (:*:) (Index as) g a -&gt; (:*:) (NEIndex (a ':| as)) g a)
-&gt; Prod [] (Index as :*: g) as
-&gt; Prod [] (NEIndex (a ':| as) :*: g) as
forall k (f :: * -&gt; *) (g :: k -&gt; *) (h :: k -&gt; *) (as :: f k).
FProd f =&gt;
(forall (a :: k). g a -&gt; h a) -&gt; Prod f g as -&gt; Prod f h as
</span><a href="Data.Type.Functor.Product.html#mapProd"><span class="hs-identifier hs-var">mapProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679289227"><span class="annot"><a href="#local-6989586621679289227"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679289226"><span class="annot"><a href="#local-6989586621679289226"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Index as a -&gt; NEIndex (a ':| as) a
forall k (as :: [k]) (a :: k) (b :: k).
Index as a -&gt; NEIndex (b ':| as) a
</span><a href="Data.Type.Functor.Product.html#NETail"><span class="hs-identifier hs-var">NETail</span></a></span><span> </span><span class="annot"><span class="annottext">Index as a
</span><a href="#local-6989586621679289227"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">NEIndex (a ':| as) a -&gt; g a -&gt; (:*:) (NEIndex (a ':| as)) g a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289226"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Prod [] g as -&gt; Prod [] (Elem [] as :*: g) as
forall (f :: * -&gt; *) k (g :: k -&gt; *) (as :: f k).
FProd f =&gt;
Prod f g as -&gt; Prod f (Elem f as :*: g) as
</span><a href="Data.Type.Functor.Product.html#withIndices"><span class="hs-identifier hs-var">withIndices</span></a></span><span> </span><span class="annot"><span class="annottext">Rec g as
Prod [] g as
</span><a href="#local-6989586621679289228"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-766"></span><span>    </span><span id="local-6989586621679289225"><span class="annot"><span class="annottext">traverseProd :: (forall (a :: k). g a -&gt; m (h a))
-&gt; Prod NonEmpty g as -&gt; m (Prod NonEmpty h as)
</span><a href="#local-6989586621679289225"><span class="hs-identifier hs-var hs-var hs-var hs-var">traverseProd</span></a></span></span><span> </span><span id="local-6989586621679289224"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; m (h a)
</span><a href="#local-6989586621679289224"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289223"><span class="annot"><a href="#local-6989586621679289223"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-type">:&amp;|</span></a></span><span> </span><span id="local-6989586621679289222"><span class="annot"><a href="#local-6989586621679289222"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-767"></span><span>        </span><span class="annot"><span class="annottext">h a -&gt; Rec h as -&gt; NERec h (a ':| as)
forall a (f :: a -&gt; *) (a :: a) (as :: [a]).
f a -&gt; Rec f as -&gt; NERec f (a ':| as)
</span><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-var">(:&amp;|)</span></a></span><span> </span><span class="annot"><span class="annottext">(h a -&gt; Rec h as -&gt; NERec h (a ':| as))
-&gt; m (h a) -&gt; m (Rec h as -&gt; NERec h (a ':| as))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; m (h a)
forall (a :: k). g a -&gt; m (h a)
</span><a href="#local-6989586621679289224"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289223"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m (Rec h as -&gt; NERec h (a ':| as))
-&gt; m (Rec h as) -&gt; m (NERec h (a ':| as))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). g a -&gt; m (h a))
-&gt; Prod [] g as -&gt; m (Prod [] h as)
forall (f :: * -&gt; *) k (g :: k -&gt; *) (h :: k -&gt; *) (as :: f k)
       (m :: * -&gt; *).
(FProd f, Applicative m) =&gt;
(forall (a :: k). g a -&gt; m (h a)) -&gt; Prod f g as -&gt; m (Prod f h as)
</span><a href="Data.Type.Functor.Product.html#traverseProd"><span class="hs-identifier hs-var">traverseProd</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: k). g a -&gt; m (h a)
</span><a href="#local-6989586621679289224"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rec g as
Prod [] g as
</span><a href="#local-6989586621679289222"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-768"></span><span>    </span><span id="local-6989586621679289221"><span class="annot"><span class="annottext">zipWithProd :: (forall (a :: k). g a -&gt; h a -&gt; j a)
-&gt; Prod NonEmpty g as -&gt; Prod NonEmpty h as -&gt; Prod NonEmpty j as
</span><a href="#local-6989586621679289221"><span class="hs-identifier hs-var hs-var hs-var hs-var">zipWithProd</span></a></span></span><span> </span><span id="local-6989586621679289220"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679289220"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289219"><span class="annot"><a href="#local-6989586621679289219"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-type">:&amp;|</span></a></span><span> </span><span id="local-6989586621679289218"><span class="annot"><a href="#local-6989586621679289218"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289217"><span class="annot"><a href="#local-6989586621679289217"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-type">:&amp;|</span></a></span><span> </span><span id="local-6989586621679289216"><span class="annot"><a href="#local-6989586621679289216"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g a -&gt; h a -&gt; j a
forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679289220"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289219"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">h a
h a
</span><a href="#local-6989586621679289217"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">j a -&gt; Rec j as -&gt; NERec j (a ':| as)
forall a (f :: a -&gt; *) (a :: a) (as :: [a]).
f a -&gt; Rec f as -&gt; NERec f (a ':| as)
</span><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-var">:&amp;|</span></a></span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). g a -&gt; h a -&gt; j a)
-&gt; Prod [] g as -&gt; Prod [] h as -&gt; Prod [] j as
forall (f :: * -&gt; *) k (g :: k -&gt; *) (h :: k -&gt; *) (j :: k -&gt; *)
       (as :: f k).
FProd f =&gt;
(forall (a :: k). g a -&gt; h a -&gt; j a)
-&gt; Prod f g as -&gt; Prod f h as -&gt; Prod f j as
</span><a href="Data.Type.Functor.Product.html#zipWithProd"><span class="hs-identifier hs-var">zipWithProd</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679289220"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rec g as
Prod [] g as
</span><a href="#local-6989586621679289218"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Rec h as
Prod [] h as
</span><a href="#local-6989586621679289216"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-769"></span><span>    </span><span id="local-6989586621679289215"><span class="annot"><span class="annottext">htraverse :: Sing ff
-&gt; (forall (a :: a0). g a -&gt; m (h (ff @@ a)))
-&gt; Prod NonEmpty g as
-&gt; m (Prod NonEmpty h (Fmap ff as))
</span><a href="#local-6989586621679289215"><span class="hs-identifier hs-var hs-var hs-var hs-var">htraverse</span></a></span></span><span> </span><span id="local-6989586621679289214"><span class="annot"><span class="annottext">ff :: Sing ff
</span><a href="#local-6989586621679289214"><span class="hs-identifier hs-var">ff</span></a></span></span><span> </span><span id="local-6989586621679289213"><span class="annot"><span class="annottext">f :: forall (a :: a0). g a -&gt; m (h (ff @@ a))
</span><a href="#local-6989586621679289213"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289212"><span class="annot"><a href="#local-6989586621679289212"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-type">:&amp;|</span></a></span><span> </span><span id="local-6989586621679289211"><span class="annot"><a href="#local-6989586621679289211"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-770"></span><span>        </span><span class="annot"><span class="annottext">h (Apply ff a)
-&gt; Rec h (Fmap_6989586621680022722 ff as)
-&gt; NERec h (Apply ff a ':| Fmap_6989586621680022722 ff as)
forall a (f :: a -&gt; *) (a :: a) (as :: [a]).
f a -&gt; Rec f as -&gt; NERec f (a ':| as)
</span><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-var">(:&amp;|)</span></a></span><span> </span><span class="annot"><span class="annottext">(h (Apply ff a)
 -&gt; Rec h (Fmap_6989586621680022722 ff as)
 -&gt; NERec h (Apply ff a ':| Fmap_6989586621680022722 ff as))
-&gt; m (h (Apply ff a))
-&gt; m (Rec h (Fmap_6989586621680022722 ff as)
      -&gt; NERec h (Apply ff a ':| Fmap_6989586621680022722 ff as))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; m (h (Apply ff a))
forall (a :: a0). g a -&gt; m (h (ff @@ a))
</span><a href="#local-6989586621679289213"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289212"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m (Rec h (Fmap_6989586621680022722 ff as)
   -&gt; NERec h (Apply ff a ':| Fmap_6989586621680022722 ff as))
-&gt; m (Rec h (Fmap_6989586621680022722 ff as))
-&gt; m (NERec h (Apply ff a ':| Fmap_6989586621680022722 ff as))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Sing ff
-&gt; (forall (a :: a0). g a -&gt; m (h (ff @@ a)))
-&gt; Prod [] g as
-&gt; m (Prod [] h (Fmap ff as))
forall (f :: * -&gt; *) a0 k (m :: * -&gt; *) (ff :: a0 ~&gt; k)
       (g :: a0 -&gt; *) (h :: k -&gt; *) (as :: f a0).
(FProd f, Applicative m) =&gt;
Sing ff
-&gt; (forall (a :: a0). g a -&gt; m (h (ff @@ a)))
-&gt; Prod f g as
-&gt; m (Prod f h (Fmap ff as))
</span><a href="Data.Type.Functor.Product.html#htraverse"><span class="hs-identifier hs-var">htraverse</span></a></span><span> </span><span class="annot"><span class="annottext">Sing ff
</span><a href="#local-6989586621679289214"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: a0). g a -&gt; m (h (ff @@ a))
</span><a href="#local-6989586621679289213"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rec g as
Prod [] g as
</span><a href="#local-6989586621679289211"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-771"></span><span>    </span><span id="local-6989586621679289210"><span class="annot"><span class="annottext">ixProd :: Elem NonEmpty as a -&gt; Lens' (Prod NonEmpty g as) (g a)
</span><a href="#local-6989586621679289210"><span class="hs-identifier hs-var hs-var hs-var hs-var">ixProd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-772"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#NEHead"><span class="hs-identifier hs-type">NEHead</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679289209"><span class="annot"><span class="annottext">f :: g a -&gt; f (g a)
</span><a href="#local-6989586621679289209"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-773"></span><span>        </span><span id="local-6989586621679289208"><span class="annot"><a href="#local-6989586621679289208"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-type">:&amp;|</span></a></span><span> </span><span id="local-6989586621679289207"><span class="annot"><a href="#local-6989586621679289207"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g a -&gt; Rec g as -&gt; NERec g (a ':| as)
forall a (f :: a -&gt; *) (a :: a) (as :: [a]).
f a -&gt; Rec f as -&gt; NERec f (a ':| as)
</span><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-var">:&amp;|</span></a></span><span> </span><span class="annot"><span class="annottext">Rec g as
</span><a href="#local-6989586621679289207"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(g a -&gt; NERec g (a ':| as)) -&gt; f (g a) -&gt; f (NERec g (a ':| as))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; f (g a)
</span><a href="#local-6989586621679289209"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
g a
</span><a href="#local-6989586621679289208"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-774"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#NETail"><span class="hs-identifier hs-type">NETail</span></a></span><span> </span><span id="local-6989586621679289206"><span class="annot"><a href="#local-6989586621679289206"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679289205"><span class="annot"><span class="annottext">f :: g a -&gt; f (g a)
</span><a href="#local-6989586621679289205"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-775"></span><span>        </span><span id="local-6989586621679289204"><span class="annot"><a href="#local-6989586621679289204"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-type">:&amp;|</span></a></span><span> </span><span id="local-6989586621679289203"><span class="annot"><a href="#local-6989586621679289203"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289204"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g a -&gt; Rec g as -&gt; NERec g (a ':| as)
forall a (f :: a -&gt; *) (a :: a) (as :: [a]).
f a -&gt; Rec f as -&gt; NERec f (a ':| as)
</span><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-var">:&amp;|</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Rec g as -&gt; NERec g (a ':| as))
-&gt; f (Rec g as) -&gt; f (NERec g (a ':| as))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Elem [] as a
-&gt; (g a -&gt; f (g a)) -&gt; Prod [] g as -&gt; f (Prod [] g as)
forall (f :: * -&gt; *) k (as :: f k) (a :: k) (g :: k -&gt; *).
FProd f =&gt;
Elem f as a -&gt; Lens' (Prod f g as) (g a)
</span><a href="Data.Type.Functor.Product.html#ixProd"><span class="hs-identifier hs-var">ixProd</span></a></span><span> </span><span class="annot"><span class="annottext">Index as a
Elem [] as a
</span><a href="#local-6989586621679289206"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">g a -&gt; f (g a)
</span><a href="#local-6989586621679289205"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rec g as
Prod [] g as
</span><a href="#local-6989586621679289203"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-776"></span><span>    </span><span id="local-6989586621679289202"><span class="annot"><span class="annottext">toRec :: Prod NonEmpty g as -&gt; Rec g (ToList as)
</span><a href="#local-6989586621679289202"><span class="hs-identifier hs-var hs-var hs-var hs-var">toRec</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289201"><span class="annot"><a href="#local-6989586621679289201"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-type">:&amp;|</span></a></span><span> </span><span id="local-6989586621679289200"><span class="annot"><a href="#local-6989586621679289200"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289201"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g a -&gt; Rec g as -&gt; Rec g (a : as)
forall u (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><span class="hs-operator hs-var">:&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rec g as
</span><a href="#local-6989586621679289200"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-777"></span><span>    </span><span id="local-6989586621679289199"><span class="annot"><span class="annottext">withPureProd :: Prod NonEmpty g as -&gt; (PureProd NonEmpty as =&gt; r) -&gt; r
</span><a href="#local-6989586621679289199"><span class="hs-identifier hs-var hs-var hs-var hs-var">withPureProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289198"><span class="annot"><a href="#local-6989586621679289198"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-type">:&amp;|</span></a></span><span> </span><span id="local-6989586621679289197"><span class="annot"><a href="#local-6989586621679289197"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g a
-&gt; Rec g as
-&gt; ((RecApplicative as, PureProd NonEmpty (a ':| as)) =&gt; r)
-&gt; r
forall k (f :: k -&gt; *) (a :: k) (as :: [k]) r.
f a
-&gt; Rec f as
-&gt; ((RecApplicative as, PureProd NonEmpty (a ':| as)) =&gt; r)
-&gt; r
</span><a href="Data.Type.Functor.Product.html#withPureProdNE"><span class="hs-identifier hs-var">withPureProdNE</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289198"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Rec g as
</span><a href="#local-6989586621679289197"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-778"></span><span>
</span><span id="line-779"></span><span class="hs-comment">-- | A stronger version of 'withPureProd' for 'NERec', providing</span><span>
</span><span id="line-780"></span><span class="hs-comment">-- a 'RecApplicative' instance as well.</span><span>
</span><span id="line-781"></span><span id="local-6989586621679290413"><span id="local-6989586621679290414"><span id="local-6989586621679290415"><span id="local-6989586621679290416"><span class="annot"><a href="Data.Type.Functor.Product.html#withPureProdNE"><span class="hs-identifier hs-type">withPureProdNE</span></a></span><span>
</span><span id="line-782"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679290416"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290415"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-783"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rec</span></span><span> </span><span class="annot"><a href="#local-6989586621679290416"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290414"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-784"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RecApplicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679290414"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679290415"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:|</span><span> </span><span class="annot"><a href="#local-6989586621679290414"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679290413"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-785"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679290413"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-786"></span><span id="withPureProdNE"><span class="annot"><span class="annottext">withPureProdNE :: f a
-&gt; Rec f as
-&gt; ((RecApplicative as, PureProd NonEmpty (a ':| as)) =&gt; r)
-&gt; r
</span><a href="Data.Type.Functor.Product.html#withPureProdNE"><span class="hs-identifier hs-var hs-var">withPureProdNE</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679289196"><span class="annot"><span class="annottext">xs :: Rec f as
</span><a href="#local-6989586621679289196"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec f as -&gt; ((RecApplicative as, PureProd [] as) =&gt; r) -&gt; r
forall k (f :: k -&gt; *) (as :: [k]) r.
Rec f as -&gt; ((RecApplicative as, PureProd [] as) =&gt; r) -&gt; r
</span><a href="Data.Type.Functor.Product.html#withPureProdList"><span class="hs-identifier hs-var">withPureProdList</span></a></span><span> </span><span class="annot"><span class="annottext">Rec f as
</span><a href="#local-6989586621679289196"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-787"></span><span>
</span><span id="line-788"></span><span id="local-6989586621679289194"><span id="local-6989586621679289195"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RecApplicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679289195"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289194"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:|</span><span> </span><span class="annot"><a href="#local-6989586621679289195"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-789"></span><span>    </span><span id="local-6989586621679289192"><span class="annot"><span class="annottext">pureProd :: (forall (a :: k). g a) -&gt; Prod NonEmpty g (a ':| as)
</span><a href="#local-6989586621679289192"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProd</span></a></span></span><span> </span><span id="local-6989586621679289191"><span class="annot"><span class="annottext">x :: forall (a :: k). g a
</span><a href="#local-6989586621679289191"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g a
forall (a :: k). g a
</span><a href="#local-6989586621679289191"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g a -&gt; Rec g as -&gt; NERec g (a ':| as)
forall a (f :: a -&gt; *) (a :: a) (as :: [a]).
f a -&gt; Rec f as -&gt; NERec f (a ':| as)
</span><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-var">:&amp;|</span></a></span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). g a) -&gt; Prod [] g as
forall k (f :: * -&gt; *) (as :: f k) (g :: k -&gt; *).
PureProd f as =&gt;
(forall (a :: k). g a) -&gt; Prod f g as
</span><a href="Data.Type.Functor.Product.html#pureProd"><span class="hs-identifier hs-var">pureProd</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: k). g a
</span><a href="#local-6989586621679289191"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-790"></span><span>
</span><span id="line-791"></span><span id="local-6989586621679289188"><span id="local-6989586621679289189"><span id="local-6989586621679289190"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289190"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289189"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RPureConstrained</span></span><span> </span><span class="annot"><a href="#local-6989586621679289190"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289188"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProdC"><span class="hs-identifier hs-type">PureProdC</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="#local-6989586621679289190"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289189"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:|</span><span> </span><span class="annot"><a href="#local-6989586621679289188"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-792"></span><span>    </span><span id="local-6989586621679289186"><span class="annot"><span class="annottext">pureProdC :: (forall (a :: a). c a =&gt; g a) -&gt; Prod NonEmpty g (a ':| as)
</span><a href="#local-6989586621679289186"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProdC</span></a></span></span><span> </span><span id="local-6989586621679289185"><span class="annot"><span class="annottext">x :: forall (a :: a). c a =&gt; g a
</span><a href="#local-6989586621679289185"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g a
forall (a :: a). c a =&gt; g a
</span><a href="#local-6989586621679289185"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g a -&gt; Rec g as -&gt; NERec g (a ':| as)
forall a (f :: a -&gt; *) (a :: a) (as :: [a]).
f a -&gt; Rec f as -&gt; NERec f (a ':| as)
</span><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-var">:&amp;|</span></a></span><span> </span><span class="annot"><span class="annottext">(forall (a :: a). c a =&gt; g a) -&gt; Prod [] g as
forall k (f :: * -&gt; *) (c :: k -&gt; Constraint) (as :: f k)
       (g :: k -&gt; *).
PureProdC f c as =&gt;
(forall (a :: k). c a =&gt; g a) -&gt; Prod f g as
</span><a href="Data.Type.Functor.Product.html#pureProdC"><span class="hs-identifier hs-var">pureProdC</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679289190"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: a). c a =&gt; g a
</span><a href="#local-6989586621679289185"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-793"></span><span>
</span><span id="line-794"></span><span id="local-6989586621679289181"><span id="local-6989586621679289182"><span id="local-6989586621679289183"><span id="local-6989586621679289184"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289184"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289183"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289182"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ReifyConstraint</span></span><span> </span><span class="annot"><a href="#local-6989586621679289184"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289183"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289181"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="#local-6989586621679289184"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289183"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289182"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:|</span><span> </span><span class="annot"><a href="#local-6989586621679289181"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-795"></span><span>    </span><span id="local-6989586621679289179"><span class="annot"><span class="annottext">reifyConstraintProd :: Prod NonEmpty g (a ':| as)
-&gt; Prod NonEmpty (Dict c :. g) (a ':| as)
</span><a href="#local-6989586621679289179"><span class="hs-identifier hs-var hs-var hs-var hs-var">reifyConstraintProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289178"><span class="annot"><a href="#local-6989586621679289178"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-type">:&amp;|</span></a></span><span> </span><span id="local-6989586621679289177"><span class="annot"><a href="#local-6989586621679289177"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Dict c (g a) -&gt; Compose (Dict c) g a
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (x :: k).
f (g x) -&gt; Compose f g x
</span><span class="hs-identifier hs-var">V.Compose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g a -&gt; Dict c (g a)
forall (c :: * -&gt; Constraint) a. c a =&gt; a -&gt; Dict c a
</span><span class="hs-identifier hs-var">Dict</span></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289178"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-796"></span><span>                                 </span><span class="annot"><span class="annottext">Compose (Dict c) g a
-&gt; Rec (Dict c :. g) as -&gt; NERec (Dict c :. g) (a ':| as)
forall a (f :: a -&gt; *) (a :: a) (as :: [a]).
f a -&gt; Rec f as -&gt; NERec f (a ':| as)
</span><a href="Data.Type.Functor.Product.html#%3A%26%7C"><span class="hs-operator hs-var">:&amp;|</span></a></span><span> </span><span class="annot"><span class="annottext">Prod [] g as -&gt; Prod [] (Dict c :. g) as
forall k (f :: * -&gt; *) (c :: * -&gt; Constraint) (g :: k -&gt; *)
       (as :: f k).
ReifyConstraintProd f c g as =&gt;
Prod f g as -&gt; Prod f (Dict c :. g) as
</span><a href="Data.Type.Functor.Product.html#reifyConstraintProd"><span class="hs-identifier hs-var">reifyConstraintProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679289184"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="annottext">Rec g as
Prod [] g as
</span><a href="#local-6989586621679289177"><span class="hs-identifier hs-var">xs</span></a></span></span></span></span></span><span>
</span><span id="line-797"></span><span>
</span><span id="line-798"></span><span class="hs-comment">-- | Test if two indices point to the same item in a list.</span><span>
</span><span id="line-799"></span><span class="hs-comment">--</span><span>
</span><span id="line-800"></span><span class="hs-comment">-- We have to return a 'Maybe' here instead of a 'Decision', because it</span><span>
</span><span id="line-801"></span><span class="hs-comment">-- might be the case that the same item might be duplicated in a list.</span><span>
</span><span id="line-802"></span><span class="hs-comment">-- Therefore, even if two indices are different, we cannot prove that the</span><span>
</span><span id="line-803"></span><span class="hs-comment">-- values they point to are different.</span><span>
</span><span id="line-804"></span><span id="local-6989586621679290381"><span id="local-6989586621679290382"><span id="local-6989586621679290383"><span class="annot"><a href="Data.Type.Functor.Product.html#sameIndexVal"><span class="hs-identifier hs-type">sameIndexVal</span></a></span><span>
</span><span id="line-805"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290383"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290382"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-806"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290383"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290381"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-807"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679290382"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:~:</span></span><span> </span><span class="annot"><a href="#local-6989586621679290381"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-808"></span><span id="sameIndexVal"><span class="annot"><span class="annottext">sameIndexVal :: Index as a -&gt; Index as b -&gt; Maybe (a :~: b)
</span><a href="Data.Type.Functor.Product.html#sameIndexVal"><span class="hs-identifier hs-var hs-var">sameIndexVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-809"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#IZ"><span class="hs-identifier hs-type">IZ</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-810"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#IZ"><span class="hs-identifier hs-type">IZ</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(a :~: a) -&gt; Maybe (a :~: a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span><span>
</span><span id="line-811"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#IS"><span class="hs-identifier hs-type">IS</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (a :~: b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-812"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#IS"><span class="hs-identifier hs-type">IS</span></a></span><span> </span><span id="local-6989586621679289176"><span class="annot"><span class="annottext">i :: Index bs a
</span><a href="#local-6989586621679289176"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-813"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#IZ"><span class="hs-identifier hs-type">IZ</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (a :~: b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-814"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#IS"><span class="hs-identifier hs-type">IS</span></a></span><span> </span><span id="local-6989586621679289175"><span class="annot"><span class="annottext">j :: Index bs b
</span><a href="#local-6989586621679289175"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Index bs a -&gt; Index bs b -&gt; Maybe (a :~: b)
forall k (as :: [k]) (a :: k) (b :: k).
Index as a -&gt; Index as b -&gt; Maybe (a :~: b)
</span><a href="Data.Type.Functor.Product.html#sameIndexVal"><span class="hs-identifier hs-var">sameIndexVal</span></a></span><span> </span><span class="annot"><span class="annottext">Index bs a
</span><a href="#local-6989586621679289176"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Index bs b
Index bs b
</span><a href="#local-6989586621679289175"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (a :~: b) -&gt; ((a :~: b) -&gt; a :~: b) -&gt; Maybe (a :~: b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Refl</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a :~: b
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span><span>
</span><span id="line-815"></span><span>
</span><span id="line-816"></span><span>
</span><span id="line-817"></span><span class="hs-comment">-- | Test if two indices point to the same item in a non-empty list.</span><span>
</span><span id="line-818"></span><span class="hs-comment">--</span><span>
</span><span id="line-819"></span><span class="hs-comment">-- We have to return a 'Maybe' here instead of a 'Decision', because it</span><span>
</span><span id="line-820"></span><span class="hs-comment">-- might be the case that the same item might be duplicated in a list.</span><span>
</span><span id="line-821"></span><span class="hs-comment">-- Therefore, even if two indices are different, we cannot prove that the</span><span>
</span><span id="line-822"></span><span class="hs-comment">-- values they point to are different.</span><span>
</span><span id="line-823"></span><span id="local-6989586621679289171"><span id="local-6989586621679289172"><span id="local-6989586621679289173"><span class="annot"><a href="Data.Type.Functor.Product.html#sameNEIndexVal"><span class="hs-identifier hs-type">sameNEIndexVal</span></a></span><span>
</span><span id="line-824"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-type">NEIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289173"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289172"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-825"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#NEIndex"><span class="hs-identifier hs-type">NEIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289173"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289171"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-826"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289172"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:~:</span></span><span> </span><span class="annot"><a href="#local-6989586621679289171"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-827"></span><span id="sameNEIndexVal"><span class="annot"><span class="annottext">sameNEIndexVal :: NEIndex as a -&gt; NEIndex as b -&gt; Maybe (a :~: b)
</span><a href="Data.Type.Functor.Product.html#sameNEIndexVal"><span class="hs-identifier hs-var hs-var">sameNEIndexVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-828"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#NEHead"><span class="hs-identifier hs-type">NEHead</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-829"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#NEHead"><span class="hs-identifier hs-type">NEHead</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(a :~: a) -&gt; Maybe (a :~: a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span><span>
</span><span id="line-830"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#NETail"><span class="hs-identifier hs-type">NETail</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (a :~: b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-831"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#NETail"><span class="hs-identifier hs-type">NETail</span></a></span><span> </span><span id="local-6989586621679289170"><span class="annot"><span class="annottext">i :: Index as a
</span><a href="#local-6989586621679289170"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-832"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#NEHead"><span class="hs-identifier hs-type">NEHead</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (a :~: b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-833"></span><span>      </span><span class="annot"><a href="Data.Type.Functor.Product.html#NETail"><span class="hs-identifier hs-type">NETail</span></a></span><span> </span><span id="local-6989586621679289169"><span class="annot"><span class="annottext">j :: Index as b
</span><a href="#local-6989586621679289169"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Index as a -&gt; Index as b -&gt; Maybe (a :~: b)
forall k (as :: [k]) (a :: k) (b :: k).
Index as a -&gt; Index as b -&gt; Maybe (a :~: b)
</span><a href="Data.Type.Functor.Product.html#sameIndexVal"><span class="hs-identifier hs-var">sameIndexVal</span></a></span><span> </span><span class="annot"><span class="annottext">Index as a
</span><a href="#local-6989586621679289170"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Index as b
Index as b
</span><a href="#local-6989586621679289169"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (a :~: b) -&gt; ((a :~: b) -&gt; a :~: b) -&gt; Maybe (a :~: b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Refl</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a :~: b
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span><span>
</span><span id="line-834"></span><span>
</span><span id="line-835"></span><span class="hs-comment">-- | Trivially witness an item in the second field of a type-level tuple.</span><span>
</span><span id="line-836"></span><span class="hs-keyword">data</span><span> </span><span id="ISnd"><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-var">ISnd</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289168"><span class="annot"><a href="#local-6989586621679289168"><span class="hs-identifier hs-type hs-type">j</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679289167"><span class="annot"><a href="#local-6989586621679289167"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679289167"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-837"></span><span>    </span><span id="local-6989586621679289166"><span id="local-6989586621679290331"><span id="ISnd"><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-var">ISnd</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289166"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679290331"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679290331"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-838"></span><span>
</span><span id="line-839"></span><span id="local-6989586621679289158"><span id="local-6989586621679289160"><span id="local-6989586621679289162"><span id="local-6989586621679289164"><span id="local-6989586621679289165"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289165"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289164"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-840"></span><span id="local-6989586621679289148"><span id="local-6989586621679289150"><span id="local-6989586621679289152"><span id="local-6989586621679289154"><span id="local-6989586621679289156"><span id="local-6989586621679289157"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Read</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289157"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679289156"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679289156"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-841"></span><span id="local-6989586621679289142"><span id="local-6989586621679289144"><span id="local-6989586621679289146"><span id="local-6989586621679289147"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289147"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289146"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-842"></span><span id="local-6989586621679289125"><span id="local-6989586621679289127"><span id="local-6989586621679289129"><span id="local-6989586621679289131"><span id="local-6989586621679289133"><span id="local-6989586621679289135"><span id="local-6989586621679289137"><span id="local-6989586621679289140"><span id="local-6989586621679289141"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289141"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289140"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-843"></span><span>
</span><span id="line-844"></span><span class="hs-comment">-- | Kind-indexed singleton for 'ISnd'.</span><span>
</span><span id="line-845"></span><span class="hs-keyword">data</span><span> </span><span id="SISnd"><span class="annot"><a href="Data.Type.Functor.Product.html#SISnd"><span class="hs-identifier hs-var">SISnd</span></a></span></span><span> </span><span id="local-6989586621679289124"><span class="annot"><a href="#local-6989586621679289124"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679289123"><span class="annot"><a href="#local-6989586621679289123"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289124"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289123"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-846"></span><span>    </span><span id="local-6989586621679289122"><span id="local-6989586621679290340"><span id="SISnd"><span class="annot"><a href="Data.Type.Functor.Product.html#SISnd"><span class="hs-identifier hs-var">SISnd</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SISnd"><span class="hs-identifier hs-type">SISnd</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289122"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679290340"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679290340"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span></span></span><span>
</span><span id="line-847"></span><span>
</span><span id="line-848"></span><span id="local-6989586621679289112"><span id="local-6989586621679289114"><span id="local-6989586621679289116"><span id="local-6989586621679289118"><span id="local-6989586621679289119"><span id="local-6989586621679289120"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#SISnd"><span class="hs-identifier hs-type">SISnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289120"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289119"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289118"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-849"></span><span>
</span><span id="line-850"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Sing"><span class="annot"><span class="hs-identifier hs-var">Sing</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SISnd"><span class="hs-identifier hs-type">SISnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289111"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289110"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span> </span><span id="local-6989586621679289111"><span class="annot"><a href="#local-6989586621679289111"><span class="hs-keyword hs-type hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679289110"><span class="annot"><a href="#local-6989586621679289110"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-851"></span><span>
</span><span id="line-852"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-853"></span><span>    </span><span id="local-6989586621679289108"><span class="annot"><span class="annottext">sing :: Sing 'ISnd
</span><a href="#local-6989586621679289108"><span class="hs-identifier hs-var hs-var hs-var hs-var">sing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing 'ISnd
forall j k (a :: j) (b :: k). SISnd '(a, b) b 'ISnd
</span><a href="Data.Type.Functor.Product.html#SISnd"><span class="hs-identifier hs-var">SISnd</span></a></span><span>
</span><span id="line-854"></span><span>
</span><span id="line-855"></span><span id="local-6989586621679289106"><span id="local-6989586621679289107"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingKind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289107"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289106"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-856"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Demote"><span class="annot"><span class="hs-identifier hs-var">Demote</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289107"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289106"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289107"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289106"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-857"></span><span>    </span><span id="local-6989586621679289103"><span class="annot"><span class="annottext">fromSing :: Sing a -&gt; Demote (ISnd as a)
</span><a href="#local-6989586621679289103"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSing</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SISnd"><span class="hs-identifier hs-type">SISnd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Demote (ISnd as a)
forall j k (a :: j) (b :: k). ISnd '(a, b) b
</span><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-var">ISnd</span></a></span><span>
</span><span id="line-858"></span><span>    </span><span id="local-6989586621679289102"><span class="annot"><span class="annottext">toSing :: Demote (ISnd as a) -&gt; SomeSing (ISnd as a)
</span><a href="#local-6989586621679289102"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSing</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing 'ISnd -&gt; SomeSing (ISnd as a)
forall k (a :: k). Sing a -&gt; SomeSing k
</span><span class="hs-identifier hs-var">SomeSing</span></span><span> </span><span class="annot"><span class="annottext">Sing 'ISnd
forall j k (a :: j) (b :: k). SISnd '(a, b) b 'ISnd
</span><a href="Data.Type.Functor.Product.html#SISnd"><span class="hs-identifier hs-var">SISnd</span></a></span></span></span><span>
</span><span id="line-859"></span><span>
</span><span id="line-860"></span><span id="local-6989586621679289100"><span id="local-6989586621679289101"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SDecide</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289101"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289100"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-861"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#SISnd"><span class="hs-identifier hs-type">SISnd</span></a></span><span> </span><span id="local-6989586621679289098"><span class="annot"><span class="annottext">%~ :: Sing a -&gt; Sing b -&gt; Decision (a :~: b)
</span><a href="#local-6989586621679289098"><span class="hs-operator hs-var hs-var hs-var hs-var">%~</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SISnd"><span class="hs-identifier hs-type">SISnd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a :~: a) -&gt; Decision (a :~: a)
forall a. a -&gt; Decision a
</span><span class="hs-identifier hs-var">Proved</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span></span></span><span>
</span><span id="line-862"></span><span>
</span><span id="line-863"></span><span class="hs-comment">-- | A 'PTup' tuples up some singleton with some value; a @'PTup' f '(w,</span><span>
</span><span id="line-864"></span><span class="hs-comment">-- a)@ contains a @'Sing' w@ and an @f a@.</span><span>
</span><span id="line-865"></span><span class="hs-comment">--</span><span>
</span><span id="line-866"></span><span class="hs-comment">-- This can be useful for carrying along some witness aside a functor</span><span>
</span><span id="line-867"></span><span class="hs-comment">-- value.</span><span>
</span><span id="line-868"></span><span class="hs-keyword">data</span><span> </span><span id="PTup"><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-var">PTup</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289097"><span class="annot"><a href="#local-6989586621679289097"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679289096"><span class="annot"><a href="#local-6989586621679289096"><span class="hs-identifier hs-type hs-type">j</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679289097"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-869"></span><span>    </span><span id="local-6989586621679289094"><span id="local-6989586621679289095"><span id="local-6989586621679290294"><span id="PTup"><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-var">PTup</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679289095"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679290294"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289094"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290294"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289095"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679289094"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-870"></span><span>
</span><span id="line-871"></span><span id="local-6989586621679289084"><span id="local-6989586621679289086"><span id="local-6989586621679289088"><span id="local-6989586621679289090"><span id="local-6989586621679289091"><span id="local-6989586621679289092"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679289092"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289091"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289090"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289091"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289092"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679289090"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-872"></span><span id="local-6989586621679289073"><span id="local-6989586621679289075"><span id="local-6989586621679289077"><span id="local-6989586621679289079"><span id="local-6989586621679289081"><span id="local-6989586621679289082"><span id="local-6989586621679289083"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Read</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679289083"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Read</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289082"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289081"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Read</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289082"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289083"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679289081"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-873"></span><span id="local-6989586621679289066"><span id="local-6989586621679289068"><span id="local-6989586621679289070"><span id="local-6989586621679289071"><span id="local-6989586621679289072"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679289072"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289071"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289070"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289071"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289072"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679289070"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-874"></span><span id="local-6989586621679289048"><span id="local-6989586621679289050"><span id="local-6989586621679289052"><span id="local-6989586621679289054"><span id="local-6989586621679289056"><span id="local-6989586621679289058"><span id="local-6989586621679289060"><span id="local-6989586621679289063"><span id="local-6989586621679289064"><span id="local-6989586621679289065"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="annot"><a href="#local-6989586621679289065"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289064"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289063"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679289064"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289065"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679289063"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-875"></span><span>
</span><span id="line-876"></span><span id="local-6989586621679289047"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679289047"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-877"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Elem"><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-var">Elem</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679289047"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span>
</span><span id="line-878"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Prod"><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-var">Prod</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679289047"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span>
</span><span id="line-879"></span><span>
</span><span id="line-880"></span><span>    </span><span id="local-6989586621679289033"><span class="annot"><span class="annottext">singProd :: Sing as -&gt; Prod ((,) j) Sing as
</span><a href="#local-6989586621679289033"><span class="hs-identifier hs-var hs-var hs-var hs-var">singProd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">STuple2</span></span><span> </span><span id="local-6989586621679289031"><span class="annot"><a href="#local-6989586621679289031"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679289030"><span class="annot"><a href="#local-6989586621679289030"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing n1 -&gt; Sing n2 -&gt; PTup Sing '(n1, n2)
forall j k (w :: j) (f :: k -&gt; *) (a :: k).
Sing w -&gt; f a -&gt; PTup f '(w, a)
</span><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-var">PTup</span></a></span><span> </span><span class="annot"><span class="annottext">Sing n1
</span><a href="#local-6989586621679289031"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Sing n2
</span><a href="#local-6989586621679289030"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-881"></span><span>    </span><span id="local-6989586621679289029"><span class="annot"><span class="annottext">prodSing :: Prod ((,) j) Sing as -&gt; Sing as
</span><a href="#local-6989586621679289029"><span class="hs-identifier hs-var hs-var hs-var hs-var">prodSing</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span id="local-6989586621679289028"><span class="annot"><a href="#local-6989586621679289028"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679289027"><span class="annot"><a href="#local-6989586621679289027"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing w -&gt; Sing a -&gt; STuple2 '(w, a)
forall a0 b0 (n1 :: a0) (n2 :: b0).
Sing n1 -&gt; Sing n2 -&gt; STuple2 '(n1, n2)
</span><span class="hs-identifier hs-var">STuple2</span></span><span> </span><span class="annot"><span class="annottext">Sing w
</span><a href="#local-6989586621679289028"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Sing a
</span><a href="#local-6989586621679289027"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-882"></span><span>    </span><span id="local-6989586621679289026"><span class="annot"><span class="annottext">withIndices :: Prod ((,) j) g as -&gt; Prod ((,) j) (Elem ((,) j) as :*: g) as
</span><a href="#local-6989586621679289026"><span class="hs-identifier hs-var hs-var hs-var hs-var">withIndices</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span id="local-6989586621679289025"><span class="annot"><a href="#local-6989586621679289025"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679289024"><span class="annot"><a href="#local-6989586621679289024"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing w
-&gt; (:*:) (ISnd '(w, a)) g a -&gt; PTup (ISnd '(w, a) :*: g) '(w, a)
forall j k (w :: j) (f :: k -&gt; *) (a :: k).
Sing w -&gt; f a -&gt; PTup f '(w, a)
</span><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-var">PTup</span></a></span><span> </span><span class="annot"><span class="annottext">Sing w
</span><a href="#local-6989586621679289025"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ISnd '(w, a) a
forall j k (a :: j) (b :: k). ISnd '(a, b) b
</span><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-var">ISnd</span></a></span><span> </span><span class="annot"><span class="annottext">ISnd '(w, a) a -&gt; g a -&gt; (:*:) (ISnd '(w, a)) g a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289024"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-883"></span><span>    </span><span id="local-6989586621679289023"><span class="annot"><span class="annottext">traverseProd :: (forall (a :: k). g a -&gt; m (h a))
-&gt; Prod ((,) j) g as -&gt; m (Prod ((,) j) h as)
</span><a href="#local-6989586621679289023"><span class="hs-identifier hs-var hs-var hs-var hs-var">traverseProd</span></a></span></span><span> </span><span id="local-6989586621679289022"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; m (h a)
</span><a href="#local-6989586621679289022"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span id="local-6989586621679289021"><span class="annot"><a href="#local-6989586621679289021"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679289020"><span class="annot"><a href="#local-6989586621679289020"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing w -&gt; h a -&gt; PTup h '(w, a)
forall j k (w :: j) (f :: k -&gt; *) (a :: k).
Sing w -&gt; f a -&gt; PTup f '(w, a)
</span><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-var">PTup</span></a></span><span> </span><span class="annot"><span class="annottext">Sing w
</span><a href="#local-6989586621679289021"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">(h a -&gt; PTup h '(w, a)) -&gt; m (h a) -&gt; m (PTup h '(w, a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; m (h a)
forall (a :: k). g a -&gt; m (h a)
</span><a href="#local-6989586621679289022"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289020"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-884"></span><span>    </span><span id="local-6989586621679289019"><span class="annot"><span class="annottext">zipWithProd :: (forall (a :: k). g a -&gt; h a -&gt; j a)
-&gt; Prod ((,) j) g as -&gt; Prod ((,) j) h as -&gt; Prod ((,) j) j as
</span><a href="#local-6989586621679289019"><span class="hs-identifier hs-var hs-var hs-var hs-var">zipWithProd</span></a></span></span><span> </span><span id="local-6989586621679289018"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679289018"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span id="local-6989586621679289017"><span class="annot"><a href="#local-6989586621679289017"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679289016"><span class="annot"><a href="#local-6989586621679289016"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679289015"><span class="annot"><a href="#local-6989586621679289015"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing w -&gt; j a -&gt; PTup j '(w, a)
forall j k (w :: j) (f :: k -&gt; *) (a :: k).
Sing w -&gt; f a -&gt; PTup f '(w, a)
</span><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-var">PTup</span></a></span><span> </span><span class="annot"><span class="annottext">Sing w
</span><a href="#local-6989586621679289017"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g a -&gt; h a -&gt; j a
forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679289018"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289016"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">h a
h a
</span><a href="#local-6989586621679289015"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-885"></span><span>    </span><span id="local-6989586621679289014"><span class="annot"><span class="annottext">htraverse :: Sing ff
-&gt; (forall (a :: a0). g a -&gt; m (h (ff @@ a)))
-&gt; Prod ((,) j) g as
-&gt; m (Prod ((,) j) h (Fmap ff as))
</span><a href="#local-6989586621679289014"><span class="hs-identifier hs-var hs-var hs-var hs-var">htraverse</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679289013"><span class="annot"><span class="annottext">f :: forall (a :: a0). g a -&gt; m (h (ff @@ a))
</span><a href="#local-6989586621679289013"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span id="local-6989586621679289012"><span class="annot"><a href="#local-6989586621679289012"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679289011"><span class="annot"><a href="#local-6989586621679289011"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing w -&gt; h (Apply ff a) -&gt; PTup h '(w, Apply ff a)
forall j k (w :: j) (f :: k -&gt; *) (a :: k).
Sing w -&gt; f a -&gt; PTup f '(w, a)
</span><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-var">PTup</span></a></span><span> </span><span class="annot"><span class="annottext">Sing w
</span><a href="#local-6989586621679289012"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">(h (Apply ff a) -&gt; PTup h '(w, Apply ff a))
-&gt; m (h (Apply ff a)) -&gt; m (PTup h '(w, Apply ff a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; m (h (Apply ff a))
forall (a :: a0). g a -&gt; m (h (ff @@ a))
</span><a href="#local-6989586621679289013"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289011"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-886"></span><span>    </span><span id="local-6989586621679289010"><span class="annot"><span class="annottext">ixProd :: Elem ((,) j) as a -&gt; Lens' (Prod ((,) j) g as) (g a)
</span><a href="#local-6989586621679289010"><span class="hs-identifier hs-var hs-var hs-var hs-var">ixProd</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ISnd"><span class="hs-identifier hs-type">ISnd</span></a></span><span> </span><span id="local-6989586621679289009"><span class="annot"><span class="annottext">f :: g a -&gt; f (g a)
</span><a href="#local-6989586621679289009"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span id="local-6989586621679289008"><span class="annot"><a href="#local-6989586621679289008"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679289007"><span class="annot"><a href="#local-6989586621679289007"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing a -&gt; g a -&gt; PTup g '(a, a)
forall j k (w :: j) (f :: k -&gt; *) (a :: k).
Sing w -&gt; f a -&gt; PTup f '(w, a)
</span><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-var">PTup</span></a></span><span> </span><span class="annot"><span class="annottext">Sing a
Sing w
</span><a href="#local-6989586621679289008"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">(g a -&gt; PTup g '(a, a)) -&gt; f (g a) -&gt; f (PTup g '(a, a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; f (g a)
</span><a href="#local-6989586621679289009"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
g a
</span><a href="#local-6989586621679289007"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-887"></span><span>    </span><span id="local-6989586621679289006"><span class="annot"><span class="annottext">toRec :: Prod ((,) j) g as -&gt; Rec g (ToList as)
</span><a href="#local-6989586621679289006"><span class="hs-identifier hs-var hs-var hs-var hs-var">toRec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679289005"><span class="annot"><a href="#local-6989586621679289005"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679289005"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g a -&gt; Rec g '[] -&gt; Rec g '[a]
forall u (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><span class="hs-operator hs-var">:&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rec g '[]
forall u (a :: u -&gt; *). Rec a '[]
</span><span class="hs-identifier hs-var">RNil</span></span><span>
</span><span id="line-888"></span><span>    </span><span id="local-6989586621679289004"><span class="annot"><span class="annottext">withPureProd :: Prod ((,) j) g as -&gt; (PureProd ((,) j) as =&gt; r) -&gt; r
</span><a href="#local-6989586621679289004"><span class="hs-identifier hs-var hs-var hs-var hs-var">withPureProd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Sing</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679289003"><span class="annot"><span class="annottext">x :: PureProd ((,) j) as =&gt; r
</span><a href="#local-6989586621679289003"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">r
PureProd ((,) j) as =&gt; r
</span><a href="#local-6989586621679289003"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-889"></span><span>
</span><span id="line-890"></span><span id="local-6989586621679289000"><span id="local-6989586621679289001"><span id="local-6989586621679289002"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="annot"><a href="#local-6989586621679289002"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679289001"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679289002"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679289000"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-891"></span><span>    </span><span id="local-6989586621679288998"><span class="annot"><span class="annottext">pureProd :: (forall (a :: k). g a) -&gt; Prod ((,) j) g '(w, a)
</span><a href="#local-6989586621679288998"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProd</span></a></span></span><span> </span><span id="local-6989586621679288997"><span class="annot"><span class="annottext">x :: forall (a :: k). g a
</span><a href="#local-6989586621679288997"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing w -&gt; g a -&gt; PTup g '(w, a)
forall j k (w :: j) (f :: k -&gt; *) (a :: k).
Sing w -&gt; f a -&gt; PTup f '(w, a)
</span><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-var">PTup</span></a></span><span> </span><span class="annot"><span class="annottext">Sing w
forall k (a :: k). SingI a =&gt; Sing a
</span><span class="hs-identifier hs-var">sing</span></span><span> </span><span class="annot"><span class="annottext">g a
forall (a :: k). g a
</span><a href="#local-6989586621679288997"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-892"></span><span>
</span><span id="line-893"></span><span id="local-6989586621679288993"><span id="local-6989586621679288994"><span id="local-6989586621679288995"><span id="local-6989586621679288996"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="annot"><a href="#local-6989586621679288996"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679288995"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288994"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProdC"><span class="hs-identifier hs-type">PureProdC</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679288993"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679288995"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679288996"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679288994"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-894"></span><span>    </span><span id="local-6989586621679288991"><span class="annot"><span class="annottext">pureProdC :: (forall (a :: k). c a =&gt; g a) -&gt; Prod ((,) j) g '(w, a)
</span><a href="#local-6989586621679288991"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProdC</span></a></span></span><span> </span><span id="local-6989586621679288990"><span class="annot"><span class="annottext">x :: forall (a :: k). c a =&gt; g a
</span><a href="#local-6989586621679288990"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing w -&gt; g a -&gt; PTup g '(w, a)
forall j k (w :: j) (f :: k -&gt; *) (a :: k).
Sing w -&gt; f a -&gt; PTup f '(w, a)
</span><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-var">PTup</span></a></span><span> </span><span class="annot"><span class="annottext">Sing w
forall k (a :: k). SingI a =&gt; Sing a
</span><span class="hs-identifier hs-var">sing</span></span><span> </span><span class="annot"><span class="annottext">g a
forall (a :: k). c a =&gt; g a
</span><a href="#local-6989586621679288990"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span><span>
</span><span id="line-895"></span><span>
</span><span id="line-896"></span><span id="local-6989586621679288985"><span id="local-6989586621679288986"><span id="local-6989586621679288987"><span id="local-6989586621679288988"><span id="local-6989586621679288989"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="#local-6989586621679288989"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679288988"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288987"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679288986"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679288989"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288988"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679288985"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679288987"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-897"></span><span>    </span><span id="local-6989586621679288983"><span class="annot"><span class="annottext">reifyConstraintProd :: Prod ((,) j) g '(w, a) -&gt; Prod ((,) j) (Dict c :. g) '(w, a)
</span><a href="#local-6989586621679288983"><span class="hs-identifier hs-var hs-var hs-var hs-var">reifyConstraintProd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-type">PTup</span></a></span><span> </span><span id="local-6989586621679288982"><span class="annot"><a href="#local-6989586621679288982"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679288981"><span class="annot"><a href="#local-6989586621679288981"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing w -&gt; Compose (Dict c) g a -&gt; PTup (Dict c :. g) '(w, a)
forall j k (w :: j) (f :: k -&gt; *) (a :: k).
Sing w -&gt; f a -&gt; PTup f '(w, a)
</span><a href="Data.Type.Functor.Product.html#PTup"><span class="hs-identifier hs-var">PTup</span></a></span><span> </span><span class="annot"><span class="annottext">Sing w
Sing w
</span><a href="#local-6989586621679288982"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">(Compose (Dict c) g a -&gt; Prod ((,) j) (Dict c :. g) '(w, a))
-&gt; Compose (Dict c) g a -&gt; Prod ((,) j) (Dict c :. g) '(w, a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Dict c (g a) -&gt; Compose (Dict c) g a
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (x :: k).
f (g x) -&gt; Compose f g x
</span><span class="hs-identifier hs-var">V.Compose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g a -&gt; Dict c (g a)
forall (c :: * -&gt; Constraint) a. c a =&gt; a -&gt; Dict c a
</span><span class="hs-identifier hs-var">Dict</span></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679288981"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-898"></span><span>
</span><span id="line-899"></span><span class="hs-comment">-- | Trivially witness the item held in an 'Identity'.</span><span>
</span><span id="line-900"></span><span class="hs-comment">--</span><span>
</span><span id="line-901"></span><span class="hs-comment">-- @since 0.1.3.0</span><span>
</span><span id="line-902"></span><span class="hs-keyword">data</span><span> </span><span id="IIdentity"><span class="annot"><a href="Data.Type.Functor.Product.html#IIdentity"><span class="hs-identifier hs-var">IIdentity</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span id="local-6989586621679288980"><span class="annot"><a href="#local-6989586621679288980"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679288980"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-903"></span><span>    </span><span id="local-6989586621679290191"><span id="IId"><span class="annot"><a href="Data.Type.Functor.Product.html#IId"><span class="hs-identifier hs-var">IId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IIdentity"><span class="hs-identifier hs-type">IIdentity</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679290191"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679290191"><span class="hs-identifier hs-type">x</span></a></span></span><span>
</span><span id="line-904"></span><span>
</span><span id="line-905"></span><span id="local-6989586621679288972"><span id="local-6989586621679288974"><span id="local-6989586621679288976"><span id="local-6989586621679288978"><span id="local-6989586621679288979"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IIdentity"><span class="hs-identifier hs-type">IIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288979"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288978"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-906"></span><span id="local-6989586621679288963"><span id="local-6989586621679288965"><span id="local-6989586621679288967"><span id="local-6989586621679288969"><span id="local-6989586621679288971"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Read</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IIdentity"><span class="hs-identifier hs-type">IIdentity</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679288971"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679288971"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-907"></span><span id="local-6989586621679288957"><span id="local-6989586621679288959"><span id="local-6989586621679288961"><span id="local-6989586621679288962"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IIdentity"><span class="hs-identifier hs-type">IIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288962"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288961"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-908"></span><span id="local-6989586621679288940"><span id="local-6989586621679288942"><span id="local-6989586621679288944"><span id="local-6989586621679288946"><span id="local-6989586621679288948"><span id="local-6989586621679288950"><span id="local-6989586621679288952"><span id="local-6989586621679288955"><span id="local-6989586621679288956"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IIdentity"><span class="hs-identifier hs-type">IIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288956"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288955"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-909"></span><span>
</span><span id="line-910"></span><span class="hs-comment">-- | Kind-indexed singleton for 'IIdentity'.  Provided as a separate data</span><span>
</span><span id="line-911"></span><span class="hs-comment">-- declaration to allow you to use these at the type level.  However, the</span><span>
</span><span id="line-912"></span><span class="hs-comment">-- main interface is still provided through the newtype wrapper 'SIIdentity'',</span><span>
</span><span id="line-913"></span><span class="hs-comment">-- which has an actual proper 'Sing' instance.</span><span>
</span><span id="line-914"></span><span class="hs-comment">--</span><span>
</span><span id="line-915"></span><span class="hs-comment">-- @since 0.1.5.0</span><span>
</span><span id="line-916"></span><span class="hs-keyword">data</span><span> </span><span id="SIIdentity"><span class="annot"><a href="Data.Type.Functor.Product.html#SIIdentity"><span class="hs-identifier hs-var">SIIdentity</span></a></span></span><span> </span><span id="local-6989586621679288939"><span class="annot"><a href="#local-6989586621679288939"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679288938"><span class="annot"><a href="#local-6989586621679288938"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IIdentity"><span class="hs-identifier hs-type">IIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288939"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288938"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-917"></span><span>    </span><span id="local-6989586621679290197"><span id="SIId"><span class="annot"><a href="Data.Type.Functor.Product.html#SIId"><span class="hs-identifier hs-var">SIId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIIdentity"><span class="hs-identifier hs-type">SIIdentity</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679290197"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679290197"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#IId"><span class="hs-identifier hs-type">IId</span></a></span></span><span>
</span><span id="line-918"></span><span>
</span><span id="line-919"></span><span id="local-6989586621679288928"><span id="local-6989586621679288930"><span id="local-6989586621679288932"><span id="local-6989586621679288934"><span id="local-6989586621679288935"><span id="local-6989586621679288936"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#SIIdentity"><span class="hs-identifier hs-type">SIIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288936"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288935"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288934"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-920"></span><span>
</span><span id="line-921"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Sing"><span class="annot"><span class="hs-identifier hs-var">Sing</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIIdentity"><span class="hs-identifier hs-type">SIIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288927"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288926"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IIdentity"><span class="hs-identifier hs-type">IIdentity</span></a></span><span> </span><span id="local-6989586621679288927"><span class="annot"><a href="#local-6989586621679288927"><span class="hs-keyword hs-type hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679288926"><span class="annot"><a href="#local-6989586621679288926"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-922"></span><span>
</span><span id="line-923"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Data.Type.Functor.Product.html#IId"><span class="hs-identifier hs-type">IId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-924"></span><span>    </span><span id="local-6989586621679288924"><span class="annot"><span class="annottext">sing :: Sing 'IId
</span><a href="#local-6989586621679288924"><span class="hs-identifier hs-var hs-var hs-var hs-var">sing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing 'IId
forall k (a :: k). SIIdentity ('Identity a) a 'IId
</span><a href="Data.Type.Functor.Product.html#SIId"><span class="hs-identifier hs-var">SIId</span></a></span><span>
</span><span id="line-925"></span><span>
</span><span id="line-926"></span><span id="local-6989586621679288922"><span id="local-6989586621679288923"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingKind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IIdentity"><span class="hs-identifier hs-type">IIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288923"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288922"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-927"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Demote"><span class="annot"><span class="hs-identifier hs-var">Demote</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IIdentity"><span class="hs-identifier hs-type">IIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288923"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288922"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IIdentity"><span class="hs-identifier hs-type">IIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288923"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288922"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-928"></span><span>    </span><span id="local-6989586621679288919"><span class="annot"><span class="annottext">fromSing :: Sing a -&gt; Demote (IIdentity as a)
</span><a href="#local-6989586621679288919"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSing</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIId"><span class="hs-identifier hs-type">SIId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Demote (IIdentity as a)
forall k (x :: k). IIdentity ('Identity x) x
</span><a href="Data.Type.Functor.Product.html#IId"><span class="hs-identifier hs-var">IId</span></a></span><span>
</span><span id="line-929"></span><span>    </span><span id="local-6989586621679288918"><span class="annot"><span class="annottext">toSing :: Demote (IIdentity as a) -&gt; SomeSing (IIdentity as a)
</span><a href="#local-6989586621679288918"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSing</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IId"><span class="hs-identifier hs-type">IId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing 'IId -&gt; SomeSing (IIdentity as a)
forall k (a :: k). Sing a -&gt; SomeSing k
</span><span class="hs-identifier hs-var">SomeSing</span></span><span> </span><span class="annot"><span class="annottext">Sing 'IId
forall k (a :: k). SIIdentity ('Identity a) a 'IId
</span><a href="Data.Type.Functor.Product.html#SIId"><span class="hs-identifier hs-var">SIId</span></a></span></span></span><span>
</span><span id="line-930"></span><span>
</span><span id="line-931"></span><span id="local-6989586621679288916"><span id="local-6989586621679288917"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SDecide</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#IIdentity"><span class="hs-identifier hs-type">IIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288917"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288916"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-932"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIId"><span class="hs-identifier hs-type">SIId</span></a></span><span> </span><span id="local-6989586621679288914"><span class="annot"><span class="annottext">%~ :: Sing a -&gt; Sing b -&gt; Decision (a :~: b)
</span><a href="#local-6989586621679288914"><span class="hs-operator hs-var hs-var hs-var hs-var">%~</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#SIId"><span class="hs-identifier hs-type">SIId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a :~: a) -&gt; Decision (a :~: a)
forall a. a -&gt; Decision a
</span><span class="hs-identifier hs-var">Proved</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span></span></span><span>
</span><span id="line-933"></span><span>
</span><span id="line-934"></span><span class="hs-comment">-- | A 'PIdentity' is a trivial functor product; it is simply the functor,</span><span>
</span><span id="line-935"></span><span class="hs-comment">-- itself, alone.  @'PIdentity' f ('Identity' a)@ is simply @f a@.  This</span><span>
</span><span id="line-936"></span><span class="hs-comment">-- may be useful in conjunction with other combinators.</span><span>
</span><span id="line-937"></span><span class="hs-keyword">data</span><span> </span><span id="PIdentity"><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-var">PIdentity</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679288913"><span class="annot"><a href="#local-6989586621679288913"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679288913"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-938"></span><span>    </span><span id="local-6989586621679288912"><span id="local-6989586621679290168"><span id="PIdentity"><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-var">PIdentity</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679290168"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288912"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290168"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679288912"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-939"></span><span>
</span><span id="line-940"></span><span id="local-6989586621679288903"><span id="local-6989586621679288905"><span id="local-6989586621679288907"><span id="local-6989586621679288909"><span id="local-6989586621679288910"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679288910"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288909"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288910"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679288909"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-941"></span><span id="local-6989586621679288893"><span id="local-6989586621679288895"><span id="local-6989586621679288897"><span id="local-6989586621679288899"><span id="local-6989586621679288901"><span id="local-6989586621679288902"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Read</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679288902"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288901"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Read</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288902"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679288901"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-942"></span><span id="local-6989586621679288887"><span id="local-6989586621679288889"><span id="local-6989586621679288891"><span id="local-6989586621679288892"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679288892"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288891"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288892"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679288891"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-943"></span><span id="local-6989586621679288870"><span id="local-6989586621679288872"><span id="local-6989586621679288874"><span id="local-6989586621679288876"><span id="local-6989586621679288878"><span id="local-6989586621679288880"><span id="local-6989586621679288882"><span id="local-6989586621679288885"><span id="local-6989586621679288886"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679288886"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288885"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288886"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679288885"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-944"></span><span>
</span><span id="line-945"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#FProd"><span class="hs-identifier hs-type">FProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-946"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Elem"><span class="annot"><a href="Data.Type.Functor.Product.html#Elem"><span class="hs-identifier hs-var">Elem</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IIdentity"><span class="hs-identifier hs-type">IIdentity</span></a></span><span>
</span><span id="line-947"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Prod"><span class="annot"><a href="Data.Type.Functor.Product.html#Prod"><span class="hs-identifier hs-var">Prod</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span>
</span><span id="line-948"></span><span>
</span><span id="line-949"></span><span>    </span><span id="local-6989586621679288856"><span class="annot"><span class="annottext">singProd :: Sing as -&gt; Prod Identity Sing as
</span><a href="#local-6989586621679288856"><span class="hs-identifier hs-var hs-var hs-var hs-var">singProd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SIdentity</span></span><span> </span><span id="local-6989586621679288854"><span class="annot"><a href="#local-6989586621679288854"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing n -&gt; PIdentity Sing ('Identity n)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PIdentity f ('Identity a)
</span><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-var">PIdentity</span></a></span><span> </span><span class="annot"><span class="annottext">Sing n
</span><a href="#local-6989586621679288854"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-950"></span><span>    </span><span id="local-6989586621679288853"><span class="annot"><span class="annottext">prodSing :: Prod Identity Sing as -&gt; Sing as
</span><a href="#local-6989586621679288853"><span class="hs-identifier hs-var hs-var hs-var hs-var">prodSing</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span id="local-6989586621679288852"><span class="annot"><a href="#local-6989586621679288852"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing a -&gt; SIdentity ('Identity a)
forall a0 (n :: a0). Sing n -&gt; SIdentity ('Identity n)
</span><span class="hs-identifier hs-var">SIdentity</span></span><span> </span><span class="annot"><span class="annottext">Sing a
</span><a href="#local-6989586621679288852"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-951"></span><span>    </span><span id="local-6989586621679288851"><span class="annot"><span class="annottext">withIndices :: Prod Identity g as -&gt; Prod Identity (Elem Identity as :*: g) as
</span><a href="#local-6989586621679288851"><span class="hs-identifier hs-var hs-var hs-var hs-var">withIndices</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span id="local-6989586621679288850"><span class="annot"><a href="#local-6989586621679288850"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:*:) (IIdentity ('Identity a)) g a
-&gt; PIdentity (IIdentity ('Identity a) :*: g) ('Identity a)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PIdentity f ('Identity a)
</span><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-var">PIdentity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IIdentity ('Identity a) a
forall k (x :: k). IIdentity ('Identity x) x
</span><a href="Data.Type.Functor.Product.html#IId"><span class="hs-identifier hs-var">IId</span></a></span><span> </span><span class="annot"><span class="annottext">IIdentity ('Identity a) a
-&gt; g a -&gt; (:*:) (IIdentity ('Identity a)) g a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679288850"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-952"></span><span>    </span><span id="local-6989586621679288849"><span class="annot"><span class="annottext">traverseProd :: (forall (a :: k). g a -&gt; m (h a))
-&gt; Prod Identity g as -&gt; m (Prod Identity h as)
</span><a href="#local-6989586621679288849"><span class="hs-identifier hs-var hs-var hs-var hs-var">traverseProd</span></a></span></span><span> </span><span id="local-6989586621679288848"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; m (h a)
</span><a href="#local-6989586621679288848"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span id="local-6989586621679288847"><span class="annot"><a href="#local-6989586621679288847"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h a -&gt; PIdentity h ('Identity a)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PIdentity f ('Identity a)
</span><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-var">PIdentity</span></a></span><span> </span><span class="annot"><span class="annottext">(h a -&gt; PIdentity h ('Identity a))
-&gt; m (h a) -&gt; m (PIdentity h ('Identity a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; m (h a)
forall (a :: k). g a -&gt; m (h a)
</span><a href="#local-6989586621679288848"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679288847"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-953"></span><span>    </span><span id="local-6989586621679288846"><span class="annot"><span class="annottext">zipWithProd :: (forall (a :: k). g a -&gt; h a -&gt; j a)
-&gt; Prod Identity g as -&gt; Prod Identity h as -&gt; Prod Identity j as
</span><a href="#local-6989586621679288846"><span class="hs-identifier hs-var hs-var hs-var hs-var">zipWithProd</span></a></span></span><span> </span><span id="local-6989586621679288845"><span class="annot"><span class="annottext">f :: forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679288845"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span id="local-6989586621679288844"><span class="annot"><a href="#local-6989586621679288844"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span id="local-6989586621679288843"><span class="annot"><a href="#local-6989586621679288843"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">j a -&gt; PIdentity j ('Identity a)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PIdentity f ('Identity a)
</span><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-var">PIdentity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g a -&gt; h a -&gt; j a
forall (a :: k). g a -&gt; h a -&gt; j a
</span><a href="#local-6989586621679288845"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679288844"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">h a
h a
</span><a href="#local-6989586621679288843"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-954"></span><span>    </span><span id="local-6989586621679288842"><span class="annot"><span class="annottext">htraverse :: Sing ff
-&gt; (forall (a :: a0). g a -&gt; m (h (ff @@ a)))
-&gt; Prod Identity g as
-&gt; m (Prod Identity h (Fmap ff as))
</span><a href="#local-6989586621679288842"><span class="hs-identifier hs-var hs-var hs-var hs-var">htraverse</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679288841"><span class="annot"><span class="annottext">f :: forall (a :: a0). g a -&gt; m (h (ff @@ a))
</span><a href="#local-6989586621679288841"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span id="local-6989586621679288840"><span class="annot"><a href="#local-6989586621679288840"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h (Apply ff a) -&gt; PIdentity h ('Identity (Apply ff a))
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PIdentity f ('Identity a)
</span><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-var">PIdentity</span></a></span><span> </span><span class="annot"><span class="annottext">(h (Apply ff a) -&gt; PIdentity h ('Identity (Apply ff a)))
-&gt; m (h (Apply ff a)) -&gt; m (PIdentity h ('Identity (Apply ff a)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; m (h (Apply ff a))
forall (a :: a0). g a -&gt; m (h (ff @@ a))
</span><a href="#local-6989586621679288841"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679288840"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-955"></span><span>    </span><span id="local-6989586621679288839"><span class="annot"><span class="annottext">ixProd :: Elem Identity as a -&gt; Lens' (Prod Identity g as) (g a)
</span><a href="#local-6989586621679288839"><span class="hs-identifier hs-var hs-var hs-var hs-var">ixProd</span></a></span></span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#IId"><span class="hs-identifier hs-type">IId</span></a></span><span> </span><span id="local-6989586621679288838"><span class="annot"><span class="annottext">f :: g a -&gt; f (g a)
</span><a href="#local-6989586621679288838"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span id="local-6989586621679288837"><span class="annot"><a href="#local-6989586621679288837"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g a -&gt; PIdentity g ('Identity a)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PIdentity f ('Identity a)
</span><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-var">PIdentity</span></a></span><span> </span><span class="annot"><span class="annottext">(g a -&gt; PIdentity g ('Identity a))
-&gt; f (g a) -&gt; f (PIdentity g ('Identity a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; f (g a)
</span><a href="#local-6989586621679288838"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g a
g a
</span><a href="#local-6989586621679288837"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-956"></span><span>    </span><span id="local-6989586621679288836"><span class="annot"><span class="annottext">toRec :: Prod Identity g as -&gt; Rec g (ToList as)
</span><a href="#local-6989586621679288836"><span class="hs-identifier hs-var hs-var hs-var hs-var">toRec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span id="local-6989586621679288835"><span class="annot"><a href="#local-6989586621679288835"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679288835"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">g a -&gt; Rec g '[] -&gt; Rec g '[a]
forall u (a :: u -&gt; *) (r :: u) (rs :: [u]).
a r -&gt; Rec a rs -&gt; Rec a (r : rs)
</span><span class="hs-operator hs-var">:&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rec g '[]
forall u (a :: u -&gt; *). Rec a '[]
</span><span class="hs-identifier hs-var">RNil</span></span><span>
</span><span id="line-957"></span><span>    </span><span id="local-6989586621679288834"><span class="annot"><span class="annottext">withPureProd :: Prod Identity g as -&gt; (PureProd Identity as =&gt; r) -&gt; r
</span><a href="#local-6989586621679288834"><span class="hs-identifier hs-var hs-var hs-var hs-var">withPureProd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679288833"><span class="annot"><span class="annottext">x :: PureProd Identity as =&gt; r
</span><a href="#local-6989586621679288833"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">r
PureProd Identity as =&gt; r
</span><a href="#local-6989586621679288833"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-958"></span><span>
</span><span id="line-959"></span><span id="local-6989586621679288832"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679288832"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-960"></span><span>    </span><span id="local-6989586621679288830"><span class="annot"><span class="annottext">pureProd :: (forall (a :: k). g a) -&gt; Prod Identity g ('Identity a)
</span><a href="#local-6989586621679288830"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProd</span></a></span></span><span> </span><span id="local-6989586621679288829"><span class="annot"><span class="annottext">x :: forall (a :: k). g a
</span><a href="#local-6989586621679288829"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g a -&gt; PIdentity g ('Identity a)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PIdentity f ('Identity a)
</span><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-var">PIdentity</span></a></span><span> </span><span class="annot"><span class="annottext">g a
forall (a :: k). g a
</span><a href="#local-6989586621679288829"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-961"></span><span>
</span><span id="line-962"></span><span id="local-6989586621679288827"><span id="local-6989586621679288828"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="#local-6989586621679288828"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288827"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProdC"><span class="hs-identifier hs-type">PureProdC</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679288828"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679288827"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-963"></span><span>    </span><span id="local-6989586621679288825"><span class="annot"><span class="annottext">pureProdC :: (forall (a :: a). c a =&gt; g a) -&gt; Prod Identity g ('Identity a)
</span><a href="#local-6989586621679288825"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureProdC</span></a></span></span><span> </span><span id="local-6989586621679288824"><span class="annot"><span class="annottext">x :: forall (a :: a). c a =&gt; g a
</span><a href="#local-6989586621679288824"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g a -&gt; PIdentity g ('Identity a)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PIdentity f ('Identity a)
</span><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-var">PIdentity</span></a></span><span> </span><span class="annot"><span class="annottext">g a
forall (a :: a). c a =&gt; g a
</span><a href="#local-6989586621679288824"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-964"></span><span>
</span><span id="line-965"></span><span id="local-6989586621679288821"><span id="local-6989586621679288822"><span id="local-6989586621679288823"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="#local-6989586621679288823"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679288822"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288821"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#ReifyConstraintProd"><span class="hs-identifier hs-type">ReifyConstraintProd</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679288823"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288822"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="annot"><a href="#local-6989586621679288821"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-966"></span><span>    </span><span id="local-6989586621679288819"><span class="annot"><span class="annottext">reifyConstraintProd :: Prod Identity g ('Identity a)
-&gt; Prod Identity (Dict c :. g) ('Identity a)
</span><a href="#local-6989586621679288819"><span class="hs-identifier hs-var hs-var hs-var hs-var">reifyConstraintProd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-type">PIdentity</span></a></span><span> </span><span id="local-6989586621679288818"><span class="annot"><a href="#local-6989586621679288818"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Compose (Dict c) g a -&gt; Prod Identity (Dict c :. g) ('Identity a)
forall a (f :: a -&gt; *) (a :: a). f a -&gt; PIdentity f ('Identity a)
</span><a href="Data.Type.Functor.Product.html#PIdentity"><span class="hs-identifier hs-var">PIdentity</span></a></span><span> </span><span class="annot"><span class="annottext">(Compose (Dict c) g a -&gt; Prod Identity (Dict c :. g) ('Identity a))
-&gt; Compose (Dict c) g a
-&gt; Prod Identity (Dict c :. g) ('Identity a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Dict c (g a) -&gt; Compose (Dict c) g a
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (x :: k).
f (g x) -&gt; Compose f g x
</span><span class="hs-identifier hs-var">V.Compose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g a -&gt; Dict c (g a)
forall (c :: * -&gt; Constraint) a. c a =&gt; a -&gt; Dict c a
</span><span class="hs-identifier hs-var">Dict</span></span><span> </span><span class="annot"><span class="annottext">g a
</span><a href="#local-6989586621679288818"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-967"></span><span>
</span><span id="line-968"></span><span class="hs-comment">-- | Produce an 'Index' from an 'RElem' constraint.</span><span>
</span><span id="line-969"></span><span class="annot"><a href="Data.Type.Functor.Product.html#rElemIndex"><span class="hs-identifier hs-type">rElemIndex</span></a></span><span>
</span><span id="line-970"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679288817"><span class="annot"><a href="#local-6989586621679288817"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621679288816"><span class="annot"><a href="#local-6989586621679288816"><span class="hs-identifier hs-type">rs</span></a></span></span><span> </span><span id="local-6989586621679288815"><span class="annot"><a href="#local-6989586621679288815"><span class="hs-identifier hs-type">i</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RElem</span></span><span> </span><span class="annot"><a href="#local-6989586621679288817"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288816"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288815"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#PureProd"><span class="hs-identifier hs-type">PureProd</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679288816"><span class="hs-identifier hs-type">rs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-971"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288816"><span class="hs-identifier hs-type">rs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288817"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-972"></span><span id="rElemIndex"><span class="annot"><span class="annottext">rElemIndex :: Index rs r
</span><a href="Data.Type.Functor.Product.html#rElemIndex"><span class="hs-identifier hs-var hs-var">rElemIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rec (Index rs) rs -&gt; Index rs r
forall k (record :: (k -&gt; *) -&gt; [k] -&gt; *) (r :: k) (r' :: k)
       (rs :: [k]) (rs' :: [k]) (i :: Nat) (f :: k -&gt; *).
(RecElem record r r' rs rs' i, RecElemFCtx record f, r ~ r') =&gt;
record f rs -&gt; f r
</span><span class="hs-identifier hs-var">rgetC</span></span><span> </span><span class="annot"><span class="annottext">Rec (Index rs) rs
forall k (f :: * -&gt; *) (as :: f k).
(FProd f, PureProd f as) =&gt;
Prod f (Elem f as) as
</span><a href="Data.Type.Functor.Product.html#indices"><span class="hs-identifier hs-var">indices</span></a></span><span>
</span><span id="line-973"></span><span>
</span><span id="line-974"></span><span class="hs-comment">-- | Use an 'Index' to inject an @f a@ into a 'CoRec'.</span><span>
</span><span id="line-975"></span><span class="annot"><a href="Data.Type.Functor.Product.html#toCoRec"><span class="hs-identifier hs-type">toCoRec</span></a></span><span>
</span><span id="line-976"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679290065"><span class="annot"><a href="#local-6989586621679290065"><span class="hs-keyword hs-type">as</span></a></span></span><span> </span><span id="local-6989586621679290064"><span class="annot"><a href="#local-6989586621679290064"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679290063"><span class="annot"><a href="#local-6989586621679290063"><span class="hs-identifier hs-type">f</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RecApplicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679290065"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FoldRec</span></span><span> </span><span class="annot"><a href="#local-6989586621679290065"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290065"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-977"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290065"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290064"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-978"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679290063"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290064"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-979"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CoRec</span></span><span> </span><span class="annot"><a href="#local-6989586621679290063"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290065"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-980"></span><span id="toCoRec"><span class="annot"><span class="annottext">toCoRec :: Index as a -&gt; f a -&gt; CoRec f as
</span><a href="Data.Type.Functor.Product.html#toCoRec"><span class="hs-identifier hs-var hs-var">toCoRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-981"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#IZ"><span class="hs-identifier hs-type">IZ</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">f a -&gt; CoRec f as
forall k (a1 :: k) (b :: [k]) (a :: k -&gt; *).
RElem a1 b (RIndex a1 b) =&gt;
a a1 -&gt; CoRec a b
</span><span class="hs-identifier hs-var">CoRec</span></span><span>
</span><span id="line-982"></span><span>    </span><span class="annot"><a href="Data.Type.Functor.Product.html#IS"><span class="hs-identifier hs-type">IS</span></a></span><span> </span><span id="local-6989586621679288812"><span class="annot"><span class="annottext">i :: Index bs a
</span><a href="#local-6989586621679288812"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679288811"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679288811"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (CoRec f as) -&gt; CoRec f as
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (CoRec f as) -&gt; CoRec f as)
-&gt; (Rec (Maybe :. f) as -&gt; Maybe (CoRec f as))
-&gt; Rec (Maybe :. f) as
-&gt; CoRec f as
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rec (Maybe :. f) as -&gt; Maybe (CoRec f as)
forall k (ts :: [k]) (f :: k -&gt; *).
FoldRec ts ts =&gt;
Rec (Maybe :. f) ts -&gt; Maybe (CoRec f ts)
</span><span class="hs-identifier hs-var">firstField</span></span><span> </span><span class="annot"><span class="annottext">(Rec (Maybe :. f) as -&gt; CoRec f as)
-&gt; Rec (Maybe :. f) as -&gt; CoRec f as
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (a :: k). Index (b : bs) a -&gt; (:.) Maybe f a)
-&gt; Prod [] (Index (b : bs)) (b : bs)
-&gt; Prod [] (Maybe :. f) (b : bs)
forall k (f :: * -&gt; *) (g :: k -&gt; *) (h :: k -&gt; *) (as :: f k).
FProd f =&gt;
(forall (a :: k). g a -&gt; h a) -&gt; Prod f g as -&gt; Prod f h as
</span><a href="Data.Type.Functor.Product.html#mapProd"><span class="hs-identifier hs-var">mapProd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index bs a -&gt; f a -&gt; Index (b : bs) a -&gt; Compose Maybe f a
forall (bs :: [k]) (b :: k) (c :: k).
Index bs a -&gt; f a -&gt; Index (b : bs) c -&gt; Compose Maybe f c
</span><a href="#local-6989586621679288808"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Index bs a
</span><a href="#local-6989586621679288812"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679288811"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Prod [] (Index (b : bs)) (b : bs)
forall k (f :: * -&gt; *) (as :: f k).
(FProd f, PureProd f as) =&gt;
Prod f (Elem f as) as
</span><a href="Data.Type.Functor.Product.html#indices"><span class="hs-identifier hs-var">indices</span></a></span><span>
</span><span id="line-983"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-984"></span><span>    </span><span id="local-6989586621679290074"><span id="local-6989586621679290075"><span id="local-6989586621679290076"><span class="annot"><a href="#local-6989586621679288808"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290076"><span class="hs-identifier hs-type">bs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290064"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679290063"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290064"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679290075"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679290076"><span class="hs-identifier hs-type">bs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679290074"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">V.Compose</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679290063"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679290074"><span class="hs-identifier hs-type">c</span></a></span></span></span></span><span>
</span><span id="line-985"></span><span>    </span><span id="local-6989586621679288808"><span class="annot"><span class="annottext">go :: Index bs a -&gt; f a -&gt; Index (b : bs) c -&gt; Compose Maybe f c
</span><a href="#local-6989586621679288808"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679288807"><span class="annot"><span class="annottext">i :: Index bs a
</span><a href="#local-6989586621679288807"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679288806"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679288806"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679288805"><span class="annot"><span class="annottext">j :: Index (b : bs) c
</span><a href="#local-6989586621679288805"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Index (b : bs) a -&gt; Index (b : bs) c -&gt; Maybe (a :~: c)
forall k (as :: [k]) (a :: k) (b :: k).
Index as a -&gt; Index as b -&gt; Maybe (a :~: b)
</span><a href="Data.Type.Functor.Product.html#sameIndexVal"><span class="hs-identifier hs-var">sameIndexVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index bs a -&gt; Index (b : bs) a
forall k (bs :: [k]) (a :: k) (b :: k).
Index bs a -&gt; Index (b : bs) a
</span><a href="Data.Type.Functor.Product.html#IS"><span class="hs-identifier hs-var">IS</span></a></span><span> </span><span class="annot"><span class="annottext">Index bs a
</span><a href="#local-6989586621679288807"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Index (b : bs) c
</span><a href="#local-6989586621679288805"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-986"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Refl</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (f a) -&gt; Compose Maybe f a
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (x :: k).
f (g x) -&gt; Compose f g x
</span><span class="hs-identifier hs-var">V.Compose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f a -&gt; Maybe (f a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679288806"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-987"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><span class="annottext">Maybe (f c) -&gt; Compose Maybe f c
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (x :: k).
f (g x) -&gt; Compose f g x
</span><span class="hs-identifier hs-var">V.Compose</span></span><span>  </span><span class="annot"><span class="annottext">Maybe (f c)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-988"></span><span>
</span><span id="line-989"></span><span class="hs-comment">-- | If we have @'Index' as a@, we should also be able to create an item</span><span>
</span><span id="line-990"></span><span class="hs-comment">-- that would require @'RElem' a as ('V.RIndex' as a)@.  Along with</span><span>
</span><span id="line-991"></span><span class="hs-comment">-- 'rElemIndex', this essentially converts between the indexing system in</span><span>
</span><span id="line-992"></span><span class="hs-comment">-- this library and the indexing system of /vinyl/.</span><span>
</span><span id="line-993"></span><span id="local-6989586621679288801"><span id="local-6989586621679288802"><span id="local-6989586621679288803"><span id="local-6989586621679288804"><span class="annot"><a href="Data.Type.Functor.Product.html#indexRElem"><span class="hs-identifier hs-type">indexRElem</span></a></span><span>
</span><span id="line-994"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SDecide</span></span><span> </span><span class="annot"><a href="#local-6989586621679288804"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SingI</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679288803"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679288804"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RecApplicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679288802"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FoldRec</span></span><span> </span><span class="annot"><a href="#local-6989586621679288802"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288802"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-995"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Type.Functor.Product.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288802"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288803"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-996"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RElem</span></span><span> </span><span class="annot"><a href="#local-6989586621679288803"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288802"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V.RIndex</span></span><span> </span><span class="annot"><a href="#local-6989586621679288803"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679288802"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679288801"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-997"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679288801"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-998"></span><span id="indexRElem"><span class="annot"><span class="annottext">indexRElem :: Index as a -&gt; (RElem a as (RIndex a as) =&gt; r) -&gt; r
</span><a href="Data.Type.Functor.Product.html#indexRElem"><span class="hs-identifier hs-var hs-var">indexRElem</span></a></span></span><span> </span><span id="local-6989586621679288800"><span class="annot"><span class="annottext">i :: Index as a
</span><a href="#local-6989586621679288800"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Index as a -&gt; Sing a -&gt; CoRec Sing as
forall k (as :: [k]) (a :: k) (f :: k -&gt; *).
(RecApplicative as, FoldRec as as) =&gt;
Index as a -&gt; f a -&gt; CoRec f as
</span><a href="Data.Type.Functor.Product.html#toCoRec"><span class="hs-identifier hs-var">toCoRec</span></a></span><span> </span><span class="annot"><span class="annottext">Index as a
</span><a href="#local-6989586621679288800"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Sing a
</span><a href="#local-6989586621679288799"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-999"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">CoRec</span></span><span> </span><span id="local-6989586621679288798"><span class="annot"><span class="annottext">y :: Sing a1
</span><a href="#local-6989586621679288798"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sing a
</span><a href="#local-6989586621679288799"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Sing a -&gt; Sing a1 -&gt; Decision (a :~: a1)
forall k (a :: k) (b :: k).
SDecide k =&gt;
Sing a -&gt; Sing b -&gt; Decision (a :~: b)
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">Sing a1
</span><a href="#local-6989586621679288798"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1000"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Proved</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Refl</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(RElem a as (RIndex a as) =&gt; r) -&gt; r
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-1001"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Disproved</span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; (RElem a as (RIndex a as) =&gt; r) -&gt; r
forall a. String -&gt; a
</span><span class="hs-identifier hs-var">errorWithoutStackTrace</span></span><span> </span><span class="annot"><span class="hs-string">&quot;why :|&quot;</span></span><span>
</span><span id="line-1002"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1003"></span><span>    </span><span id="local-6989586621679288799"><span class="annot"><span class="annottext">x :: Sing a
</span><a href="#local-6989586621679288799"><span class="hs-identifier hs-var hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sing a
forall k (a :: k). SingI a =&gt; Sing a
</span><span class="hs-identifier hs-var">sing</span></span><span>
</span><span id="line-1004"></span></pre></body></html>